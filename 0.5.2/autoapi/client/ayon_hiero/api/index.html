<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=prev href=../addon.html><link rel=next href=constants.html><link rel=icon href=../../../../img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.9"><title>api - ayon-hiero</title><link rel=stylesheet href=../../../../assets/stylesheets/main.4af4bdda.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><script src=https://unpkg.com/iframe-worker/shim></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../css/custom.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#client.ayon_hiero.api class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../index.html title=ayon-hiero class="md-header__button md-logo" aria-label=ayon-hiero data-md-component=logo> <img src=../../../../img/ay-symbol-blackw-full.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ayon-hiero </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> api </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ynput/ayon-hiero title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../index.html title=ayon-hiero class="md-nav__button md-logo" aria-label=ayon-hiero data-md-component=logo> <img src=../../../../img/ay-symbol-blackw-full.png alt=logo> </a> ayon-hiero </label> <div class=md-nav__source> <a href=https://github.com/ynput/ayon-hiero title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../../license.html class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> client </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> client </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> ayon_hiero </span> </a> <label class="md-nav__link " for=__nav_3_1_1 id=__nav_3_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1> <span class="md-nav__icon md-icon"></span> ayon_hiero </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../addon.html class=md-nav__link> <span class=md-ellipsis> addon </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_2 checked> <div class="md-nav__link md-nav__container"> <a href=index.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> api </span> </a> <label class="md-nav__link md-nav__link--active" for=__nav_3_1_1_2 id=__nav_3_1_1_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_1_1_2_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_2> <span class="md-nav__icon md-icon"></span> api </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=constants.html class=md-nav__link> <span class=md-ellipsis> constants </span> </a> </li> <li class=md-nav__item> <a href=events.html class=md-nav__link> <span class=md-ellipsis> events </span> </a> </li> <li class=md-nav__item> <a href=launchforhiero.html class=md-nav__link> <span class=md-ellipsis> launchforhiero </span> </a> </li> <li class=md-nav__item> <a href=lib.html class=md-nav__link> <span class=md-ellipsis> lib </span> </a> </li> <li class=md-nav__item> <a href=menu.html class=md-nav__link> <span class=md-ellipsis> menu </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=otio/hiero_export.html class=md-nav__link> <span class=md-ellipsis> otio </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=pipeline.html class=md-nav__link> <span class=md-ellipsis> pipeline </span> </a> </li> <li class=md-nav__item> <a href=plugin.html class=md-nav__link> <span class=md-ellipsis> plugin </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=startup/Python/Startup/SpreadsheetExport.html class=md-nav__link> <span class=md-ellipsis> startup </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=tags.html class=md-nav__link> <span class=md-ellipsis> tags </span> </a> </li> <li class=md-nav__item> <a href=workio.html class=md-nav__link> <span class=md-ellipsis> workio </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../plugins/create/create_shot_clip.html class=md-nav__link> <span class=md-ellipsis> plugins </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../vendor/google/protobuf/any_pb2.html class=md-nav__link> <span class=md-ellipsis> vendor </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../version.html class=md-nav__link> <span class=md-ellipsis> version </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../server/settings/common.html class=md-nav__link> <span class=md-ellipsis> server </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_hiero.api class=md-nav__link> <span class=md-ellipsis> api </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.ClipLoader class=md-nav__link> <span class=md-ellipsis> ClipLoader </span> </a> <nav class=md-nav aria-label=ClipLoader> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_hiero.api.ClipLoader.__init__ class=md-nav__link> <span class=md-ellipsis> __init__ </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.CreatorWidget class=md-nav__link> <span class=md-ellipsis> CreatorWidget </span> </a> <nav class=md-nav aria-label=CreatorWidget> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_hiero.api.CreatorWidget.populate_widgets class=md-nav__link> <span class=md-ellipsis> populate_widgets </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.HieroHost class=md-nav__link> <span class=md-ellipsis> HieroHost </span> </a> <nav class=md-nav aria-label=HieroHost> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_hiero.api.HieroHost.install class=md-nav__link> <span class=md-ellipsis> install </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.PublishClip class=md-nav__link> <span class=md-ellipsis> PublishClip </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.SequenceLoader class=md-nav__link> <span class=md-ellipsis> SequenceLoader </span> </a> <nav class=md-nav aria-label=SequenceLoader> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_hiero.api.SequenceLoader.remove class=md-nav__link> <span class=md-ellipsis> remove </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.SequenceLoader.update class=md-nav__link> <span class=md-ellipsis> update </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.apply_colorspace_project class=md-nav__link> <span class=md-ellipsis> apply_colorspace_project </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.containerise class=md-nav__link> <span class=md-ellipsis> containerise </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.create_bin class=md-nav__link> <span class=md-ellipsis> create_bin </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.create_nuke_workfile_clips class=md-nav__link> <span class=md-ellipsis> create_nuke_workfile_clips </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.get_current_sequence class=md-nav__link> <span class=md-ellipsis> get_current_sequence </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.get_current_track class=md-nav__link> <span class=md-ellipsis> get_current_track </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.get_sequence_pattern_and_padding class=md-nav__link> <span class=md-ellipsis> get_sequence_pattern_and_padding </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.get_track_ayon_data class=md-nav__link> <span class=md-ellipsis> get_track_ayon_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.get_track_ayon_tag class=md-nav__link> <span class=md-ellipsis> get_track_ayon_tag </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.get_track_item_tags class=md-nav__link> <span class=md-ellipsis> get_track_item_tags </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.get_track_items class=md-nav__link> <span class=md-ellipsis> get_track_items </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.get_trackitem_ayon_data class=md-nav__link> <span class=md-ellipsis> get_trackitem_ayon_data </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.get_trackitem_ayon_tag class=md-nav__link> <span class=md-ellipsis> get_trackitem_ayon_tag </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.imprint class=md-nav__link> <span class=md-ellipsis> imprint </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.launch_workfiles_app class=md-nav__link> <span class=md-ellipsis> launch_workfiles_app </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.ls class=md-nav__link> <span class=md-ellipsis> ls </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.maintained_selection class=md-nav__link> <span class=md-ellipsis> maintained_selection </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.open_file class=md-nav__link> <span class=md-ellipsis> open_file </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.parse_container class=md-nav__link> <span class=md-ellipsis> parse_container </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.publish class=md-nav__link> <span class=md-ellipsis> publish </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.reload_config class=md-nav__link> <span class=md-ellipsis> reload_config </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.reset_selection class=md-nav__link> <span class=md-ellipsis> reset_selection </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.set_track_ayon_tag class=md-nav__link> <span class=md-ellipsis> set_track_ayon_tag </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.set_trackitem_ayon_tag class=md-nav__link> <span class=md-ellipsis> set_trackitem_ayon_tag </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.api.update_container class=md-nav__link> <span class=md-ellipsis> update_container </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>api</h1> <div class="doc doc-object doc-module"> <a id=client.ayon_hiero.api></a> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=client.ayon_hiero.api.ClipLoader class="doc doc-heading"> <code>ClipLoader</code> </h2> <div class="doc doc-contents "> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/plugin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span>
<span class=normal>588</span>
<span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>ClipLoader</span><span class=p>:</span>

    <span class=n>active_bin</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>data</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=bp>cls</span><span class=p>,</span> <span class=n>context</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=o>**</span><span class=n>options</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Initialize object</span>

<span class=sd>        Arguments:</span>
<span class=sd>            cls (ayon_core.api.Loader): plugin object</span>
<span class=sd>            context (dict): loader plugin context</span>
<span class=sd>            options (dict)[optional]: possible keys:</span>
<span class=sd>                projectBinPath: &quot;path/to/binItem&quot;</span>

<span class=sd>        &quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=vm>__dict__</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=bp>cls</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>context</span> <span class=o>=</span> <span class=n>context</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>active_project</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_current_project</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>fname</span> <span class=o>=</span> <span class=n>path</span>

        <span class=c1># try to get value from options or evaluate key value for `handles`</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>with_handles</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handles&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>bool</span><span class=p>(</span>
            <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handles&quot;</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>True</span><span class=p>)</span>
        <span class=c1># try to get value from options or evaluate key value for `load_how`</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>sequencial_load</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;sequentially&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>bool</span><span class=p>(</span>
            <span class=s2>&quot;Sequentially in order&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;load_how&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>))</span>
        <span class=c1># try to get value from options or evaluate key value for `load_to`</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>new_sequence</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;newSequence&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>bool</span><span class=p>(</span>
            <span class=s2>&quot;New timeline&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;load_to&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>))</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>clip_name_template</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
            <span class=s2>&quot;clipNameTemplate&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=s2>&quot;</span><span class=si>{asset}</span><span class=s2>_</span><span class=si>{subset}</span><span class=s2>_</span><span class=si>{representation}</span><span class=s2>&quot;</span>
        <span class=k>assert</span> <span class=bp>self</span><span class=o>.</span><span class=n>_populate_data</span><span class=p>(),</span> <span class=nb>str</span><span class=p>(</span>
            <span class=s2>&quot;Cannot Load selected data, look into database &quot;</span>
            <span class=s2>&quot;or call your supervisor&quot;</span><span class=p>)</span>

        <span class=c1># inject folder data to representation dict</span>
        <span class=n>folder_entity</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>context</span><span class=p>[</span><span class=s2>&quot;folder&quot;</span><span class=p>]</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>folder_entity</span><span class=p>[</span><span class=s2>&quot;attrib&quot;</span><span class=p>]</span>

        <span class=c1># add active components to class</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>new_sequence</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;sequence&quot;</span><span class=p>):</span>
                <span class=c1># if multiselection is set then use options sequence</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;sequence&quot;</span><span class=p>]</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=c1># create new sequence</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_current_sequence</span><span class=p>(</span><span class=n>new</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span><span class=o>.</span><span class=n>setFramerate</span><span class=p>(</span>
                    <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TimeBase</span><span class=o>.</span><span class=n>fromString</span><span class=p>(</span>
                        <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>][</span><span class=s2>&quot;fps&quot;</span><span class=p>])))</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_current_sequence</span><span class=p>()</span>

        <span class=k>if</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;track&quot;</span><span class=p>):</span>
            <span class=c1># if multiselection is set then use options track</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>active_track</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;track&quot;</span><span class=p>]</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>active_track</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_current_track</span><span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;track_name&quot;</span><span class=p>])</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_populate_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Gets context and convert it to self.data</span>
<span class=sd>        data structure:</span>
<span class=sd>            {</span>
<span class=sd>                &quot;name&quot;: &quot;assetName_productName_representationName&quot;</span>
<span class=sd>                &quot;path&quot;: &quot;path/to/file/created/by/get_repr..&quot;,</span>
<span class=sd>                &quot;binPath&quot;: &quot;projectBinPath&quot;,</span>
<span class=sd>            }</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># create name</span>
        <span class=nb>repr</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>context</span><span class=p>[</span><span class=s2>&quot;representation&quot;</span><span class=p>]</span>
        <span class=n>repr_cntx</span> <span class=o>=</span> <span class=nb>repr</span><span class=p>[</span><span class=s2>&quot;context&quot;</span><span class=p>]</span>
        <span class=n>folder_path</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>context</span><span class=p>[</span><span class=s2>&quot;folder&quot;</span><span class=p>][</span><span class=s2>&quot;path&quot;</span><span class=p>]</span>
        <span class=n>product_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>context</span><span class=p>[</span><span class=s2>&quot;product&quot;</span><span class=p>][</span><span class=s2>&quot;name&quot;</span><span class=p>]</span>
        <span class=n>representation</span> <span class=o>=</span> <span class=nb>repr</span><span class=p>[</span><span class=s2>&quot;name&quot;</span><span class=p>]</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;clip_name&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>clip_name_template</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=o>**</span><span class=n>repr_cntx</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;track_name&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;_&quot;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=n>product_name</span><span class=p>,</span> <span class=n>representation</span><span class=p>])</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;versionAttributes&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>context</span><span class=p>[</span><span class=s2>&quot;version&quot;</span><span class=p>][</span><span class=s2>&quot;attrib&quot;</span><span class=p>]</span>
        <span class=c1># gets file path</span>
        <span class=n>file</span> <span class=o>=</span> <span class=n>get_representation_path_from_context</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>context</span><span class=p>)</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>file</span><span class=p>:</span>
            <span class=n>repr_id</span> <span class=o>=</span> <span class=nb>repr</span><span class=p>[</span><span class=s2>&quot;id&quot;</span><span class=p>]</span>
            <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span>
                <span class=s2>&quot;Representation id `</span><span class=si>{}</span><span class=s2>` is failing to load&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>repr_id</span><span class=p>))</span>
            <span class=k>return</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\\</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;/&quot;</span><span class=p>)</span>

        <span class=c1># convert to hashed path</span>
        <span class=k>if</span> <span class=n>repr_cntx</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;frame&quot;</span><span class=p>):</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_fix_path_hashes</span><span class=p>()</span>

        <span class=c1># solve project bin structure path</span>
        <span class=n>hierarchy</span> <span class=o>=</span> <span class=s2>&quot;Loader</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>folder_path</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;binPath&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>hierarchy</span>

        <span class=k>return</span> <span class=kc>True</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_fix_path_hashes</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Convert file path where it is needed padding with hashes</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>file</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>]</span>
        <span class=k>if</span> <span class=s2>&quot;#&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>file</span><span class=p>:</span>
            <span class=n>frame</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>context</span><span class=p>[</span><span class=s2>&quot;representation&quot;</span><span class=p>][</span><span class=s2>&quot;context&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;frame&quot;</span><span class=p>)</span>
            <span class=n>padding</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>frame</span><span class=p>)</span>
            <span class=n>file</span> <span class=o>=</span> <span class=n>file</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>frame</span><span class=p>,</span> <span class=s2>&quot;#&quot;</span> <span class=o>*</span> <span class=n>padding</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>file</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_make_track_item</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>source_bin_item</span><span class=p>,</span> <span class=n>audio</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Create track item with &quot;&quot;&quot;</span>

        <span class=n>clip</span> <span class=o>=</span> <span class=n>source_bin_item</span><span class=o>.</span><span class=n>activeItem</span><span class=p>()</span>

        <span class=c1># add to track as clip item</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>audio</span><span class=p>:</span>
            <span class=n>track_item</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TrackItem</span><span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;clip_name&quot;</span><span class=p>],</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TrackItem</span><span class=o>.</span><span class=n>kVideo</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>track_item</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TrackItem</span><span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;clip_name&quot;</span><span class=p>],</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TrackItem</span><span class=o>.</span><span class=n>kAudio</span><span class=p>)</span>

        <span class=n>track_item</span><span class=o>.</span><span class=n>setSource</span><span class=p>(</span><span class=n>clip</span><span class=p>)</span>
        <span class=n>track_item</span><span class=o>.</span><span class=n>setSourceIn</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>handle_start</span><span class=p>)</span>
        <span class=n>track_item</span><span class=o>.</span><span class=n>setTimelineIn</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>timeline_in</span><span class=p>)</span>
        <span class=n>track_item</span><span class=o>.</span><span class=n>setSourceOut</span><span class=p>((</span><span class=bp>self</span><span class=o>.</span><span class=n>media_duration</span><span class=p>)</span> <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>handle_end</span><span class=p>)</span>
        <span class=n>track_item</span><span class=o>.</span><span class=n>setTimelineOut</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>timeline_out</span><span class=p>)</span>
        <span class=n>track_item</span><span class=o>.</span><span class=n>setPlaybackSpeed</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>active_track</span><span class=o>.</span><span class=n>addTrackItem</span><span class=p>(</span><span class=n>track_item</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>track_item</span>

    <span class=k>def</span><span class=w> </span><span class=nf>load</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># create project bin for the media to be imported into</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>active_bin</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>create_bin</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;binPath&quot;</span><span class=p>])</span>

        <span class=c1># create mediaItem in active project bin</span>
        <span class=c1># create clip media</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>media</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>MediaSource</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;path&quot;</span><span class=p>])</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>media_duration</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>media</span><span class=o>.</span><span class=n>duration</span><span class=p>())</span>

        <span class=c1># get handles</span>
        <span class=n>version_attributes</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;versionAttributes&quot;</span><span class=p>]</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>handle_start</span> <span class=o>=</span> <span class=n>version_attributes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handleStart&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>handle_end</span> <span class=o>=</span> <span class=n>version_attributes</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handleEnd&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>handle_start</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>handle_start</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>][</span><span class=s2>&quot;handleStart&quot;</span><span class=p>]</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>handle_end</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>handle_end</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>][</span><span class=s2>&quot;handleEnd&quot;</span><span class=p>]</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>handle_start</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>handle_start</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>handle_end</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>handle_end</span><span class=p>)</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>sequencial_load</span><span class=p>:</span>
            <span class=n>last_track_item</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_track_items</span><span class=p>(</span>
                <span class=n>sequence_name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span><span class=o>.</span><span class=n>name</span><span class=p>(),</span>
                <span class=n>track_name</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>active_track</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>
            <span class=p>)</span>
            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>last_track_item</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                <span class=n>last_timeline_out</span> <span class=o>=</span> <span class=mi>0</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>last_track_item</span> <span class=o>=</span> <span class=n>last_track_item</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
                <span class=n>last_timeline_out</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>last_track_item</span><span class=o>.</span><span class=n>timelineOut</span><span class=p>())</span> <span class=o>+</span> <span class=mi>1</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>timeline_in</span> <span class=o>=</span> <span class=n>last_timeline_out</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>timeline_out</span> <span class=o>=</span> <span class=n>last_timeline_out</span> <span class=o>+</span> <span class=nb>int</span><span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>][</span><span class=s2>&quot;clipOut&quot;</span><span class=p>]</span>
                <span class=o>-</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>][</span><span class=s2>&quot;clipIn&quot;</span><span class=p>])</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>timeline_in</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>][</span><span class=s2>&quot;clipIn&quot;</span><span class=p>])</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>timeline_out</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>][</span><span class=s2>&quot;clipOut&quot;</span><span class=p>])</span>

        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;__ self.timeline_in: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>timeline_in</span><span class=p>))</span>
        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;__ self.timeline_out: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>timeline_out</span><span class=p>))</span>

        <span class=c1># check if slate is included</span>
        <span class=n>slate_on</span> <span class=o>=</span> <span class=s2>&quot;slate&quot;</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>context</span><span class=p>[</span><span class=s2>&quot;version&quot;</span><span class=p>][</span><span class=s2>&quot;data&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
            <span class=s2>&quot;families&quot;</span><span class=p>,</span> <span class=p>[])</span>
        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;__ slate_on: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>slate_on</span><span class=p>))</span>

        <span class=c1># if slate is on then remove the slate frame from beginning</span>
        <span class=k>if</span> <span class=n>slate_on</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>media_duration</span> <span class=o>-=</span> <span class=mi>1</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>handle_start</span> <span class=o>+=</span> <span class=mi>1</span>

        <span class=c1># create Clip from Media</span>
        <span class=n>clip</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>Clip</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>media</span><span class=p>)</span>
        <span class=n>clip</span><span class=o>.</span><span class=n>setName</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;clip_name&quot;</span><span class=p>])</span>

        <span class=c1># add Clip to bin if not there yet</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;clip_name&quot;</span><span class=p>]</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>[</span>
                <span class=n>b</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>active_bin</span><span class=o>.</span><span class=n>items</span><span class=p>()]:</span>
            <span class=n>bin_item</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>BinItem</span><span class=p>(</span><span class=n>clip</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>active_bin</span><span class=o>.</span><span class=n>addItem</span><span class=p>(</span><span class=n>bin_item</span><span class=p>)</span>

        <span class=c1># just make sure the clip is created</span>
        <span class=c1># there were some cases were hiero was not creating it</span>
        <span class=n>source_bin_item</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>active_bin</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;clip_name&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=n>item</span><span class=o>.</span><span class=n>name</span><span class=p>():</span>
                <span class=n>source_bin_item</span> <span class=o>=</span> <span class=n>item</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>source_bin_item</span><span class=p>:</span>
            <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Problem with created Source clip: `</span><span class=si>{}</span><span class=s2>`&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;clip_name&quot;</span><span class=p>]))</span>

        <span class=c1># include handles</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>with_handles</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>timeline_in</span> <span class=o>-=</span> <span class=bp>self</span><span class=o>.</span><span class=n>handle_start</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>timeline_out</span> <span class=o>+=</span> <span class=bp>self</span><span class=o>.</span><span class=n>handle_end</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>handle_start</span> <span class=o>=</span> <span class=mi>0</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>handle_end</span> <span class=o>=</span> <span class=mi>0</span>

        <span class=c1># make track item from source in bin as item</span>
        <span class=n>track_item</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_make_track_item</span><span class=p>(</span><span class=n>source_bin_item</span><span class=p>)</span>

        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Loading clips: `</span><span class=si>{}</span><span class=s2>`&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;clip_name&quot;</span><span class=p>]))</span>
        <span class=k>return</span> <span class=n>track_item</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.api.ClipLoader.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>context</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=o>**</span><span class=n>options</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Initialize object</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>cls</code> </td> <td> <code><span title=ayon_core.api.Loader>Loader</span></code> </td> <td> <div class=doc-md-description> <p>plugin object</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>context</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>loader plugin context</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>options</code> </td> <td> <code>dict)[optional]</code> </td> <td> <div class=doc-md-description> <p>possible keys: projectBinPath: "path/to/binItem"</p> </div> </td> <td> <code>{}</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/plugin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=bp>cls</span><span class=p>,</span> <span class=n>context</span><span class=p>,</span> <span class=n>path</span><span class=p>,</span> <span class=o>**</span><span class=n>options</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot; Initialize object</span>

<span class=sd>    Arguments:</span>
<span class=sd>        cls (ayon_core.api.Loader): plugin object</span>
<span class=sd>        context (dict): loader plugin context</span>
<span class=sd>        options (dict)[optional]: possible keys:</span>
<span class=sd>            projectBinPath: &quot;path/to/binItem&quot;</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=vm>__dict__</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=bp>cls</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>context</span> <span class=o>=</span> <span class=n>context</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>active_project</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_current_project</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>fname</span> <span class=o>=</span> <span class=n>path</span>

    <span class=c1># try to get value from options or evaluate key value for `handles`</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>with_handles</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handles&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>bool</span><span class=p>(</span>
        <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handles&quot;</span><span class=p>)</span> <span class=ow>is</span> <span class=kc>True</span><span class=p>)</span>
    <span class=c1># try to get value from options or evaluate key value for `load_how`</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>sequencial_load</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;sequentially&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>bool</span><span class=p>(</span>
        <span class=s2>&quot;Sequentially in order&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;load_how&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>))</span>
    <span class=c1># try to get value from options or evaluate key value for `load_to`</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>new_sequence</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;newSequence&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=nb>bool</span><span class=p>(</span>
        <span class=s2>&quot;New timeline&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;load_to&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>))</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>clip_name_template</span> <span class=o>=</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
        <span class=s2>&quot;clipNameTemplate&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=s2>&quot;</span><span class=si>{asset}</span><span class=s2>_</span><span class=si>{subset}</span><span class=s2>_</span><span class=si>{representation}</span><span class=s2>&quot;</span>
    <span class=k>assert</span> <span class=bp>self</span><span class=o>.</span><span class=n>_populate_data</span><span class=p>(),</span> <span class=nb>str</span><span class=p>(</span>
        <span class=s2>&quot;Cannot Load selected data, look into database &quot;</span>
        <span class=s2>&quot;or call your supervisor&quot;</span><span class=p>)</span>

    <span class=c1># inject folder data to representation dict</span>
    <span class=n>folder_entity</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>context</span><span class=p>[</span><span class=s2>&quot;folder&quot;</span><span class=p>]</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>folder_entity</span><span class=p>[</span><span class=s2>&quot;attrib&quot;</span><span class=p>]</span>

    <span class=c1># add active components to class</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>new_sequence</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;sequence&quot;</span><span class=p>):</span>
            <span class=c1># if multiselection is set then use options sequence</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;sequence&quot;</span><span class=p>]</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=c1># create new sequence</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_current_sequence</span><span class=p>(</span><span class=n>new</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span><span class=o>.</span><span class=n>setFramerate</span><span class=p>(</span>
                <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TimeBase</span><span class=o>.</span><span class=n>fromString</span><span class=p>(</span>
                    <span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;folderAttributes&quot;</span><span class=p>][</span><span class=s2>&quot;fps&quot;</span><span class=p>])))</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_current_sequence</span><span class=p>()</span>

    <span class=k>if</span> <span class=n>options</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;track&quot;</span><span class=p>):</span>
        <span class=c1># if multiselection is set then use options track</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>active_track</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;track&quot;</span><span class=p>]</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>active_track</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_current_track</span><span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>active_sequence</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=s2>&quot;track_name&quot;</span><span class=p>])</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_hiero.api.CreatorWidget class="doc doc-heading"> <code>CreatorWidget</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=qtpy.QtWidgets.QDialog>QDialog</span></code></p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/plugin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 37</span>
<span class=normal> 38</span>
<span class=normal> 39</span>
<span class=normal> 40</span>
<span class=normal> 41</span>
<span class=normal> 42</span>
<span class=normal> 43</span>
<span class=normal> 44</span>
<span class=normal> 45</span>
<span class=normal> 46</span>
<span class=normal> 47</span>
<span class=normal> 48</span>
<span class=normal> 49</span>
<span class=normal> 50</span>
<span class=normal> 51</span>
<span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span>
<span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>CreatorWidget</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QDialog</span><span class=p>):</span>

    <span class=c1># output items</span>
    <span class=n>items</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>info</span><span class=p>,</span> <span class=n>ui_inputs</span><span class=p>,</span> <span class=n>parent</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=nb>super</span><span class=p>(</span><span class=n>CreatorWidget</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowFlags</span><span class=p>(</span>
            <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>Window</span>
            <span class=o>|</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>CustomizeWindowHint</span>
            <span class=o>|</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>WindowTitleHint</span>
            <span class=o>|</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>WindowCloseButtonHint</span>
            <span class=o>|</span> <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>WindowStaysOnTopHint</span>
        <span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>setWindowTitle</span><span class=p>(</span><span class=n>name</span> <span class=ow>or</span> <span class=s2>&quot;AYON Creator Input&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>resize</span><span class=p>(</span><span class=mi>500</span><span class=p>,</span> <span class=mi>700</span><span class=p>)</span>

        <span class=c1># Where inputs and labels are set</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>content_widget</span> <span class=o>=</span> <span class=p>[</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>)]</span>
        <span class=n>top_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QFormLayout</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_widget</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
        <span class=n>top_layout</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;ContentLayout&quot;</span><span class=p>)</span>
        <span class=n>top_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>Spacer</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=bp>self</span><span class=p>))</span>

        <span class=c1># first add widget tag line</span>
        <span class=n>top_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=n>info</span><span class=p>))</span>

        <span class=c1># main dynamic layout</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>scroll_area</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QScrollArea</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>widgetResizable</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>scroll_area</span><span class=o>.</span><span class=n>setVerticalScrollBarPolicy</span><span class=p>(</span>
            <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>ScrollBarAsNeeded</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>scroll_area</span><span class=o>.</span><span class=n>setVerticalScrollBarPolicy</span><span class=p>(</span>
            <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>ScrollBarAlwaysOn</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>scroll_area</span><span class=o>.</span><span class=n>setHorizontalScrollBarPolicy</span><span class=p>(</span>
            <span class=n>QtCore</span><span class=o>.</span><span class=n>Qt</span><span class=o>.</span><span class=n>ScrollBarAlwaysOff</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>scroll_area</span><span class=o>.</span><span class=n>setWidgetResizable</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>content_widget</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>scroll_area</span><span class=p>)</span>

        <span class=n>scroll_widget</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>in_scroll_area</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QVBoxLayout</span><span class=p>(</span><span class=n>scroll_widget</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span> <span class=o>=</span> <span class=p>[</span><span class=n>in_scroll_area</span><span class=p>]</span>

        <span class=c1># add preset data into input widget layout</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>items</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>populate_widgets</span><span class=p>(</span><span class=n>ui_inputs</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>scroll_area</span><span class=o>.</span><span class=n>setWidget</span><span class=p>(</span><span class=n>scroll_widget</span><span class=p>)</span>

        <span class=c1># Confirmation buttons</span>
        <span class=n>btns_widget</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>btns_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QHBoxLayout</span><span class=p>(</span><span class=n>btns_widget</span><span class=p>)</span>

        <span class=n>cancel_btn</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QPushButton</span><span class=p>(</span><span class=s2>&quot;Cancel&quot;</span><span class=p>)</span>
        <span class=n>btns_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>cancel_btn</span><span class=p>)</span>

        <span class=n>ok_btn</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QPushButton</span><span class=p>(</span><span class=s2>&quot;Ok&quot;</span><span class=p>)</span>
        <span class=n>btns_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>ok_btn</span><span class=p>)</span>

        <span class=c1># Main layout of the dialog</span>
        <span class=n>main_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QVBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
        <span class=n>main_layout</span><span class=o>.</span><span class=n>setContentsMargins</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
        <span class=n>main_layout</span><span class=o>.</span><span class=n>setSpacing</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>

        <span class=c1># adding content widget</span>
        <span class=k>for</span> <span class=n>w</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>content_widget</span><span class=p>:</span>
            <span class=n>main_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>w</span><span class=p>)</span>

        <span class=n>main_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>btns_widget</span><span class=p>)</span>

        <span class=n>ok_btn</span><span class=o>.</span><span class=n>clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_ok_clicked</span><span class=p>)</span>
        <span class=n>cancel_btn</span><span class=o>.</span><span class=n>clicked</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_on_cancel_clicked</span><span class=p>)</span>

        <span class=n>stylesheet</span> <span class=o>=</span> <span class=n>load_stylesheet</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>setStyleSheet</span><span class=p>(</span><span class=n>stylesheet</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_on_ok_clicked</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>result</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>items</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_on_cancel_clicked</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>result</span> <span class=o>=</span> <span class=kc>None</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>value</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>new_data</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=n>new_data</span> <span class=o>=</span> <span class=n>new_data</span> <span class=ow>or</span> <span class=nb>dict</span><span class=p>()</span>
        <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
                <span class=s2>&quot;target&quot;</span><span class=p>:</span> <span class=kc>None</span><span class=p>,</span>
                <span class=s2>&quot;value&quot;</span><span class=p>:</span> <span class=kc>None</span>
            <span class=p>}</span>
            <span class=k>if</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;dict&quot;</span><span class=p>:</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;target&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;target&quot;</span><span class=p>]</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>])</span>
            <span class=k>if</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;section&quot;</span><span class=p>:</span>
                <span class=n>new_data</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
                <span class=n>new_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>value</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>new_data</span><span class=p>)</span>
            <span class=k>elif</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=s2>&quot;currentText&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>):</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;target&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;target&quot;</span><span class=p>]</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>currentText</span><span class=p>()</span>
            <span class=k>elif</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=s2>&quot;isChecked&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>):</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;target&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;target&quot;</span><span class=p>]</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>isChecked</span><span class=p>()</span>
            <span class=k>elif</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=s2>&quot;value&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>):</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;target&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;target&quot;</span><span class=p>]</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>value</span><span class=p>()</span>
            <span class=k>elif</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=s2>&quot;text&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>):</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;target&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;target&quot;</span><span class=p>]</span>
                <span class=n>new_data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>]</span><span class=o>.</span><span class=n>text</span><span class=p>()</span>

        <span class=k>return</span> <span class=n>new_data</span>

    <span class=k>def</span><span class=w> </span><span class=nf>camel_case_split</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>text</span><span class=p>):</span>
        <span class=n>matches</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>finditer</span><span class=p>(</span>
            <span class=s1>&#39;.+?(?:(?&lt;=[a-z])(?=[A-Z])|(?&lt;=[A-Z])(?=[A-Z][a-z])|$)&#39;</span><span class=p>,</span> <span class=n>text</span><span class=p>)</span>
        <span class=k>return</span> <span class=s2>&quot; &quot;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=nb>str</span><span class=p>(</span><span class=n>m</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>0</span><span class=p>))</span><span class=o>.</span><span class=n>capitalize</span><span class=p>()</span> <span class=k>for</span> <span class=n>m</span> <span class=ow>in</span> <span class=n>matches</span><span class=p>])</span>

    <span class=k>def</span><span class=w> </span><span class=nf>create_row</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>layout</span><span class=p>,</span> <span class=nb>type</span><span class=p>,</span> <span class=n>text</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
        <span class=n>value_keys</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;setText&quot;</span><span class=p>,</span> <span class=s2>&quot;setCheckState&quot;</span><span class=p>,</span> <span class=s2>&quot;setValue&quot;</span><span class=p>,</span> <span class=s2>&quot;setChecked&quot;</span><span class=p>]</span>

        <span class=c1># get type attribute from qwidgets</span>
        <span class=n>attr</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>QtWidgets</span><span class=p>,</span> <span class=nb>type</span><span class=p>)</span>

        <span class=c1># convert label text to normal capitalized text with spaces</span>
        <span class=n>label_text</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>camel_case_split</span><span class=p>(</span><span class=n>text</span><span class=p>)</span>

        <span class=c1># assign the new text to label widget</span>
        <span class=n>label</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=n>label_text</span><span class=p>)</span>
        <span class=n>label</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;LineLabel&quot;</span><span class=p>)</span>

        <span class=c1># create attribute name text strip of spaces</span>
        <span class=n>attr_name</span> <span class=o>=</span> <span class=n>text</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>

        <span class=c1># create attribute and assign default values</span>
        <span class=nb>setattr</span><span class=p>(</span>
            <span class=bp>self</span><span class=p>,</span>
            <span class=n>attr_name</span><span class=p>,</span>
            <span class=n>attr</span><span class=p>(</span><span class=n>parent</span><span class=o>=</span><span class=bp>self</span><span class=p>))</span>

        <span class=c1># assign the created attribute to variable</span>
        <span class=n>item</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>)</span>

        <span class=c1># set attributes to item which are not values</span>
        <span class=k>for</span> <span class=n>func</span><span class=p>,</span> <span class=n>val</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=k>if</span> <span class=n>func</span> <span class=ow>in</span> <span class=n>value_keys</span><span class=p>:</span>
                <span class=k>continue</span>

            <span class=k>if</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>func</span><span class=p>):</span>
                <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Setting </span><span class=si>{}</span><span class=s2> to </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=n>val</span><span class=p>))</span>
                <span class=n>func_attr</span> <span class=o>=</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>func</span><span class=p>)</span>
                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>val</span><span class=p>,</span> <span class=nb>tuple</span><span class=p>):</span>
                    <span class=n>func_attr</span><span class=p>(</span><span class=o>*</span><span class=n>val</span><span class=p>)</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>func_attr</span><span class=p>(</span><span class=n>val</span><span class=p>)</span>

        <span class=c1># set values to item</span>
        <span class=k>for</span> <span class=n>value_item</span> <span class=ow>in</span> <span class=n>value_keys</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>value_item</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>kwargs</span><span class=p>:</span>
                <span class=k>continue</span>
            <span class=k>if</span> <span class=nb>getattr</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>value_item</span><span class=p>):</span>
                <span class=nb>getattr</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>value_item</span><span class=p>)(</span><span class=n>kwargs</span><span class=p>[</span><span class=n>value_item</span><span class=p>])</span>

        <span class=c1># add to layout</span>
        <span class=n>layout</span><span class=o>.</span><span class=n>addRow</span><span class=p>(</span><span class=n>label</span><span class=p>,</span> <span class=n>item</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>item</span>

    <span class=k>def</span><span class=w> </span><span class=nf>populate_widgets</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>content_layout</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        Populate widget from input dict.</span>

<span class=sd>        Each plugin has its own set of widget rows defined in dictionary</span>
<span class=sd>        each row values should have following keys: `type`, `target`,</span>
<span class=sd>        `label`, `order`, `value` and optionally also `toolTip`.</span>

<span class=sd>        Args:</span>
<span class=sd>            data (dict): widget rows or organized groups defined</span>
<span class=sd>                         by types `dict` or `section`</span>
<span class=sd>            content_layout (QtWidgets.QFormLayout)[optional]: used when nesting</span>

<span class=sd>        Returns:</span>
<span class=sd>            dict: redefined data dict updated with created widgets</span>

<span class=sd>        &quot;&quot;&quot;</span>

        <span class=n>content_layout</span> <span class=o>=</span> <span class=n>content_layout</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
        <span class=c1># fix order of process by defined order value</span>
        <span class=n>ordered_keys</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>data</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
        <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=k>try</span><span class=p>:</span>
                <span class=c1># try removing a key from index which should</span>
                <span class=c1># be filled with new</span>
                <span class=n>ordered_keys</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;order&quot;</span><span class=p>])</span>
            <span class=k>except</span> <span class=ne>IndexError</span><span class=p>:</span>
                <span class=k>pass</span>
            <span class=c1># add key into correct order</span>
            <span class=n>ordered_keys</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;order&quot;</span><span class=p>],</span> <span class=n>k</span><span class=p>)</span>

        <span class=c1># process ordered</span>
        <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>ordered_keys</span><span class=p>:</span>
            <span class=n>v</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>]</span>
            <span class=n>tool_tip</span> <span class=o>=</span> <span class=n>v</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;toolTip&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;dict&quot;</span><span class=p>:</span>
                <span class=c1># adding spacer between sections</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
                <span class=n>content_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;sectionHeadline&quot;</span><span class=p>)</span>

                <span class=n>headline</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QVBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
                <span class=n>headline</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>Spacer</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=bp>self</span><span class=p>))</span>
                <span class=n>headline</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>]))</span>

                <span class=c1># adding nested layout with label</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;sectionContent&quot;</span><span class=p>)</span>

                <span class=n>nested_content_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QFormLayout</span><span class=p>(</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
                <span class=n>nested_content_layout</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;NestedContentLayout&quot;</span><span class=p>)</span>
                <span class=n>content_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>

                <span class=c1># add nested key as label</span>
                <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>populate_widgets</span><span class=p>(</span>
                    <span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>nested_content_layout</span><span class=p>)</span>

            <span class=k>if</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;section&quot;</span><span class=p>:</span>
                <span class=c1># adding spacer between sections</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
                <span class=n>content_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;sectionHeadline&quot;</span><span class=p>)</span>

                <span class=n>headline</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QVBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
                <span class=n>headline</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>Spacer</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=bp>self</span><span class=p>))</span>
                <span class=n>headline</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>]))</span>

                <span class=c1># adding nested layout with label</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;sectionContent&quot;</span><span class=p>)</span>

                <span class=n>nested_content_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QFormLayout</span><span class=p>(</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
                <span class=n>nested_content_layout</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;NestedContentLayout&quot;</span><span class=p>)</span>
                <span class=n>content_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>

                <span class=c1># add nested key as label</span>
                <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>populate_widgets</span><span class=p>(</span>
                    <span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>nested_content_layout</span><span class=p>)</span>

            <span class=k>elif</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;QLineEdit&quot;</span><span class=p>:</span>
                <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_row</span><span class=p>(</span>
                    <span class=n>content_layout</span><span class=p>,</span> <span class=s2>&quot;QLineEdit&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>],</span>
                    <span class=n>setText</span><span class=o>=</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>setToolTip</span><span class=o>=</span><span class=n>tool_tip</span><span class=p>)</span>
            <span class=k>elif</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;QComboBox&quot;</span><span class=p>:</span>
                <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_row</span><span class=p>(</span>
                    <span class=n>content_layout</span><span class=p>,</span> <span class=s2>&quot;QComboBox&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>],</span>
                    <span class=n>addItems</span><span class=o>=</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>setToolTip</span><span class=o>=</span><span class=n>tool_tip</span><span class=p>)</span>
            <span class=k>elif</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;QCheckBox&quot;</span><span class=p>:</span>
                <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_row</span><span class=p>(</span>
                    <span class=n>content_layout</span><span class=p>,</span> <span class=s2>&quot;QCheckBox&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>],</span>
                    <span class=n>setChecked</span><span class=o>=</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>setToolTip</span><span class=o>=</span><span class=n>tool_tip</span><span class=p>)</span>
            <span class=k>elif</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;QSpinBox&quot;</span><span class=p>:</span>
                <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_row</span><span class=p>(</span>
                    <span class=n>content_layout</span><span class=p>,</span> <span class=s2>&quot;QSpinBox&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>],</span>
                    <span class=n>setValue</span><span class=o>=</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span>
                    <span class=n>setDisplayIntegerBase</span><span class=o>=</span><span class=mi>10000</span><span class=p>,</span>
                    <span class=n>setRange</span><span class=o>=</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>99999</span><span class=p>),</span> <span class=n>setMinimum</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
                    <span class=n>setMaximum</span><span class=o>=</span><span class=mi>100000</span><span class=p>,</span> <span class=n>setToolTip</span><span class=o>=</span><span class=n>tool_tip</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>data</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.api.CreatorWidget.populate_widgets class="doc doc-heading"> <code class="highlight language-python"><span class=n>populate_widgets</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>content_layout</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Populate widget from input dict.</p> <p>Each plugin has its own set of widget rows defined in dictionary each row values should have following keys: <code>type</code>, <code>target</code>, <code>label</code>, <code>order</code>, <code>value</code> and optionally also <code>toolTip</code>.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>widget rows or organized groups defined by types <code>dict</code> or <code>section</code></p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>content_layout</code> </td> <td> <code>QtWidgets.QFormLayout)[optional]</code> </td> <td> <div class=doc-md-description> <p>used when nesting</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>redefined data dict updated with created widgets</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/plugin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span>
<span class=normal>293</span>
<span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span>
<span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>populate_widgets</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>content_layout</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Populate widget from input dict.</span>

<span class=sd>    Each plugin has its own set of widget rows defined in dictionary</span>
<span class=sd>    each row values should have following keys: `type`, `target`,</span>
<span class=sd>    `label`, `order`, `value` and optionally also `toolTip`.</span>

<span class=sd>    Args:</span>
<span class=sd>        data (dict): widget rows or organized groups defined</span>
<span class=sd>                     by types `dict` or `section`</span>
<span class=sd>        content_layout (QtWidgets.QFormLayout)[optional]: used when nesting</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: redefined data dict updated with created widgets</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>content_layout</span> <span class=o>=</span> <span class=n>content_layout</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
    <span class=c1># fix order of process by defined order value</span>
    <span class=n>ordered_keys</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>data</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span>
    <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=c1># try removing a key from index which should</span>
            <span class=c1># be filled with new</span>
            <span class=n>ordered_keys</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;order&quot;</span><span class=p>])</span>
        <span class=k>except</span> <span class=ne>IndexError</span><span class=p>:</span>
            <span class=k>pass</span>
        <span class=c1># add key into correct order</span>
        <span class=n>ordered_keys</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;order&quot;</span><span class=p>],</span> <span class=n>k</span><span class=p>)</span>

    <span class=c1># process ordered</span>
    <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=n>ordered_keys</span><span class=p>:</span>
        <span class=n>v</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>]</span>
        <span class=n>tool_tip</span> <span class=o>=</span> <span class=n>v</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;toolTip&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;dict&quot;</span><span class=p>:</span>
            <span class=c1># adding spacer between sections</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
            <span class=n>content_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;sectionHeadline&quot;</span><span class=p>)</span>

            <span class=n>headline</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QVBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
            <span class=n>headline</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>Spacer</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=bp>self</span><span class=p>))</span>
            <span class=n>headline</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>]))</span>

            <span class=c1># adding nested layout with label</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;sectionContent&quot;</span><span class=p>)</span>

            <span class=n>nested_content_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QFormLayout</span><span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
            <span class=n>nested_content_layout</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;NestedContentLayout&quot;</span><span class=p>)</span>
            <span class=n>content_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>

            <span class=c1># add nested key as label</span>
            <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>populate_widgets</span><span class=p>(</span>
                <span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>nested_content_layout</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;section&quot;</span><span class=p>:</span>
            <span class=c1># adding spacer between sections</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
            <span class=n>content_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;sectionHeadline&quot;</span><span class=p>)</span>

            <span class=n>headline</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QVBoxLayout</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
            <span class=n>headline</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>Spacer</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=bp>self</span><span class=p>))</span>
            <span class=n>headline</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>(</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>]))</span>

            <span class=c1># adding nested layout with label</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>QtWidgets</span><span class=o>.</span><span class=n>QWidget</span><span class=p>(</span><span class=bp>self</span><span class=p>))</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;sectionContent&quot;</span><span class=p>)</span>

            <span class=n>nested_content_layout</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QFormLayout</span><span class=p>(</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>
            <span class=n>nested_content_layout</span><span class=o>.</span><span class=n>setObjectName</span><span class=p>(</span><span class=s2>&quot;NestedContentLayout&quot;</span><span class=p>)</span>
            <span class=n>content_layout</span><span class=o>.</span><span class=n>addWidget</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>content_layout</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>

            <span class=c1># add nested key as label</span>
            <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>populate_widgets</span><span class=p>(</span>
                <span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>nested_content_layout</span><span class=p>)</span>

        <span class=k>elif</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;QLineEdit&quot;</span><span class=p>:</span>
            <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_row</span><span class=p>(</span>
                <span class=n>content_layout</span><span class=p>,</span> <span class=s2>&quot;QLineEdit&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>],</span>
                <span class=n>setText</span><span class=o>=</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>setToolTip</span><span class=o>=</span><span class=n>tool_tip</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;QComboBox&quot;</span><span class=p>:</span>
            <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_row</span><span class=p>(</span>
                <span class=n>content_layout</span><span class=p>,</span> <span class=s2>&quot;QComboBox&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>],</span>
                <span class=n>addItems</span><span class=o>=</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>setToolTip</span><span class=o>=</span><span class=n>tool_tip</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;QCheckBox&quot;</span><span class=p>:</span>
            <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_row</span><span class=p>(</span>
                <span class=n>content_layout</span><span class=p>,</span> <span class=s2>&quot;QCheckBox&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>],</span>
                <span class=n>setChecked</span><span class=o>=</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span> <span class=n>setToolTip</span><span class=o>=</span><span class=n>tool_tip</span><span class=p>)</span>
        <span class=k>elif</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&quot;QSpinBox&quot;</span><span class=p>:</span>
            <span class=n>data</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=s2>&quot;value&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>create_row</span><span class=p>(</span>
                <span class=n>content_layout</span><span class=p>,</span> <span class=s2>&quot;QSpinBox&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>[</span><span class=s2>&quot;label&quot;</span><span class=p>],</span>
                <span class=n>setValue</span><span class=o>=</span><span class=n>v</span><span class=p>[</span><span class=s2>&quot;value&quot;</span><span class=p>],</span>
                <span class=n>setDisplayIntegerBase</span><span class=o>=</span><span class=mi>10000</span><span class=p>,</span>
                <span class=n>setRange</span><span class=o>=</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>99999</span><span class=p>),</span> <span class=n>setMinimum</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
                <span class=n>setMaximum</span><span class=o>=</span><span class=mi>100000</span><span class=p>,</span> <span class=n>setToolTip</span><span class=o>=</span><span class=n>tool_tip</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_hiero.api.HieroHost class="doc doc-heading"> <code>HieroHost</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=ayon_core.host.HostBase>HostBase</span></code>, <code><span title=ayon_core.host.IWorkfileHost>IWorkfileHost</span></code>, <code><span title=ayon_core.host.ILoadHost>ILoadHost</span></code>, <code><span title=ayon_core.host.IPublishHost>IPublishHost</span></code></p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 52</span>
<span class=normal> 53</span>
<span class=normal> 54</span>
<span class=normal> 55</span>
<span class=normal> 56</span>
<span class=normal> 57</span>
<span class=normal> 58</span>
<span class=normal> 59</span>
<span class=normal> 60</span>
<span class=normal> 61</span>
<span class=normal> 62</span>
<span class=normal> 63</span>
<span class=normal> 64</span>
<span class=normal> 65</span>
<span class=normal> 66</span>
<span class=normal> 67</span>
<span class=normal> 68</span>
<span class=normal> 69</span>
<span class=normal> 70</span>
<span class=normal> 71</span>
<span class=normal> 72</span>
<span class=normal> 73</span>
<span class=normal> 74</span>
<span class=normal> 75</span>
<span class=normal> 76</span>
<span class=normal> 77</span>
<span class=normal> 78</span>
<span class=normal> 79</span>
<span class=normal> 80</span>
<span class=normal> 81</span>
<span class=normal> 82</span>
<span class=normal> 83</span>
<span class=normal> 84</span>
<span class=normal> 85</span>
<span class=normal> 86</span>
<span class=normal> 87</span>
<span class=normal> 88</span>
<span class=normal> 89</span>
<span class=normal> 90</span>
<span class=normal> 91</span>
<span class=normal> 92</span>
<span class=normal> 93</span>
<span class=normal> 94</span>
<span class=normal> 95</span>
<span class=normal> 96</span>
<span class=normal> 97</span>
<span class=normal> 98</span>
<span class=normal> 99</span>
<span class=normal>100</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>HieroHost</span><span class=p>(</span>
    <span class=n>HostBase</span><span class=p>,</span> <span class=n>IWorkfileHost</span><span class=p>,</span> <span class=n>ILoadHost</span><span class=p>,</span> <span class=n>IPublishHost</span>
<span class=p>):</span>
    <span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;hiero&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>open_workfile</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filepath</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>open_file</span><span class=p>(</span><span class=n>filepath</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>save_workfile</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>filepath</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>save_file</span><span class=p>(</span><span class=n>filepath</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_current_workfile</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>current_file</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>workfile_has_unsaved_changes</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>has_unsaved_changes</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_workfile_extensions</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>file_extensions</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_containers</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>ls</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>install</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Installing all requirements for hiero host&quot;&quot;&quot;</span>

        <span class=c1># adding all events</span>
        <span class=n>events</span><span class=o>.</span><span class=n>register_events</span><span class=p>()</span>

        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Registering Hiero plug-ins..&quot;</span><span class=p>)</span>
        <span class=n>pyblish</span><span class=o>.</span><span class=n>register_host</span><span class=p>(</span><span class=s2>&quot;hiero&quot;</span><span class=p>)</span>
        <span class=n>pyblish</span><span class=o>.</span><span class=n>register_plugin_path</span><span class=p>(</span><span class=n>PUBLISH_PATH</span><span class=p>)</span>
        <span class=n>register_loader_plugin_path</span><span class=p>(</span><span class=n>LOAD_PATH</span><span class=p>)</span>
        <span class=n>register_creator_plugin_path</span><span class=p>(</span><span class=n>CREATE_PATH</span><span class=p>)</span>

        <span class=c1># install menu</span>
        <span class=n>menu</span><span class=o>.</span><span class=n>menu_install</span><span class=p>()</span>
        <span class=n>menu</span><span class=o>.</span><span class=n>add_scripts_menu</span><span class=p>()</span>

        <span class=c1># register hiero events</span>
        <span class=n>events</span><span class=o>.</span><span class=n>register_hiero_events</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>get_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
        <span class=c1># TODO: implement to support persisting context attributes</span>
        <span class=k>return</span> <span class=p>{}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>update_context_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>,</span> <span class=n>changes</span><span class=p>):</span>
        <span class=c1># TODO: implement to support persisting context attributes</span>
        <span class=k>pass</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.api.HieroHost.install class="doc doc-heading"> <code class="highlight language-python"><span class=n>install</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Installing all requirements for hiero host</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>75</span>
<span class=normal>76</span>
<span class=normal>77</span>
<span class=normal>78</span>
<span class=normal>79</span>
<span class=normal>80</span>
<span class=normal>81</span>
<span class=normal>82</span>
<span class=normal>83</span>
<span class=normal>84</span>
<span class=normal>85</span>
<span class=normal>86</span>
<span class=normal>87</span>
<span class=normal>88</span>
<span class=normal>89</span>
<span class=normal>90</span>
<span class=normal>91</span>
<span class=normal>92</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>install</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Installing all requirements for hiero host&quot;&quot;&quot;</span>

    <span class=c1># adding all events</span>
    <span class=n>events</span><span class=o>.</span><span class=n>register_events</span><span class=p>()</span>

    <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Registering Hiero plug-ins..&quot;</span><span class=p>)</span>
    <span class=n>pyblish</span><span class=o>.</span><span class=n>register_host</span><span class=p>(</span><span class=s2>&quot;hiero&quot;</span><span class=p>)</span>
    <span class=n>pyblish</span><span class=o>.</span><span class=n>register_plugin_path</span><span class=p>(</span><span class=n>PUBLISH_PATH</span><span class=p>)</span>
    <span class=n>register_loader_plugin_path</span><span class=p>(</span><span class=n>LOAD_PATH</span><span class=p>)</span>
    <span class=n>register_creator_plugin_path</span><span class=p>(</span><span class=n>CREATE_PATH</span><span class=p>)</span>

    <span class=c1># install menu</span>
    <span class=n>menu</span><span class=o>.</span><span class=n>menu_install</span><span class=p>()</span>
    <span class=n>menu</span><span class=o>.</span><span class=n>add_scripts_menu</span><span class=p>()</span>

    <span class=c1># register hiero events</span>
    <span class=n>events</span><span class=o>.</span><span class=n>register_hiero_events</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_hiero.api.PublishClip class="doc doc-heading"> <code>PublishClip</code> </h2> <div class="doc doc-contents "> <p>Convert a track item to publishable instance</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>track_item</code> </td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span></code> </td> <td> <div class=doc-md-description> <p>hiero track item object</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>kwargs</code> </td> <td> <code><span title=optional>optional</span></code> </td> <td> <div class=doc-md-description> <p>additional data needed for rename=True (presets)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hiero.core.TrackItem: hiero track item object with AYON tag</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/plugin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 647</span>
<span class=normal> 648</span>
<span class=normal> 649</span>
<span class=normal> 650</span>
<span class=normal> 651</span>
<span class=normal> 652</span>
<span class=normal> 653</span>
<span class=normal> 654</span>
<span class=normal> 655</span>
<span class=normal> 656</span>
<span class=normal> 657</span>
<span class=normal> 658</span>
<span class=normal> 659</span>
<span class=normal> 660</span>
<span class=normal> 661</span>
<span class=normal> 662</span>
<span class=normal> 663</span>
<span class=normal> 664</span>
<span class=normal> 665</span>
<span class=normal> 666</span>
<span class=normal> 667</span>
<span class=normal> 668</span>
<span class=normal> 669</span>
<span class=normal> 670</span>
<span class=normal> 671</span>
<span class=normal> 672</span>
<span class=normal> 673</span>
<span class=normal> 674</span>
<span class=normal> 675</span>
<span class=normal> 676</span>
<span class=normal> 677</span>
<span class=normal> 678</span>
<span class=normal> 679</span>
<span class=normal> 680</span>
<span class=normal> 681</span>
<span class=normal> 682</span>
<span class=normal> 683</span>
<span class=normal> 684</span>
<span class=normal> 685</span>
<span class=normal> 686</span>
<span class=normal> 687</span>
<span class=normal> 688</span>
<span class=normal> 689</span>
<span class=normal> 690</span>
<span class=normal> 691</span>
<span class=normal> 692</span>
<span class=normal> 693</span>
<span class=normal> 694</span>
<span class=normal> 695</span>
<span class=normal> 696</span>
<span class=normal> 697</span>
<span class=normal> 698</span>
<span class=normal> 699</span>
<span class=normal> 700</span>
<span class=normal> 701</span>
<span class=normal> 702</span>
<span class=normal> 703</span>
<span class=normal> 704</span>
<span class=normal> 705</span>
<span class=normal> 706</span>
<span class=normal> 707</span>
<span class=normal> 708</span>
<span class=normal> 709</span>
<span class=normal> 710</span>
<span class=normal> 711</span>
<span class=normal> 712</span>
<span class=normal> 713</span>
<span class=normal> 714</span>
<span class=normal> 715</span>
<span class=normal> 716</span>
<span class=normal> 717</span>
<span class=normal> 718</span>
<span class=normal> 719</span>
<span class=normal> 720</span>
<span class=normal> 721</span>
<span class=normal> 722</span>
<span class=normal> 723</span>
<span class=normal> 724</span>
<span class=normal> 725</span>
<span class=normal> 726</span>
<span class=normal> 727</span>
<span class=normal> 728</span>
<span class=normal> 729</span>
<span class=normal> 730</span>
<span class=normal> 731</span>
<span class=normal> 732</span>
<span class=normal> 733</span>
<span class=normal> 734</span>
<span class=normal> 735</span>
<span class=normal> 736</span>
<span class=normal> 737</span>
<span class=normal> 738</span>
<span class=normal> 739</span>
<span class=normal> 740</span>
<span class=normal> 741</span>
<span class=normal> 742</span>
<span class=normal> 743</span>
<span class=normal> 744</span>
<span class=normal> 745</span>
<span class=normal> 746</span>
<span class=normal> 747</span>
<span class=normal> 748</span>
<span class=normal> 749</span>
<span class=normal> 750</span>
<span class=normal> 751</span>
<span class=normal> 752</span>
<span class=normal> 753</span>
<span class=normal> 754</span>
<span class=normal> 755</span>
<span class=normal> 756</span>
<span class=normal> 757</span>
<span class=normal> 758</span>
<span class=normal> 759</span>
<span class=normal> 760</span>
<span class=normal> 761</span>
<span class=normal> 762</span>
<span class=normal> 763</span>
<span class=normal> 764</span>
<span class=normal> 765</span>
<span class=normal> 766</span>
<span class=normal> 767</span>
<span class=normal> 768</span>
<span class=normal> 769</span>
<span class=normal> 770</span>
<span class=normal> 771</span>
<span class=normal> 772</span>
<span class=normal> 773</span>
<span class=normal> 774</span>
<span class=normal> 775</span>
<span class=normal> 776</span>
<span class=normal> 777</span>
<span class=normal> 778</span>
<span class=normal> 779</span>
<span class=normal> 780</span>
<span class=normal> 781</span>
<span class=normal> 782</span>
<span class=normal> 783</span>
<span class=normal> 784</span>
<span class=normal> 785</span>
<span class=normal> 786</span>
<span class=normal> 787</span>
<span class=normal> 788</span>
<span class=normal> 789</span>
<span class=normal> 790</span>
<span class=normal> 791</span>
<span class=normal> 792</span>
<span class=normal> 793</span>
<span class=normal> 794</span>
<span class=normal> 795</span>
<span class=normal> 796</span>
<span class=normal> 797</span>
<span class=normal> 798</span>
<span class=normal> 799</span>
<span class=normal> 800</span>
<span class=normal> 801</span>
<span class=normal> 802</span>
<span class=normal> 803</span>
<span class=normal> 804</span>
<span class=normal> 805</span>
<span class=normal> 806</span>
<span class=normal> 807</span>
<span class=normal> 808</span>
<span class=normal> 809</span>
<span class=normal> 810</span>
<span class=normal> 811</span>
<span class=normal> 812</span>
<span class=normal> 813</span>
<span class=normal> 814</span>
<span class=normal> 815</span>
<span class=normal> 816</span>
<span class=normal> 817</span>
<span class=normal> 818</span>
<span class=normal> 819</span>
<span class=normal> 820</span>
<span class=normal> 821</span>
<span class=normal> 822</span>
<span class=normal> 823</span>
<span class=normal> 824</span>
<span class=normal> 825</span>
<span class=normal> 826</span>
<span class=normal> 827</span>
<span class=normal> 828</span>
<span class=normal> 829</span>
<span class=normal> 830</span>
<span class=normal> 831</span>
<span class=normal> 832</span>
<span class=normal> 833</span>
<span class=normal> 834</span>
<span class=normal> 835</span>
<span class=normal> 836</span>
<span class=normal> 837</span>
<span class=normal> 838</span>
<span class=normal> 839</span>
<span class=normal> 840</span>
<span class=normal> 841</span>
<span class=normal> 842</span>
<span class=normal> 843</span>
<span class=normal> 844</span>
<span class=normal> 845</span>
<span class=normal> 846</span>
<span class=normal> 847</span>
<span class=normal> 848</span>
<span class=normal> 849</span>
<span class=normal> 850</span>
<span class=normal> 851</span>
<span class=normal> 852</span>
<span class=normal> 853</span>
<span class=normal> 854</span>
<span class=normal> 855</span>
<span class=normal> 856</span>
<span class=normal> 857</span>
<span class=normal> 858</span>
<span class=normal> 859</span>
<span class=normal> 860</span>
<span class=normal> 861</span>
<span class=normal> 862</span>
<span class=normal> 863</span>
<span class=normal> 864</span>
<span class=normal> 865</span>
<span class=normal> 866</span>
<span class=normal> 867</span>
<span class=normal> 868</span>
<span class=normal> 869</span>
<span class=normal> 870</span>
<span class=normal> 871</span>
<span class=normal> 872</span>
<span class=normal> 873</span>
<span class=normal> 874</span>
<span class=normal> 875</span>
<span class=normal> 876</span>
<span class=normal> 877</span>
<span class=normal> 878</span>
<span class=normal> 879</span>
<span class=normal> 880</span>
<span class=normal> 881</span>
<span class=normal> 882</span>
<span class=normal> 883</span>
<span class=normal> 884</span>
<span class=normal> 885</span>
<span class=normal> 886</span>
<span class=normal> 887</span>
<span class=normal> 888</span>
<span class=normal> 889</span>
<span class=normal> 890</span>
<span class=normal> 891</span>
<span class=normal> 892</span>
<span class=normal> 893</span>
<span class=normal> 894</span>
<span class=normal> 895</span>
<span class=normal> 896</span>
<span class=normal> 897</span>
<span class=normal> 898</span>
<span class=normal> 899</span>
<span class=normal> 900</span>
<span class=normal> 901</span>
<span class=normal> 902</span>
<span class=normal> 903</span>
<span class=normal> 904</span>
<span class=normal> 905</span>
<span class=normal> 906</span>
<span class=normal> 907</span>
<span class=normal> 908</span>
<span class=normal> 909</span>
<span class=normal> 910</span>
<span class=normal> 911</span>
<span class=normal> 912</span>
<span class=normal> 913</span>
<span class=normal> 914</span>
<span class=normal> 915</span>
<span class=normal> 916</span>
<span class=normal> 917</span>
<span class=normal> 918</span>
<span class=normal> 919</span>
<span class=normal> 920</span>
<span class=normal> 921</span>
<span class=normal> 922</span>
<span class=normal> 923</span>
<span class=normal> 924</span>
<span class=normal> 925</span>
<span class=normal> 926</span>
<span class=normal> 927</span>
<span class=normal> 928</span>
<span class=normal> 929</span>
<span class=normal> 930</span>
<span class=normal> 931</span>
<span class=normal> 932</span>
<span class=normal> 933</span>
<span class=normal> 934</span>
<span class=normal> 935</span>
<span class=normal> 936</span>
<span class=normal> 937</span>
<span class=normal> 938</span>
<span class=normal> 939</span>
<span class=normal> 940</span>
<span class=normal> 941</span>
<span class=normal> 942</span>
<span class=normal> 943</span>
<span class=normal> 944</span>
<span class=normal> 945</span>
<span class=normal> 946</span>
<span class=normal> 947</span>
<span class=normal> 948</span>
<span class=normal> 949</span>
<span class=normal> 950</span>
<span class=normal> 951</span>
<span class=normal> 952</span>
<span class=normal> 953</span>
<span class=normal> 954</span>
<span class=normal> 955</span>
<span class=normal> 956</span>
<span class=normal> 957</span>
<span class=normal> 958</span>
<span class=normal> 959</span>
<span class=normal> 960</span>
<span class=normal> 961</span>
<span class=normal> 962</span>
<span class=normal> 963</span>
<span class=normal> 964</span>
<span class=normal> 965</span>
<span class=normal> 966</span>
<span class=normal> 967</span>
<span class=normal> 968</span>
<span class=normal> 969</span>
<span class=normal> 970</span>
<span class=normal> 971</span>
<span class=normal> 972</span>
<span class=normal> 973</span>
<span class=normal> 974</span>
<span class=normal> 975</span>
<span class=normal> 976</span>
<span class=normal> 977</span>
<span class=normal> 978</span>
<span class=normal> 979</span>
<span class=normal> 980</span>
<span class=normal> 981</span>
<span class=normal> 982</span>
<span class=normal> 983</span>
<span class=normal> 984</span>
<span class=normal> 985</span>
<span class=normal> 986</span>
<span class=normal> 987</span>
<span class=normal> 988</span>
<span class=normal> 989</span>
<span class=normal> 990</span>
<span class=normal> 991</span>
<span class=normal> 992</span>
<span class=normal> 993</span>
<span class=normal> 994</span>
<span class=normal> 995</span>
<span class=normal> 996</span>
<span class=normal> 997</span>
<span class=normal> 998</span>
<span class=normal> 999</span>
<span class=normal>1000</span>
<span class=normal>1001</span>
<span class=normal>1002</span>
<span class=normal>1003</span>
<span class=normal>1004</span>
<span class=normal>1005</span>
<span class=normal>1006</span>
<span class=normal>1007</span>
<span class=normal>1008</span>
<span class=normal>1009</span>
<span class=normal>1010</span>
<span class=normal>1011</span>
<span class=normal>1012</span>
<span class=normal>1013</span>
<span class=normal>1014</span>
<span class=normal>1015</span>
<span class=normal>1016</span>
<span class=normal>1017</span>
<span class=normal>1018</span>
<span class=normal>1019</span>
<span class=normal>1020</span>
<span class=normal>1021</span>
<span class=normal>1022</span>
<span class=normal>1023</span>
<span class=normal>1024</span>
<span class=normal>1025</span>
<span class=normal>1026</span>
<span class=normal>1027</span>
<span class=normal>1028</span>
<span class=normal>1029</span>
<span class=normal>1030</span>
<span class=normal>1031</span>
<span class=normal>1032</span>
<span class=normal>1033</span>
<span class=normal>1034</span>
<span class=normal>1035</span>
<span class=normal>1036</span>
<span class=normal>1037</span>
<span class=normal>1038</span>
<span class=normal>1039</span>
<span class=normal>1040</span>
<span class=normal>1041</span>
<span class=normal>1042</span>
<span class=normal>1043</span>
<span class=normal>1044</span>
<span class=normal>1045</span>
<span class=normal>1046</span>
<span class=normal>1047</span>
<span class=normal>1048</span>
<span class=normal>1049</span>
<span class=normal>1050</span>
<span class=normal>1051</span>
<span class=normal>1052</span>
<span class=normal>1053</span>
<span class=normal>1054</span>
<span class=normal>1055</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>PublishClip</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Convert a track item to publishable instance</span>

<span class=sd>    Args:</span>
<span class=sd>        track_item (hiero.core.TrackItem): hiero track item object</span>
<span class=sd>        kwargs (optional): additional data needed for rename=True (presets)</span>

<span class=sd>    Returns:</span>
<span class=sd>        hiero.core.TrackItem: hiero track item object with AYON tag</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>tag_data</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=n>types</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s2>&quot;shot&quot;</span><span class=p>:</span> <span class=s2>&quot;shot&quot;</span><span class=p>,</span>
        <span class=s2>&quot;folder&quot;</span><span class=p>:</span> <span class=s2>&quot;folder&quot;</span><span class=p>,</span>
        <span class=s2>&quot;episode&quot;</span><span class=p>:</span> <span class=s2>&quot;episode&quot;</span><span class=p>,</span>
        <span class=s2>&quot;sequence&quot;</span><span class=p>:</span> <span class=s2>&quot;sequence&quot;</span><span class=p>,</span>
        <span class=s2>&quot;track&quot;</span><span class=p>:</span> <span class=s2>&quot;sequence&quot;</span><span class=p>,</span>
    <span class=p>}</span>

    <span class=c1># parents search pattern</span>
    <span class=n>parents_search_pattern</span> <span class=o>=</span> <span class=sa>r</span><span class=s2>&quot;\{([a-z]*?)\}&quot;</span>

    <span class=c1># default templates for non-ui use</span>
    <span class=n>rename_default</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=n>hierarchy_default</span> <span class=o>=</span> <span class=s2>&quot;</span><span class=si>{_folder_}</span><span class=s2>/</span><span class=si>{_sequence_}</span><span class=s2>/</span><span class=si>{_track_}</span><span class=s2>&quot;</span>
    <span class=n>clip_name_default</span> <span class=o>=</span> <span class=s2>&quot;shot_</span><span class=si>{_trackIndex_:0&gt;3}</span><span class=s2>_</span><span class=si>{_clipIndex_:0&gt;4}</span><span class=s2>&quot;</span>
    <span class=n>base_product_variant_default</span> <span class=o>=</span> <span class=s2>&quot;&lt;track_name&gt;&quot;</span>
    <span class=n>review_source_default</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>product_type_default</span> <span class=o>=</span> <span class=s2>&quot;plate&quot;</span>
    <span class=n>count_from_default</span> <span class=o>=</span> <span class=mi>10</span>
    <span class=n>count_steps_default</span> <span class=o>=</span> <span class=mi>10</span>
    <span class=n>vertical_sync_default</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=n>driving_layer_default</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>

    <span class=c1># Define which keys of the pre create data should also be &#39;tag data&#39;</span>
    <span class=n>tag_keys</span> <span class=o>=</span> <span class=p>{</span>
        <span class=c1># renameHierarchy</span>
        <span class=s2>&quot;hierarchy&quot;</span><span class=p>,</span>
        <span class=c1># hierarchyData</span>
        <span class=s2>&quot;folder&quot;</span><span class=p>,</span> <span class=s2>&quot;episode&quot;</span><span class=p>,</span> <span class=s2>&quot;sequence&quot;</span><span class=p>,</span> <span class=s2>&quot;track&quot;</span><span class=p>,</span> <span class=s2>&quot;shot&quot;</span><span class=p>,</span>
        <span class=c1># publish settings</span>
        <span class=s2>&quot;audio&quot;</span><span class=p>,</span> <span class=s2>&quot;sourceResolution&quot;</span><span class=p>,</span>
        <span class=c1># shot attributes</span>
        <span class=s2>&quot;workfileFrameStart&quot;</span><span class=p>,</span> <span class=s2>&quot;handleStart&quot;</span><span class=p>,</span> <span class=s2>&quot;handleEnd&quot;</span><span class=p>,</span>
        <span class=c1># instance attributes data</span>
        <span class=s2>&quot;reviewableSource&quot;</span><span class=p>,</span>
    <span class=p>}</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
            <span class=bp>self</span><span class=p>,</span>
            <span class=n>track_item</span><span class=p>,</span>
            <span class=n>vertical_clip_match</span><span class=p>,</span>
            <span class=n>vertical_clip_used</span><span class=p>,</span>
            <span class=n>pre_create_data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
            <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
            <span class=n>rename_index</span><span class=o>=</span><span class=mi>0</span><span class=p>):</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>vertical_clip_match</span> <span class=o>=</span> <span class=n>vertical_clip_match</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>vertical_clip_used</span> <span class=o>=</span> <span class=n>vertical_clip_used</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>rename_index</span> <span class=o>=</span> <span class=n>rename_index</span>

        <span class=c1># adding ui inputs if any</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>pre_create_data</span> <span class=o>=</span> <span class=n>pre_create_data</span> <span class=ow>or</span> <span class=p>{}</span>

        <span class=c1># get main parent objects</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>track_item</span> <span class=o>=</span> <span class=n>track_item</span>
        <span class=n>sequence_name</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_current_sequence</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>sequence_name</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>sequence_name</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;_&quot;</span><span class=p>)</span>

        <span class=c1># track item (clip) main attributes</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>ti_name</span> <span class=o>=</span> <span class=n>track_item</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>ti_index</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>track_item</span><span class=o>.</span><span class=n>eventNumber</span><span class=p>())</span>

        <span class=c1># get track name and index</span>
        <span class=n>track_name</span> <span class=o>=</span> <span class=n>track_item</span><span class=o>.</span><span class=n>parent</span><span class=p>()</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>track_name</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>track_name</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;_&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>track_index</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>track_item</span><span class=o>.</span><span class=n>parent</span><span class=p>()</span><span class=o>.</span><span class=n>trackIndex</span><span class=p>())</span>

        <span class=c1># adding instance_data[&quot;productType&quot;] into tag</span>
        <span class=k>if</span> <span class=n>data</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

        <span class=c1># populate default data before we get other attributes</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_populate_track_item_default_data</span><span class=p>()</span>

        <span class=c1># use all populated default data to create all important attributes</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_populate_attributes</span><span class=p>()</span>

        <span class=c1># create parents with correct types</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_create_parents</span><span class=p>()</span>

    <span class=k>def</span><span class=w> </span><span class=nf>convert</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>

        <span class=c1># solve track item data and add them to tag data</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_convert_to_tag_data</span><span class=p>()</span>

        <span class=c1># if track name is in review track name and also if driving track name</span>
        <span class=c1># is not in review track name: skip tag creation</span>
        <span class=k>if</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>track_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>reviewable_source</span><span class=p>)</span> <span class=ow>and</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>driving_layer</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>reviewable_source</span>
        <span class=p>):</span>
            <span class=k>return</span>

        <span class=c1># deal with clip name</span>
        <span class=n>new_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;newClipName&quot;</span><span class=p>)</span>

        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>rename</span><span class=p>:</span>
            <span class=c1># rename track item</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>track_item</span><span class=o>.</span><span class=n>setName</span><span class=p>(</span><span class=n>new_name</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;folderName&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>new_name</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;folderName&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>ti_name</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;hierarchyData&quot;</span><span class=p>][</span><span class=s2>&quot;shot&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>ti_name</span>

        <span class=c1># AYON unique identifier</span>
        <span class=n>folder_path</span> <span class=o>=</span> <span class=s2>&quot;/</span><span class=si>{}</span><span class=s2>/</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;hierarchy&quot;</span><span class=p>],</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;folderName&quot;</span><span class=p>]</span>
        <span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;folderPath&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>folder_path</span>

        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>track_item</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_populate_track_item_default_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Populate default formatting data from track item. &quot;&quot;&quot;</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>track_item_default_data</span> <span class=o>=</span> <span class=p>{</span>
            <span class=s2>&quot;_folder_&quot;</span><span class=p>:</span> <span class=s2>&quot;shots&quot;</span><span class=p>,</span>
            <span class=s2>&quot;_sequence_&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>sequence_name</span><span class=p>,</span>
            <span class=s2>&quot;_track_&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>track_name</span><span class=p>,</span>
            <span class=s2>&quot;_clip_&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>ti_name</span><span class=p>,</span>
            <span class=s2>&quot;_trackIndex_&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>track_index</span><span class=p>,</span>
            <span class=s2>&quot;_clipIndex_&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>ti_index</span>
        <span class=p>}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_populate_attributes</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Populate main object attributes. &quot;&quot;&quot;</span>
        <span class=c1># track item frame range and parent track name for vertical sync check</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>clip_in</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>track_item</span><span class=o>.</span><span class=n>timelineIn</span><span class=p>())</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>clip_out</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>track_item</span><span class=o>.</span><span class=n>timelineOut</span><span class=p>())</span>

        <span class=c1># define ui inputs if non gui mode was used</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>shot_num</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>ti_index</span>
        <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
            <span class=s2>&quot;____ self.shot_num: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>shot_num</span><span class=p>))</span>

        <span class=c1># publisher ui attribute inputs or default values if gui was not used</span>
        <span class=k>def</span><span class=w> </span><span class=nf>get</span><span class=p>(</span><span class=n>key</span><span class=p>):</span>
<span class=w>            </span><span class=sd>&quot;&quot;&quot;Shorthand access for code readability&quot;&quot;&quot;</span>
            <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>pre_create_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>

        <span class=c1># ui_inputs data or default values if gui was not used</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>rename</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>pre_create_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span>
            <span class=s2>&quot;clipRename&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>rename_default</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>clip_name</span> <span class=o>=</span> <span class=n>get</span><span class=p>(</span><span class=s2>&quot;clipName&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>clip_name_default</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>hierarchy</span> <span class=o>=</span> <span class=n>get</span><span class=p>(</span><span class=s2>&quot;hierarchy&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>hierarchy_default</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>count_from</span> <span class=o>=</span> <span class=n>get</span><span class=p>(</span><span class=s2>&quot;countFrom&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>count_from_default</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>count_steps</span> <span class=o>=</span> <span class=n>get</span><span class=p>(</span><span class=s2>&quot;countSteps&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>count_steps_default</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>base_product_variant</span> <span class=o>=</span> <span class=p>(</span>
            <span class=n>get</span><span class=p>(</span><span class=s2>&quot;clipVariant&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>base_product_variant_default</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>product_type</span> <span class=o>=</span> <span class=n>get</span><span class=p>(</span><span class=s2>&quot;productType&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>product_type_default</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>vertical_sync</span> <span class=o>=</span> <span class=n>get</span><span class=p>(</span><span class=s2>&quot;vSyncOn&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>vertical_sync_default</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>driving_layer</span> <span class=o>=</span> <span class=n>get</span><span class=p>(</span><span class=s2>&quot;vSyncTrack&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>driving_layer_default</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>driving_layer</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>driving_layer</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>,</span> <span class=s2>&quot;_&quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>review_source</span> <span class=o>=</span> <span class=p>(</span>
            <span class=n>get</span><span class=p>(</span><span class=s2>&quot;reviewableSource&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>review_source_default</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>audio</span> <span class=o>=</span> <span class=n>get</span><span class=p>(</span><span class=s2>&quot;audio&quot;</span><span class=p>)</span> <span class=ow>or</span> <span class=kc>False</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>hierarchy_data</span> <span class=o>=</span> <span class=p>{</span>
            <span class=n>key</span><span class=p>:</span> <span class=n>get</span><span class=p>(</span><span class=n>key</span><span class=p>)</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>track_item_default_data</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
            <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;folder&quot;</span><span class=p>,</span> <span class=s2>&quot;episode&quot;</span><span class=p>,</span> <span class=s2>&quot;sequence&quot;</span><span class=p>,</span> <span class=s2>&quot;track&quot;</span><span class=p>,</span> <span class=s2>&quot;shot&quot;</span><span class=p>]</span>
        <span class=p>}</span>

        <span class=c1># build product name from layer name</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>base_product_variant</span> <span class=o>==</span> <span class=s2>&quot;&lt;track_name&gt;&quot;</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>variant</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>track_name</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>variant</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>base_product_variant</span>

        <span class=c1># create product for publishing</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>product_name</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>product_type</span><span class=si>}{</span><span class=bp>self</span><span class=o>.</span><span class=n>variant</span><span class=o>.</span><span class=n>capitalize</span><span class=p>()</span><span class=si>}</span><span class=s2>&quot;</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_replace_hash_to_expression</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>text</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Replace hash with number in correct padding. &quot;&quot;&quot;</span>
        <span class=n>_spl</span> <span class=o>=</span> <span class=n>text</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;#&quot;</span><span class=p>)</span>
        <span class=n>_len</span> <span class=o>=</span> <span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>_spl</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
        <span class=n>_repl</span> <span class=o>=</span> <span class=s2>&quot;{{</span><span class=si>{0}</span><span class=s2>:0&gt;</span><span class=si>{1}</span><span class=s2>}}&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>_len</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>text</span><span class=o>.</span><span class=n>replace</span><span class=p>((</span><span class=s2>&quot;#&quot;</span> <span class=o>*</span> <span class=n>_len</span><span class=p>),</span> <span class=n>_repl</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_convert_to_tag_data</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Convert internal data to tag data.</span>

<span class=sd>        Populating the tag data into internal variable self.tag_data</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=c1># define vertical sync attributes</span>
        <span class=n>hero_track</span> <span class=o>=</span> <span class=kc>True</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>reviewable_source</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>
        <span class=k>if</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>vertical_sync</span>
            <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>track_name</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>driving_layer</span>
        <span class=p>):</span>
            <span class=c1># check if track name is not in driving layer</span>
            <span class=c1># if it is not then define vertical sync as None</span>
            <span class=n>hero_track</span> <span class=o>=</span> <span class=kc>False</span>

        <span class=c1># increasing steps by index of rename iteration</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>count_steps</span> <span class=o>*=</span> <span class=bp>self</span><span class=o>.</span><span class=n>rename_index</span>

        <span class=n>hierarchy_formatting_data</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=n>hierarchy_data</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>hierarchy_data</span><span class=p>)</span>
        <span class=n>_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>track_item_default_data</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>

        <span class=c1># in case we are running creators headless default</span>
        <span class=c1># precreate data values are used</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>pre_create_data</span><span class=p>:</span>

            <span class=c1># adding tag metadata from ui</span>
            <span class=k>for</span> <span class=n>_key</span><span class=p>,</span> <span class=n>_value</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>pre_create_data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
                <span class=c1># backward compatibility for reviewableSource (2024.11.08)</span>
                <span class=k>if</span> <span class=p>(</span>
                    <span class=n>_key</span> <span class=o>==</span> <span class=s2>&quot;reviewableSource&quot;</span>
                    <span class=ow>and</span> <span class=s2>&quot;reviewTrack&quot;</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>tag_keys</span>
                <span class=p>):</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;reviewTrack&quot;</span><span class=p>)</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;reviewableSource&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>_value</span>
                <span class=k>if</span> <span class=n>_key</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>tag_keys</span><span class=p>:</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=n>_key</span><span class=p>]</span> <span class=o>=</span> <span class=n>_value</span>

            <span class=c1># driving layer is set as positive match</span>
            <span class=k>if</span> <span class=n>hero_track</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>vertical_sync</span><span class=p>:</span>
                <span class=c1># mark review layer</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>review_source</span> <span class=ow>and</span> <span class=p>(</span>
                        <span class=bp>self</span><span class=o>.</span><span class=n>review_source</span> <span class=o>!=</span> <span class=bp>self</span><span class=o>.</span><span class=n>review_source_default</span><span class=p>):</span>
                    <span class=c1># if review layer is defined and not the same as default</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>reviewable_source</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>review_source</span>
                <span class=c1># shot num calculate</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>rename_index</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>shot_num</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>count_from</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>shot_num</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>count_from</span> <span class=o>+</span> <span class=bp>self</span><span class=o>.</span><span class=n>count_steps</span>

            <span class=c1># clip name sequence number</span>
            <span class=n>_data</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=s2>&quot;shot&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>shot_num</span><span class=p>})</span>

            <span class=c1># solve # in test to pythonic expression</span>
            <span class=k>for</span> <span class=n>_key</span><span class=p>,</span> <span class=n>_value</span> <span class=ow>in</span> <span class=n>hierarchy_data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
                <span class=k>if</span> <span class=s2>&quot;#&quot;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>_value</span><span class=p>:</span>
                    <span class=k>continue</span>
                <span class=n>hierarchy_data</span><span class=p>[</span><span class=n>_key</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_replace_hash_to_expression</span><span class=p>(</span>
                    <span class=n>_key</span><span class=p>,</span> <span class=n>_value</span><span class=p>)</span>

            <span class=c1># fill up pythonic expresisons in hierarchy data</span>
            <span class=k>for</span> <span class=n>_key</span><span class=p>,</span> <span class=n>_value</span> <span class=ow>in</span> <span class=n>hierarchy_data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
                <span class=n>formatted_value</span> <span class=o>=</span> <span class=n>_value</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=o>**</span><span class=n>_data</span><span class=p>)</span>
                <span class=n>hierarchy_formatting_data</span><span class=p>[</span><span class=n>_key</span><span class=p>]</span> <span class=o>=</span> <span class=n>formatted_value</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=n>_key</span><span class=p>]</span> <span class=o>=</span> <span class=n>formatted_value</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=c1># if no gui mode then just pass default data</span>
            <span class=n>hierarchy_formatting_data</span> <span class=o>=</span> <span class=n>hierarchy_data</span>

        <span class=n>tag_instance_data</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_solve_tag_instance_data</span><span class=p>(</span>
            <span class=n>hierarchy_formatting_data</span>
        <span class=p>)</span>

        <span class=n>tag_instance_data</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=s2>&quot;heroTrack&quot;</span><span class=p>:</span> <span class=kc>True</span><span class=p>})</span>
        <span class=k>if</span> <span class=n>hero_track</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>vertical_sync</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>vertical_clip_match</span><span class=o>.</span><span class=n>update</span><span class=p>(</span>
                <span class=p>{(</span><span class=bp>self</span><span class=o>.</span><span class=n>clip_in</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>clip_out</span><span class=p>):</span> <span class=n>tag_instance_data</span><span class=p>}</span>
            <span class=p>)</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=n>hero_track</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>vertical_sync</span><span class=p>:</span>
            <span class=c1># driving layer is set as negative match</span>
            <span class=k>for</span> <span class=p>(</span><span class=n>hero_in</span><span class=p>,</span> <span class=n>hero_out</span><span class=p>),</span> <span class=n>hero_data</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>vertical_clip_match</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>  <span class=c1># noqa</span>
<span class=w>                </span><span class=sd>&quot;&quot;&quot;Iterate over all clips in vertical sync match</span>

<span class=sd>                If clip frame range is outside of hero clip frame range</span>
<span class=sd>                then skip this clip and do not add to hierarchical shared</span>
<span class=sd>                metadata to them.</span>
<span class=sd>                &quot;&quot;&quot;</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>clip_in</span> <span class=o>&lt;</span> <span class=n>hero_in</span> <span class=ow>or</span> <span class=bp>self</span><span class=o>.</span><span class=n>clip_out</span> <span class=o>&gt;</span> <span class=n>hero_out</span><span class=p>:</span>
                    <span class=k>continue</span>

                <span class=n>_distrib_data</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>hero_data</span><span class=p>)</span>
                <span class=n>_distrib_data</span><span class=p>[</span><span class=s2>&quot;heroTrack&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>False</span>

                <span class=c1># form used clip unique key</span>
                <span class=n>data_product_name</span> <span class=o>=</span> <span class=n>hero_data</span><span class=p>[</span><span class=s2>&quot;productName&quot;</span><span class=p>]</span>
                <span class=n>new_clip_name</span> <span class=o>=</span> <span class=n>hero_data</span><span class=p>[</span><span class=s2>&quot;newClipName&quot;</span><span class=p>]</span>

                <span class=c1># get used names list for duplicity check</span>
                <span class=n>used_names_list</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>vertical_clip_used</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span>
                    <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>new_clip_name</span><span class=si>}{</span><span class=n>data_product_name</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=p>[])</span>

                <span class=n>clip_product_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>product_name</span>
                <span class=n>variant</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>variant</span>

                <span class=c1># in case track name and product name is the same then add</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>variant</span> <span class=o>==</span> <span class=bp>self</span><span class=o>.</span><span class=n>track_name</span><span class=p>:</span>
                    <span class=n>clip_product_name</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>product_name</span>

                <span class=c1># add track index in case duplicity of names in hero data</span>
                <span class=c1># INFO: this is for case where hero clip product name</span>
                <span class=c1>#    is the same as current clip product name</span>
                <span class=k>if</span> <span class=n>clip_product_name</span> <span class=ow>in</span> <span class=n>data_product_name</span><span class=p>:</span>
                    <span class=n>clip_product_name</span> <span class=o>=</span> <span class=p>(</span>
                        <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>clip_product_name</span><span class=si>}{</span><span class=bp>self</span><span class=o>.</span><span class=n>track_index</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
                    <span class=n>variant</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>variant</span><span class=si>}{</span><span class=bp>self</span><span class=o>.</span><span class=n>track_index</span><span class=si>}</span><span class=s2>&quot;</span>

                <span class=c1># in case track clip product name had been already used</span>
                <span class=c1># then add product name with clip index</span>
                <span class=k>if</span> <span class=n>clip_product_name</span> <span class=ow>in</span> <span class=n>used_names_list</span><span class=p>:</span>
                    <span class=n>clip_product_name</span> <span class=o>=</span> <span class=p>(</span>
                        <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>clip_product_name</span><span class=si>}{</span><span class=bp>self</span><span class=o>.</span><span class=n>rename_index</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
                    <span class=n>variant</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>variant</span><span class=si>}{</span><span class=bp>self</span><span class=o>.</span><span class=n>rename_index</span><span class=si>}</span><span class=s2>&quot;</span>

                <span class=n>_distrib_data</span><span class=p>[</span><span class=s2>&quot;productName&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>clip_product_name</span>
                <span class=n>_distrib_data</span><span class=p>[</span><span class=s2>&quot;variant&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>variant</span>
                <span class=c1># assign data to return hierarchy data to tag</span>
                <span class=n>tag_instance_data</span> <span class=o>=</span> <span class=n>_distrib_data</span>

                <span class=c1># add used product name to used list to avoid duplicity</span>
                <span class=n>used_names_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>clip_product_name</span><span class=p>)</span>
                <span class=k>break</span>

        <span class=c1># add data to return data dict</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=n>tag_instance_data</span><span class=p>)</span>

        <span class=c1># add uuid to tag data</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;uuid&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>uuid</span><span class=o>.</span><span class=n>uuid4</span><span class=p>())</span>

        <span class=c1># add review track only to hero track</span>
        <span class=k>if</span> <span class=n>hero_track</span> <span class=ow>and</span> <span class=bp>self</span><span class=o>.</span><span class=n>reviewable_source</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;reviewTrack&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>reviewable_source</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=s2>&quot;reviewTrack&quot;</span><span class=p>:</span> <span class=kc>None</span><span class=p>})</span>

        <span class=c1># add only review related data if reviewable source is set</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>reviewable_source</span><span class=p>:</span>
            <span class=n>review_switch</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=n>reviewable_source</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>reviewable_source</span>
            <span class=c1>#</span>
            <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>vertical_sync</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>hero_track</span><span class=p>:</span>
                <span class=n>review_switch</span> <span class=o>=</span> <span class=kc>False</span>
                <span class=n>reviewable_source</span> <span class=o>=</span> <span class=kc>False</span>

            <span class=k>if</span> <span class=n>review_switch</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;review&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;review&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>

            <span class=k>if</span> <span class=n>reviewable_source</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;reviewableSource&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>reviewable_source</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>tag_data</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;reviewableSource&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_solve_tag_instance_data</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>hierarchy_formatting_data</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Solve tag data from hierarchy data and templates. &quot;&quot;&quot;</span>
        <span class=c1># fill up clip name and hierarchy keys</span>
        <span class=n>hierarchy_filled</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>hierarchy</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=o>**</span><span class=n>hierarchy_formatting_data</span><span class=p>)</span>
        <span class=n>clip_name_filled</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>clip_name</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=o>**</span><span class=n>hierarchy_formatting_data</span><span class=p>)</span>

        <span class=c1># remove shot from hierarchy data: is not needed anymore</span>
        <span class=n>hierarchy_formatting_data</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;shot&quot;</span><span class=p>)</span>

        <span class=k>return</span> <span class=p>{</span>
            <span class=s2>&quot;newClipName&quot;</span><span class=p>:</span> <span class=n>clip_name_filled</span><span class=p>,</span>
            <span class=s2>&quot;hierarchy&quot;</span><span class=p>:</span> <span class=n>hierarchy_filled</span><span class=p>,</span>
            <span class=s2>&quot;parents&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>parents</span><span class=p>,</span>
            <span class=s2>&quot;hierarchyData&quot;</span><span class=p>:</span> <span class=n>hierarchy_formatting_data</span><span class=p>,</span>
            <span class=s2>&quot;productName&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>product_name</span><span class=p>,</span>
            <span class=s2>&quot;productType&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>product_type</span><span class=p>,</span>
            <span class=s2>&quot;variant&quot;</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>variant</span><span class=p>,</span>
        <span class=p>}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_convert_to_entity</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>src_type</span><span class=p>,</span> <span class=n>template</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Converting input key to key with type. &quot;&quot;&quot;</span>
        <span class=c1># convert to entity type</span>
        <span class=n>folder_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>types</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>src_type</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>

        <span class=k>assert</span> <span class=n>folder_type</span><span class=p>,</span> <span class=s2>&quot;Missing folder type for `</span><span class=si>{}</span><span class=s2>`&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
            <span class=n>src_type</span>
        <span class=p>)</span>
        <span class=n>formatting_data</span> <span class=o>=</span> <span class=p>{}</span>
        <span class=k>for</span> <span class=n>_k</span><span class=p>,</span> <span class=n>_v</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>hierarchy_data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=n>value</span> <span class=o>=</span> <span class=n>_v</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=o>**</span><span class=bp>self</span><span class=o>.</span><span class=n>track_item_default_data</span><span class=p>)</span>
            <span class=n>formatting_data</span><span class=p>[</span><span class=n>_k</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

        <span class=k>return</span> <span class=p>{</span>
            <span class=s2>&quot;entity_type&quot;</span><span class=p>:</span> <span class=n>folder_type</span><span class=p>,</span>
            <span class=s2>&quot;folder_type&quot;</span><span class=p>:</span> <span class=n>folder_type</span><span class=p>,</span>
            <span class=s2>&quot;entity_name&quot;</span><span class=p>:</span> <span class=n>template</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=o>**</span><span class=n>formatting_data</span><span class=p>)</span>
        <span class=p>}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_create_parents</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot; Create parents and return it in list. &quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>parents</span> <span class=o>=</span> <span class=p>[]</span>

        <span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>parents_search_pattern</span><span class=p>)</span>

        <span class=n>par_split</span> <span class=o>=</span> <span class=p>[(</span><span class=n>pattern</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>t</span><span class=p>)</span><span class=o>.</span><span class=n>pop</span><span class=p>(),</span> <span class=n>t</span><span class=p>)</span>
                     <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>hierarchy</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>)]</span>

        <span class=k>for</span> <span class=n>type_</span><span class=p>,</span> <span class=n>template</span> <span class=ow>in</span> <span class=n>par_split</span><span class=p>:</span>
            <span class=n>parent</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_convert_to_entity</span><span class=p>(</span><span class=n>type_</span><span class=p>,</span> <span class=n>template</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>parents</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=client.ayon_hiero.api.SequenceLoader class="doc doc-heading"> <code>SequenceLoader</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=ayon_core.pipeline.LoaderPlugin>LoaderPlugin</span></code></p> <p>A basic SequenceLoader for Resolve</p> <p>This will implement the basic behavior for a loader to inherit from that will containerize the reference and will implement the <code>remove</code> and <code>update</code> logic.</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/plugin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>SequenceLoader</span><span class=p>(</span><span class=n>LoaderPlugin</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;A basic SequenceLoader for Resolve</span>

<span class=sd>    This will implement the basic behavior for a loader to inherit from that</span>
<span class=sd>    will containerize the reference and will implement the `remove` and</span>
<span class=sd>    `update` logic.</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>options</span> <span class=o>=</span> <span class=p>[</span>
        <span class=n>qargparse</span><span class=o>.</span><span class=n>Boolean</span><span class=p>(</span>
            <span class=s2>&quot;handles&quot;</span><span class=p>,</span>
            <span class=n>label</span><span class=o>=</span><span class=s2>&quot;Include handles&quot;</span><span class=p>,</span>
            <span class=n>default</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span>
            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Load with handles or without?&quot;</span>
        <span class=p>),</span>
        <span class=n>qargparse</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
            <span class=s2>&quot;load_to&quot;</span><span class=p>,</span>
            <span class=n>label</span><span class=o>=</span><span class=s2>&quot;Where to load clips&quot;</span><span class=p>,</span>
            <span class=n>items</span><span class=o>=</span><span class=p>[</span>
                <span class=s2>&quot;Current timeline&quot;</span><span class=p>,</span>
                <span class=s2>&quot;New timeline&quot;</span>
            <span class=p>],</span>
            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;Current timeline&quot;</span><span class=p>,</span>
            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Where do you want clips to be loaded?&quot;</span>
        <span class=p>),</span>
        <span class=n>qargparse</span><span class=o>.</span><span class=n>Choice</span><span class=p>(</span>
            <span class=s2>&quot;load_how&quot;</span><span class=p>,</span>
            <span class=n>label</span><span class=o>=</span><span class=s2>&quot;How to load clips&quot;</span><span class=p>,</span>
            <span class=n>items</span><span class=o>=</span><span class=p>[</span>
                <span class=s2>&quot;Original timing&quot;</span><span class=p>,</span>
                <span class=s2>&quot;Sequentially in order&quot;</span>
            <span class=p>],</span>
            <span class=n>default</span><span class=o>=</span><span class=s2>&quot;Original timing&quot;</span><span class=p>,</span>
            <span class=n>help</span><span class=o>=</span><span class=s2>&quot;Would you like to place it at original timing?&quot;</span>
        <span class=p>)</span>
    <span class=p>]</span>

    <span class=k>def</span><span class=w> </span><span class=nf>load</span><span class=p>(</span>
        <span class=bp>self</span><span class=p>,</span>
        <span class=n>context</span><span class=p>,</span>
        <span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>namespace</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>options</span><span class=o>=</span><span class=kc>None</span>
    <span class=p>):</span>
        <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>container</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Update an existing `container`</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>pass</span>

    <span class=k>def</span><span class=w> </span><span class=nf>remove</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>container</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Remove an existing `container`</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>pass</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.api.SequenceLoader.remove class="doc doc-heading"> <code class="highlight language-python"><span class=n>remove</span><span class=p>(</span><span class=n>container</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Remove an existing <code>container</code></p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/plugin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>remove</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>container</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Remove an existing `container`</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>pass</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.api.SequenceLoader.update class="doc doc-heading"> <code class="highlight language-python"><span class=n>update</span><span class=p>(</span><span class=n>container</span><span class=p>,</span> <span class=n>context</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Update an existing <code>container</code></p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/plugin.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>container</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Update an existing `container`</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>pass</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.apply_colorspace_project class="doc doc-heading"> <code class="highlight language-python"><span class=n>apply_colorspace_project</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Apply colorspaces from settings.</p> <p>Due to not being able to set the project settings through the Python API, we need to do use some dubious code to find the widgets and set them. It is possible to set the project settings without traversing through the widgets but it involves reading the hrox files from disk with XML, so no in-memory support. See https://community.foundry.com/discuss/topic/137771/change-a-project-s-default-color-transform-with-python # noqa for more details.</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1010</span>
<span class=normal>1011</span>
<span class=normal>1012</span>
<span class=normal>1013</span>
<span class=normal>1014</span>
<span class=normal>1015</span>
<span class=normal>1016</span>
<span class=normal>1017</span>
<span class=normal>1018</span>
<span class=normal>1019</span>
<span class=normal>1020</span>
<span class=normal>1021</span>
<span class=normal>1022</span>
<span class=normal>1023</span>
<span class=normal>1024</span>
<span class=normal>1025</span>
<span class=normal>1026</span>
<span class=normal>1027</span>
<span class=normal>1028</span>
<span class=normal>1029</span>
<span class=normal>1030</span>
<span class=normal>1031</span>
<span class=normal>1032</span>
<span class=normal>1033</span>
<span class=normal>1034</span>
<span class=normal>1035</span>
<span class=normal>1036</span>
<span class=normal>1037</span>
<span class=normal>1038</span>
<span class=normal>1039</span>
<span class=normal>1040</span>
<span class=normal>1041</span>
<span class=normal>1042</span>
<span class=normal>1043</span>
<span class=normal>1044</span>
<span class=normal>1045</span>
<span class=normal>1046</span>
<span class=normal>1047</span>
<span class=normal>1048</span>
<span class=normal>1049</span>
<span class=normal>1050</span>
<span class=normal>1051</span>
<span class=normal>1052</span>
<span class=normal>1053</span>
<span class=normal>1054</span>
<span class=normal>1055</span>
<span class=normal>1056</span>
<span class=normal>1057</span>
<span class=normal>1058</span>
<span class=normal>1059</span>
<span class=normal>1060</span>
<span class=normal>1061</span>
<span class=normal>1062</span>
<span class=normal>1063</span>
<span class=normal>1064</span>
<span class=normal>1065</span>
<span class=normal>1066</span>
<span class=normal>1067</span>
<span class=normal>1068</span>
<span class=normal>1069</span>
<span class=normal>1070</span>
<span class=normal>1071</span>
<span class=normal>1072</span>
<span class=normal>1073</span>
<span class=normal>1074</span>
<span class=normal>1075</span>
<span class=normal>1076</span>
<span class=normal>1077</span>
<span class=normal>1078</span>
<span class=normal>1079</span>
<span class=normal>1080</span>
<span class=normal>1081</span>
<span class=normal>1082</span>
<span class=normal>1083</span>
<span class=normal>1084</span>
<span class=normal>1085</span>
<span class=normal>1086</span>
<span class=normal>1087</span>
<span class=normal>1088</span>
<span class=normal>1089</span>
<span class=normal>1090</span>
<span class=normal>1091</span>
<span class=normal>1092</span>
<span class=normal>1093</span>
<span class=normal>1094</span>
<span class=normal>1095</span>
<span class=normal>1096</span>
<span class=normal>1097</span>
<span class=normal>1098</span>
<span class=normal>1099</span>
<span class=normal>1100</span>
<span class=normal>1101</span>
<span class=normal>1102</span>
<span class=normal>1103</span>
<span class=normal>1104</span>
<span class=normal>1105</span>
<span class=normal>1106</span>
<span class=normal>1107</span>
<span class=normal>1108</span>
<span class=normal>1109</span>
<span class=normal>1110</span>
<span class=normal>1111</span>
<span class=normal>1112</span>
<span class=normal>1113</span>
<span class=normal>1114</span>
<span class=normal>1115</span>
<span class=normal>1116</span>
<span class=normal>1117</span>
<span class=normal>1118</span>
<span class=normal>1119</span>
<span class=normal>1120</span>
<span class=normal>1121</span>
<span class=normal>1122</span>
<span class=normal>1123</span>
<span class=normal>1124</span>
<span class=normal>1125</span>
<span class=normal>1126</span>
<span class=normal>1127</span>
<span class=normal>1128</span>
<span class=normal>1129</span>
<span class=normal>1130</span>
<span class=normal>1131</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>apply_colorspace_project</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Apply colorspaces from settings.</span>

<span class=sd>    Due to not being able to set the project settings through the Python API,</span>
<span class=sd>    we need to do use some dubious code to find the widgets and set them. It is</span>
<span class=sd>    possible to set the project settings without traversing through the widgets</span>
<span class=sd>    but it involves reading the hrox files from disk with XML, so no in-memory</span>
<span class=sd>    support. See https://community.foundry.com/discuss/topic/137771/change-a-project-s-default-color-transform-with-python  # noqa</span>
<span class=sd>    for more details.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># get presets for hiero</span>
    <span class=n>project_name</span> <span class=o>=</span> <span class=n>get_current_project_name</span><span class=p>()</span>
    <span class=n>imageio</span> <span class=o>=</span> <span class=n>get_project_settings</span><span class=p>(</span><span class=n>project_name</span><span class=p>)[</span><span class=s2>&quot;hiero&quot;</span><span class=p>][</span><span class=s2>&quot;imageio&quot;</span><span class=p>]</span>
    <span class=n>presets</span> <span class=o>=</span> <span class=n>imageio</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;workfile&quot;</span><span class=p>)</span>

    <span class=c1># Open Project Settings UI.</span>
    <span class=k>for</span> <span class=n>act</span> <span class=ow>in</span> <span class=n>hiero</span><span class=o>.</span><span class=n>ui</span><span class=o>.</span><span class=n>registeredActions</span><span class=p>():</span>
        <span class=k>if</span> <span class=n>act</span><span class=o>.</span><span class=n>objectName</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&quot;foundry.project.settings&quot;</span><span class=p>:</span>
            <span class=n>act</span><span class=o>.</span><span class=n>trigger</span><span class=p>()</span>

    <span class=c1># Find widgets from their sibling label.</span>
    <span class=n>labels</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s2>&quot;Working Space:&quot;</span><span class=p>:</span> <span class=s2>&quot;workingSpace&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Viewer:&quot;</span><span class=p>:</span> <span class=s2>&quot;viewerLut&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Thumbnails:&quot;</span><span class=p>:</span> <span class=s2>&quot;thumbnailLut&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Monitor Out:&quot;</span><span class=p>:</span> <span class=s2>&quot;monitorOutLut&quot;</span><span class=p>,</span>
        <span class=s2>&quot;8 Bit Files:&quot;</span><span class=p>:</span> <span class=s2>&quot;eightBitLut&quot;</span><span class=p>,</span>
        <span class=s2>&quot;16 Bit Files:&quot;</span><span class=p>:</span> <span class=s2>&quot;sixteenBitLut&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Log Files:&quot;</span><span class=p>:</span> <span class=s2>&quot;logLut&quot;</span><span class=p>,</span>
        <span class=s2>&quot;Floating Point Files:&quot;</span><span class=p>:</span> <span class=s2>&quot;floatLut&quot;</span>
    <span class=p>}</span>
    <span class=n>widgets</span> <span class=o>=</span> <span class=p>{</span><span class=n>x</span><span class=p>:</span> <span class=kc>None</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>labels</span><span class=o>.</span><span class=n>values</span><span class=p>()}</span>

    <span class=k>def</span><span class=w> </span><span class=nf>_recursive_children</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>labels</span><span class=p>,</span> <span class=n>widgets</span><span class=p>):</span>
        <span class=n>children</span> <span class=o>=</span> <span class=n>widget</span><span class=o>.</span><span class=n>children</span><span class=p>()</span>
        <span class=k>for</span> <span class=n>count</span><span class=p>,</span> <span class=n>child</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>children</span><span class=p>):</span>
            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>child</span><span class=p>,</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QLabel</span><span class=p>):</span>
                <span class=k>if</span> <span class=n>child</span><span class=o>.</span><span class=n>text</span><span class=p>()</span> <span class=ow>in</span> <span class=n>labels</span><span class=o>.</span><span class=n>keys</span><span class=p>():</span>
                    <span class=n>widgets</span><span class=p>[</span><span class=n>labels</span><span class=p>[</span><span class=n>child</span><span class=o>.</span><span class=n>text</span><span class=p>()]]</span> <span class=o>=</span> <span class=n>children</span><span class=p>[</span><span class=n>count</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span>
            <span class=n>_recursive_children</span><span class=p>(</span><span class=n>child</span><span class=p>,</span> <span class=n>labels</span><span class=p>,</span> <span class=n>widgets</span><span class=p>)</span>

    <span class=n>app</span> <span class=o>=</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QApplication</span><span class=o>.</span><span class=n>instance</span><span class=p>()</span>
    <span class=n>title</span> <span class=o>=</span> <span class=s2>&quot;Project Settings&quot;</span>
    <span class=k>for</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>app</span><span class=o>.</span><span class=n>topLevelWidgets</span><span class=p>():</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>QtWidgets</span><span class=o>.</span><span class=n>QMainWindow</span><span class=p>):</span>
            <span class=k>if</span> <span class=n>widget</span><span class=o>.</span><span class=n>windowTitle</span><span class=p>()</span> <span class=o>!=</span> <span class=n>title</span><span class=p>:</span>
                <span class=k>continue</span>
            <span class=n>_recursive_children</span><span class=p>(</span><span class=n>widget</span><span class=p>,</span> <span class=n>labels</span><span class=p>,</span> <span class=n>widgets</span><span class=p>)</span>
            <span class=n>widget</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

    <span class=n>msg</span> <span class=o>=</span> <span class=s2>&quot;Setting value </span><span class=se>\&quot;</span><span class=si>{}</span><span class=se>\&quot;</span><span class=s2> is not a valid option for </span><span class=se>\&quot;</span><span class=si>{}</span><span class=se>\&quot;</span><span class=s2>&quot;</span>
    <span class=k>for</span> <span class=n>key</span><span class=p>,</span> <span class=n>widget</span> <span class=ow>in</span> <span class=n>widgets</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        <span class=n>options</span> <span class=o>=</span> <span class=p>[</span><span class=n>widget</span><span class=o>.</span><span class=n>itemText</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>widget</span><span class=o>.</span><span class=n>count</span><span class=p>())]</span>
        <span class=n>setting_value</span> <span class=o>=</span> <span class=n>presets</span><span class=p>[</span><span class=n>key</span><span class=p>]</span>
        <span class=k>assert</span> <span class=n>setting_value</span> <span class=ow>in</span> <span class=n>options</span><span class=p>,</span> <span class=n>msg</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>setting_value</span><span class=p>,</span> <span class=n>key</span><span class=p>)</span>
        <span class=n>widget</span><span class=o>.</span><span class=n>setCurrentText</span><span class=p>(</span><span class=n>presets</span><span class=p>[</span><span class=n>key</span><span class=p>])</span>

    <span class=c1># This code block is for setting up project colorspaces for files on disk.</span>
    <span class=c1># Due to not having Python API access to set the project settings, the</span>
    <span class=c1># Foundry recommended way is to modify the hrox files on disk with XML. See</span>
    <span class=c1># this forum thread for more details;</span>
    <span class=c1># https://community.foundry.com/discuss/topic/137771/change-a-project-s-default-color-transform-with-python  # noqa</span>
<span class=w>    </span><span class=sd>&#39;&#39;&#39;</span>
<span class=sd>    # backward compatibility layer</span>
<span class=sd>    # TODO: remove this after some time</span>
<span class=sd>    config_data = get_current_context_imageio_config_preset()</span>

<span class=sd>    if config_data:</span>
<span class=sd>        presets.update({</span>
<span class=sd>            &quot;ocioConfigName&quot;: &quot;custom&quot;</span>
<span class=sd>        })</span>

<span class=sd>    # get path the the active projects</span>
<span class=sd>    project = get_current_project()</span>
<span class=sd>    current_file = project.path()</span>

<span class=sd>    msg = &quot;The project needs to be saved to disk to apply colorspace settings.&quot;</span>
<span class=sd>    assert current_file, msg</span>

<span class=sd>    # save the workfile as subversion &quot;comment:_colorspaceChange&quot;</span>
<span class=sd>    split_current_file = os.path.splitext(current_file)</span>
<span class=sd>    copy_current_file = current_file</span>

<span class=sd>    if &quot;_colorspaceChange&quot; not in current_file:</span>
<span class=sd>        copy_current_file = (</span>
<span class=sd>            split_current_file[0]</span>
<span class=sd>            + &quot;_colorspaceChange&quot;</span>
<span class=sd>            + split_current_file[1]</span>
<span class=sd>        )</span>

<span class=sd>    try:</span>
<span class=sd>        # duplicate the file so the changes are applied only to the copy</span>
<span class=sd>        shutil.copyfile(current_file, copy_current_file)</span>
<span class=sd>    except shutil.Error:</span>
<span class=sd>        # in case the file already exists and it want to copy to the</span>
<span class=sd>        # same filewe need to do this trick</span>
<span class=sd>        # TEMP file name change</span>
<span class=sd>        copy_current_file_tmp = copy_current_file + &quot;_tmp&quot;</span>
<span class=sd>        # create TEMP file</span>
<span class=sd>        shutil.copyfile(current_file, copy_current_file_tmp)</span>
<span class=sd>        # remove original file</span>
<span class=sd>        os.remove(current_file)</span>
<span class=sd>        # copy TEMP back to original name</span>
<span class=sd>        shutil.copyfile(copy_current_file_tmp, copy_current_file)</span>
<span class=sd>        # remove the TEMP file as we dont need it</span>
<span class=sd>        os.remove(copy_current_file_tmp)</span>

<span class=sd>    # use the code from below for changing xml hrox Attributes</span>
<span class=sd>    presets.update({&quot;name&quot;: os.path.basename(copy_current_file)})</span>

<span class=sd>    # read HROX in as QDomSocument</span>
<span class=sd>    doc = _read_doc_from_path(copy_current_file)</span>

<span class=sd>    # apply project colorspace properties</span>
<span class=sd>    _set_hrox_project_knobs(doc, **presets)</span>

<span class=sd>    # write QDomSocument back as HROX</span>
<span class=sd>    _write_doc_to_path(doc, copy_current_file)</span>

<span class=sd>    # open the file as current project</span>
<span class=sd>    hiero.core.openProject(copy_current_file)</span>
<span class=sd>    &#39;&#39;&#39;</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.containerise class="doc doc-heading"> <code class="highlight language-python"><span class=n>containerise</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>namespace</span><span class=p>,</span> <span class=n>context</span><span class=p>,</span> <span class=n>loader</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Bundle Hiero's object into an assembly and imprint it with metadata</p> <p>Containerisation enables a tracking of version, author and origin for loaded assets.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>track_item</code> </td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span></code> </td> <td> <div class=doc-md-description> <p>object to imprint as container</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of resulting assembly</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>namespace</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Namespace under which to host container</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>context</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Asset information</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>loader</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Name of node used to produce this container.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>track_item</code></td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span></code> </td> <td> <div class=doc-md-description> <p>containerised object</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span>
<span class=normal>108</span>
<span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span>
<span class=normal>114</span>
<span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>containerise</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span>
                 <span class=n>name</span><span class=p>,</span>
                 <span class=n>namespace</span><span class=p>,</span>
                 <span class=n>context</span><span class=p>,</span>
                 <span class=n>loader</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
                 <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Bundle Hiero&#39;s object into an assembly and imprint it with metadata</span>

<span class=sd>    Containerisation enables a tracking of version, author and origin</span>
<span class=sd>    for loaded assets.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        track_item (hiero.core.TrackItem): object to imprint as container</span>
<span class=sd>        name (str): Name of resulting assembly</span>
<span class=sd>        namespace (str): Namespace under which to host container</span>
<span class=sd>        context (dict): Asset information</span>
<span class=sd>        loader (str, optional): Name of node used to produce this container.</span>

<span class=sd>    Returns:</span>
<span class=sd>        track_item (hiero.core.TrackItem): containerised object</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>data_imprint</span> <span class=o>=</span> <span class=n>OrderedDict</span><span class=p>({</span>
        <span class=s2>&quot;schema&quot;</span><span class=p>:</span> <span class=s2>&quot;ayon:container-3.0&quot;</span><span class=p>,</span>
        <span class=s2>&quot;id&quot;</span><span class=p>:</span> <span class=n>AYON_CONTAINER_ID</span><span class=p>,</span>
        <span class=s2>&quot;name&quot;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>name</span><span class=p>),</span>
        <span class=s2>&quot;namespace&quot;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>namespace</span><span class=p>),</span>
        <span class=s2>&quot;loader&quot;</span><span class=p>:</span> <span class=nb>str</span><span class=p>(</span><span class=n>loader</span><span class=p>),</span>
        <span class=s2>&quot;representation&quot;</span><span class=p>:</span> <span class=n>context</span><span class=p>[</span><span class=s2>&quot;representation&quot;</span><span class=p>][</span><span class=s2>&quot;id&quot;</span><span class=p>],</span>
    <span class=p>})</span>

    <span class=k>if</span> <span class=n>data</span><span class=p>:</span>
        <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=n>data_imprint</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=n>k</span><span class=p>:</span> <span class=n>v</span><span class=p>})</span>

    <span class=n>log</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;_ data_imprint: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>data_imprint</span><span class=p>))</span>
    <span class=n>lib</span><span class=o>.</span><span class=n>set_trackitem_ayon_tag</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>data_imprint</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>track_item</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.create_bin class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_bin</span><span class=p>(</span><span class=n>path</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>project</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Create bin in project. If the path is "bin1/bin2/bin3" it will create whole depth and return <code>bin3</code></p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>888</span>
<span class=normal>889</span>
<span class=normal>890</span>
<span class=normal>891</span>
<span class=normal>892</span>
<span class=normal>893</span>
<span class=normal>894</span>
<span class=normal>895</span>
<span class=normal>896</span>
<span class=normal>897</span>
<span class=normal>898</span>
<span class=normal>899</span>
<span class=normal>900</span>
<span class=normal>901</span>
<span class=normal>902</span>
<span class=normal>903</span>
<span class=normal>904</span>
<span class=normal>905</span>
<span class=normal>906</span>
<span class=normal>907</span>
<span class=normal>908</span>
<span class=normal>909</span>
<span class=normal>910</span>
<span class=normal>911</span>
<span class=normal>912</span>
<span class=normal>913</span>
<span class=normal>914</span>
<span class=normal>915</span>
<span class=normal>916</span>
<span class=normal>917</span>
<span class=normal>918</span>
<span class=normal>919</span>
<span class=normal>920</span>
<span class=normal>921</span>
<span class=normal>922</span>
<span class=normal>923</span>
<span class=normal>924</span>
<span class=normal>925</span>
<span class=normal>926</span>
<span class=normal>927</span>
<span class=normal>928</span>
<span class=normal>929</span>
<span class=normal>930</span>
<span class=normal>931</span>
<span class=normal>932</span>
<span class=normal>933</span>
<span class=normal>934</span>
<span class=normal>935</span>
<span class=normal>936</span>
<span class=normal>937</span>
<span class=normal>938</span>
<span class=normal>939</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>create_bin</span><span class=p>(</span><span class=n>path</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>project</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&#39;&#39;&#39;</span>
<span class=sd>    Create bin in project.</span>
<span class=sd>    If the path is &quot;bin1/bin2/bin3&quot; it will create whole depth</span>
<span class=sd>    and return `bin3`</span>

<span class=sd>    &#39;&#39;&#39;</span>
    <span class=c1># get the first loaded project</span>
    <span class=n>project</span> <span class=o>=</span> <span class=n>project</span> <span class=ow>or</span> <span class=n>get_current_project</span><span class=p>()</span>

    <span class=n>path</span> <span class=o>=</span> <span class=n>path</span> <span class=ow>or</span> <span class=n>DEFAULT_BIN_NAME</span>

    <span class=n>path</span> <span class=o>=</span> <span class=n>path</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;</span><span class=se>\\</span><span class=s2>&quot;</span><span class=p>,</span> <span class=s2>&quot;/&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>)</span>

    <span class=n>root_bin</span> <span class=o>=</span> <span class=n>project</span><span class=o>.</span><span class=n>clipsBin</span><span class=p>()</span>

    <span class=n>done_bin_lst</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>b</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>path</span><span class=p>):</span>
        <span class=k>if</span> <span class=n>i</span> <span class=o>==</span> <span class=mi>0</span> <span class=ow>and</span> <span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>b</span> <span class=ow>in</span> <span class=p>[</span><span class=nb>bin</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=k>for</span> <span class=nb>bin</span> <span class=ow>in</span> <span class=n>root_bin</span><span class=o>.</span><span class=n>bins</span><span class=p>()]:</span>
                <span class=nb>bin</span> <span class=o>=</span> <span class=p>[</span><span class=nb>bin</span> <span class=k>for</span> <span class=nb>bin</span> <span class=ow>in</span> <span class=n>root_bin</span><span class=o>.</span><span class=n>bins</span><span class=p>()</span> <span class=k>if</span> <span class=n>b</span> <span class=ow>in</span> <span class=nb>bin</span><span class=o>.</span><span class=n>name</span><span class=p>()][</span><span class=mi>0</span><span class=p>]</span>
                <span class=n>done_bin_lst</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>bin</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>create_bin</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>Bin</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
                <span class=n>root_bin</span><span class=o>.</span><span class=n>addItem</span><span class=p>(</span><span class=n>create_bin</span><span class=p>)</span>
                <span class=n>done_bin_lst</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>create_bin</span><span class=p>)</span>

        <span class=k>elif</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>1</span> <span class=ow>and</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>b</span> <span class=ow>in</span> <span class=p>[</span><span class=nb>bin</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=k>for</span> <span class=nb>bin</span> <span class=ow>in</span> <span class=n>done_bin_lst</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>bins</span><span class=p>()]:</span>
                <span class=nb>bin</span> <span class=o>=</span> <span class=p>[</span>
                    <span class=nb>bin</span> <span class=k>for</span> <span class=nb>bin</span> <span class=ow>in</span> <span class=n>done_bin_lst</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>bins</span><span class=p>()</span>
                    <span class=k>if</span> <span class=n>b</span> <span class=ow>in</span> <span class=nb>bin</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>
                <span class=p>][</span><span class=mi>0</span><span class=p>]</span>
                <span class=n>done_bin_lst</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>bin</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>create_bin</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>Bin</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
                <span class=n>done_bin_lst</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>addItem</span><span class=p>(</span><span class=n>create_bin</span><span class=p>)</span>
                <span class=n>done_bin_lst</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>create_bin</span><span class=p>)</span>

        <span class=k>elif</span> <span class=n>i</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>b</span> <span class=ow>in</span> <span class=p>[</span><span class=nb>bin</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=k>for</span> <span class=nb>bin</span> <span class=ow>in</span> <span class=n>done_bin_lst</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>bins</span><span class=p>()]:</span>
                <span class=nb>bin</span> <span class=o>=</span> <span class=p>[</span>
                    <span class=nb>bin</span> <span class=k>for</span> <span class=nb>bin</span> <span class=ow>in</span> <span class=n>done_bin_lst</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>bins</span><span class=p>()</span>
                    <span class=k>if</span> <span class=n>b</span> <span class=ow>in</span> <span class=nb>bin</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>
                <span class=p>][</span><span class=mi>0</span><span class=p>]</span>
                <span class=n>done_bin_lst</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>bin</span><span class=p>)</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>create_bin</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>Bin</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
                <span class=n>done_bin_lst</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>addItem</span><span class=p>(</span><span class=n>create_bin</span><span class=p>)</span>
                <span class=n>done_bin_lst</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>create_bin</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>done_bin_lst</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.create_nuke_workfile_clips class="doc doc-heading"> <code class="highlight language-python"><span class=n>create_nuke_workfile_clips</span><span class=p>(</span><span class=n>nuke_workfiles</span><span class=p>,</span> <span class=n>seq</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>nuke_workfiles is list of dictionaries like: [{ 'path': 'P:/Jakub_testy_pipeline/test_v01.nk', 'name': 'test', 'handleStart': 15, # added asymmetrically to handles 'handleEnd': 10, # added asymmetrically to handles "clipIn": 16, "frameStart": 991, "frameEnd": 1023, 'task': 'Comp-tracking', 'work_dir': 'VFX_PR', 'shot': '00010' }]</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>805</span>
<span class=normal>806</span>
<span class=normal>807</span>
<span class=normal>808</span>
<span class=normal>809</span>
<span class=normal>810</span>
<span class=normal>811</span>
<span class=normal>812</span>
<span class=normal>813</span>
<span class=normal>814</span>
<span class=normal>815</span>
<span class=normal>816</span>
<span class=normal>817</span>
<span class=normal>818</span>
<span class=normal>819</span>
<span class=normal>820</span>
<span class=normal>821</span>
<span class=normal>822</span>
<span class=normal>823</span>
<span class=normal>824</span>
<span class=normal>825</span>
<span class=normal>826</span>
<span class=normal>827</span>
<span class=normal>828</span>
<span class=normal>829</span>
<span class=normal>830</span>
<span class=normal>831</span>
<span class=normal>832</span>
<span class=normal>833</span>
<span class=normal>834</span>
<span class=normal>835</span>
<span class=normal>836</span>
<span class=normal>837</span>
<span class=normal>838</span>
<span class=normal>839</span>
<span class=normal>840</span>
<span class=normal>841</span>
<span class=normal>842</span>
<span class=normal>843</span>
<span class=normal>844</span>
<span class=normal>845</span>
<span class=normal>846</span>
<span class=normal>847</span>
<span class=normal>848</span>
<span class=normal>849</span>
<span class=normal>850</span>
<span class=normal>851</span>
<span class=normal>852</span>
<span class=normal>853</span>
<span class=normal>854</span>
<span class=normal>855</span>
<span class=normal>856</span>
<span class=normal>857</span>
<span class=normal>858</span>
<span class=normal>859</span>
<span class=normal>860</span>
<span class=normal>861</span>
<span class=normal>862</span>
<span class=normal>863</span>
<span class=normal>864</span>
<span class=normal>865</span>
<span class=normal>866</span>
<span class=normal>867</span>
<span class=normal>868</span>
<span class=normal>869</span>
<span class=normal>870</span>
<span class=normal>871</span>
<span class=normal>872</span>
<span class=normal>873</span>
<span class=normal>874</span>
<span class=normal>875</span>
<span class=normal>876</span>
<span class=normal>877</span>
<span class=normal>878</span>
<span class=normal>879</span>
<span class=normal>880</span>
<span class=normal>881</span>
<span class=normal>882</span>
<span class=normal>883</span>
<span class=normal>884</span>
<span class=normal>885</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>create_nuke_workfile_clips</span><span class=p>(</span><span class=n>nuke_workfiles</span><span class=p>,</span> <span class=n>seq</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&#39;&#39;&#39;</span>
<span class=sd>    nuke_workfiles is list of dictionaries like:</span>
<span class=sd>    [{</span>
<span class=sd>        &#39;path&#39;: &#39;P:/Jakub_testy_pipeline/test_v01.nk&#39;,</span>
<span class=sd>        &#39;name&#39;: &#39;test&#39;,</span>
<span class=sd>        &#39;handleStart&#39;: 15, # added asymmetrically to handles</span>
<span class=sd>        &#39;handleEnd&#39;: 10, # added asymmetrically to handles</span>
<span class=sd>        &quot;clipIn&quot;: 16,</span>
<span class=sd>        &quot;frameStart&quot;: 991,</span>
<span class=sd>        &quot;frameEnd&quot;: 1023,</span>
<span class=sd>        &#39;task&#39;: &#39;Comp-tracking&#39;,</span>
<span class=sd>        &#39;work_dir&#39;: &#39;VFX_PR&#39;,</span>
<span class=sd>        &#39;shot&#39;: &#39;00010&#39;</span>
<span class=sd>    }]</span>
<span class=sd>    &#39;&#39;&#39;</span>

    <span class=n>proj</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>projects</span><span class=p>()[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
    <span class=n>root</span> <span class=o>=</span> <span class=n>proj</span><span class=o>.</span><span class=n>clipsBin</span><span class=p>()</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>seq</span><span class=p>:</span>
        <span class=n>seq</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>Sequence</span><span class=p>(</span><span class=s1>&#39;NewSequences&#39;</span><span class=p>)</span>
        <span class=n>root</span><span class=o>.</span><span class=n>addItem</span><span class=p>(</span><span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>BinItem</span><span class=p>(</span><span class=n>seq</span><span class=p>))</span>
    <span class=c1># todo will need to define this better</span>
    <span class=c1># track = seq[1]  # lazy example to get a destination#  track</span>
    <span class=n>clips_lst</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>nk</span> <span class=ow>in</span> <span class=n>nuke_workfiles</span><span class=p>:</span>
        <span class=n>task_path</span> <span class=o>=</span> <span class=s1>&#39;/&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=n>nk</span><span class=p>[</span><span class=s1>&#39;work_dir&#39;</span><span class=p>],</span> <span class=n>nk</span><span class=p>[</span><span class=s1>&#39;shot&#39;</span><span class=p>],</span> <span class=n>nk</span><span class=p>[</span><span class=s1>&#39;task&#39;</span><span class=p>]])</span>
        <span class=nb>bin</span> <span class=o>=</span> <span class=n>create_bin</span><span class=p>(</span><span class=n>task_path</span><span class=p>,</span> <span class=n>proj</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>nk</span><span class=p>[</span><span class=s1>&#39;task&#39;</span><span class=p>]</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>seq</span><span class=o>.</span><span class=n>videoTracks</span><span class=p>():</span>
            <span class=n>track</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>VideoTrack</span><span class=p>(</span><span class=n>nk</span><span class=p>[</span><span class=s1>&#39;task&#39;</span><span class=p>])</span>
            <span class=n>seq</span><span class=o>.</span><span class=n>addTrack</span><span class=p>(</span><span class=n>track</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>track</span> <span class=o>=</span> <span class=n>seq</span><span class=o>.</span><span class=n>tracks</span><span class=p>(</span><span class=n>nk</span><span class=p>[</span><span class=s1>&#39;task&#39;</span><span class=p>])</span>

        <span class=c1># create clip media</span>
        <span class=n>media</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>MediaSource</span><span class=p>(</span><span class=n>nk</span><span class=p>[</span><span class=s1>&#39;path&#39;</span><span class=p>])</span>
        <span class=n>media_in</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>media</span><span class=o>.</span><span class=n>startTime</span><span class=p>()</span> <span class=ow>or</span> <span class=mi>0</span><span class=p>)</span>
        <span class=n>media_duration</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>media</span><span class=o>.</span><span class=n>duration</span><span class=p>()</span> <span class=ow>or</span> <span class=mi>0</span><span class=p>)</span>

        <span class=n>handle_start</span> <span class=o>=</span> <span class=n>nk</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handleStart&quot;</span><span class=p>)</span>
        <span class=n>handle_end</span> <span class=o>=</span> <span class=n>nk</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;handleEnd&quot;</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>media_in</span><span class=p>:</span>
            <span class=n>source_in</span> <span class=o>=</span> <span class=n>media_in</span> <span class=o>+</span> <span class=n>handle_start</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>source_in</span> <span class=o>=</span> <span class=n>nk</span><span class=p>[</span><span class=s2>&quot;frameStart&quot;</span><span class=p>]</span> <span class=o>+</span> <span class=n>handle_start</span>

        <span class=k>if</span> <span class=n>media_duration</span><span class=p>:</span>
            <span class=n>source_out</span> <span class=o>=</span> <span class=p>(</span><span class=n>media_in</span> <span class=o>+</span> <span class=n>media_duration</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>-</span> <span class=n>handle_end</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>source_out</span> <span class=o>=</span> <span class=n>nk</span><span class=p>[</span><span class=s2>&quot;frameEnd&quot;</span><span class=p>]</span> <span class=o>-</span> <span class=n>handle_end</span>

        <span class=n>source</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>Clip</span><span class=p>(</span><span class=n>media</span><span class=p>)</span>

        <span class=n>name</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=n>nk</span><span class=p>[</span><span class=s1>&#39;path&#39;</span><span class=p>])[</span><span class=mi>0</span><span class=p>])</span>
        <span class=n>split_name</span> <span class=o>=</span> <span class=n>split_by_client_version</span><span class=p>(</span><span class=n>name</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span> <span class=ow>or</span> <span class=n>name</span>

        <span class=c1># add to bin as clip item</span>
        <span class=n>items_in_bin</span> <span class=o>=</span> <span class=p>[</span><span class=n>b</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=k>for</span> <span class=n>b</span> <span class=ow>in</span> <span class=nb>bin</span><span class=o>.</span><span class=n>items</span><span class=p>()]</span>
        <span class=k>if</span> <span class=n>split_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>items_in_bin</span><span class=p>:</span>
            <span class=n>binItem</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>BinItem</span><span class=p>(</span><span class=n>source</span><span class=p>)</span>
            <span class=nb>bin</span><span class=o>.</span><span class=n>addItem</span><span class=p>(</span><span class=n>binItem</span><span class=p>)</span>

        <span class=n>new_source</span> <span class=o>=</span> <span class=p>[</span>
            <span class=n>item</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=nb>bin</span><span class=o>.</span><span class=n>items</span><span class=p>()</span> <span class=k>if</span> <span class=n>split_name</span> <span class=ow>in</span> <span class=n>item</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>
        <span class=p>][</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>items</span><span class=p>()[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>item</span><span class=p>()</span>

        <span class=c1># add to track as clip item</span>
        <span class=n>trackItem</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TrackItem</span><span class=p>(</span>
            <span class=n>split_name</span><span class=p>,</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TrackItem</span><span class=o>.</span><span class=n>kVideo</span><span class=p>)</span>
        <span class=n>trackItem</span><span class=o>.</span><span class=n>setSource</span><span class=p>(</span><span class=n>new_source</span><span class=p>)</span>
        <span class=n>trackItem</span><span class=o>.</span><span class=n>setSourceIn</span><span class=p>(</span><span class=n>source_in</span><span class=p>)</span>
        <span class=n>trackItem</span><span class=o>.</span><span class=n>setSourceOut</span><span class=p>(</span><span class=n>source_out</span><span class=p>)</span>
        <span class=n>trackItem</span><span class=o>.</span><span class=n>setTimelineIn</span><span class=p>(</span><span class=n>nk</span><span class=p>[</span><span class=s2>&quot;clipIn&quot;</span><span class=p>])</span>
        <span class=n>trackItem</span><span class=o>.</span><span class=n>setTimelineOut</span><span class=p>(</span><span class=n>nk</span><span class=p>[</span><span class=s2>&quot;clipIn&quot;</span><span class=p>]</span> <span class=o>+</span> <span class=p>(</span><span class=n>source_out</span> <span class=o>-</span> <span class=n>source_in</span><span class=p>))</span>
        <span class=n>track</span><span class=o>.</span><span class=n>addTrackItem</span><span class=p>(</span><span class=n>trackItem</span><span class=p>)</span>
        <span class=n>clips_lst</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>trackItem</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>clips_lst</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.get_current_sequence class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_current_sequence</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>new</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get current sequence in context of active project.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code>str)[optional]</code> </td> <td> <div class=doc-md-description> <p>name of sequence we want to return</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>new</code> </td> <td> <code>bool)[optional]</code> </td> <td> <div class=doc-md-description> <p>if we want to create new one</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hiero.core.Sequence: the sequence object</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span>
<span class=normal>120</span>
<span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span>
<span class=normal>124</span>
<span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_current_sequence</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>new</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Get current sequence in context of active project.</span>

<span class=sd>    Args:</span>
<span class=sd>        name (str)[optional]: name of sequence we want to return</span>
<span class=sd>        new (bool)[optional]: if we want to create new one</span>

<span class=sd>    Returns:</span>
<span class=sd>        hiero.core.Sequence: the sequence object</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>sequence</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=n>project</span> <span class=o>=</span> <span class=n>get_current_project</span><span class=p>()</span>
    <span class=n>root_bin</span> <span class=o>=</span> <span class=n>project</span><span class=o>.</span><span class=n>clipsBin</span><span class=p>()</span>

    <span class=k>if</span> <span class=n>new</span><span class=p>:</span>
        <span class=c1># create new</span>
        <span class=n>name</span> <span class=o>=</span> <span class=n>name</span> <span class=ow>or</span> <span class=n>DEFAULT_SEQUENCE_NAME</span>
        <span class=n>sequence</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>Sequence</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
        <span class=n>root_bin</span><span class=o>.</span><span class=n>addItem</span><span class=p>(</span><span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>BinItem</span><span class=p>(</span><span class=n>sequence</span><span class=p>))</span>
    <span class=k>elif</span> <span class=n>name</span><span class=p>:</span>
        <span class=c1># look for sequence by name</span>
        <span class=n>sequences</span> <span class=o>=</span> <span class=n>project</span><span class=o>.</span><span class=n>sequences</span><span class=p>()</span>
        <span class=k>for</span> <span class=n>_sequence</span> <span class=ow>in</span> <span class=n>sequences</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>_sequence</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=o>==</span> <span class=n>name</span><span class=p>:</span>
                <span class=n>sequence</span> <span class=o>=</span> <span class=n>_sequence</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>sequence</span><span class=p>:</span>
            <span class=c1># if nothing found create new with input name</span>
            <span class=n>sequence</span> <span class=o>=</span> <span class=n>get_current_sequence</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=c1># if name is none and new is False then return current open sequence</span>
        <span class=n>sequence</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>ui</span><span class=o>.</span><span class=n>activeSequence</span><span class=p>()</span>

    <span class=k>return</span> <span class=n>sequence</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.get_current_track class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_current_track</span><span class=p>(</span><span class=n>sequence</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>audio</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get current track in context of active project.</p> <p>Creates new if none is found.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>sequence</code> </td> <td> <code><span title=hiero.core.Sequence>Sequence</span></code> </td> <td> <div class=doc-md-description> <p>hiero sequence object</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>name of track we want to return</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>audio</code> </td> <td> <code>bool)[optional]</code> </td> <td> <div class=doc-md-description> <p>switch to AudioTrack</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hiero.core.Track: the track object</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_current_track</span><span class=p>(</span><span class=n>sequence</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>audio</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Get current track in context of active project.</span>

<span class=sd>    Creates new if none is found.</span>

<span class=sd>    Args:</span>
<span class=sd>        sequence (hiero.core.Sequence): hiero sequence object</span>
<span class=sd>        name (str): name of track we want to return</span>
<span class=sd>        audio (bool)[optional]: switch to AudioTrack</span>

<span class=sd>    Returns:</span>
<span class=sd>        hiero.core.Track: the track object</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>tracks</span> <span class=o>=</span> <span class=n>sequence</span><span class=o>.</span><span class=n>videoTracks</span><span class=p>()</span>

    <span class=k>if</span> <span class=n>audio</span><span class=p>:</span>
        <span class=n>tracks</span> <span class=o>=</span> <span class=n>sequence</span><span class=o>.</span><span class=n>audioTracks</span><span class=p>()</span>

    <span class=c1># get track by name</span>
    <span class=n>track</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>for</span> <span class=n>_track</span> <span class=ow>in</span> <span class=n>tracks</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>_track</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=o>==</span> <span class=n>name</span><span class=p>:</span>
            <span class=n>track</span> <span class=o>=</span> <span class=n>_track</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>track</span><span class=p>:</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=n>audio</span><span class=p>:</span>
            <span class=n>track</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>VideoTrack</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>track</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>AudioTrack</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>

        <span class=n>sequence</span><span class=o>.</span><span class=n>addTrack</span><span class=p>(</span><span class=n>track</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>track</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.get_sequence_pattern_and_padding class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_sequence_pattern_and_padding</span><span class=p>(</span><span class=n>file</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return sequence pattern and padding from file</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=client.ayon_hiero.api.get_sequence_pattern_and_padding.file>file</span></code></td> <td> <code><span title=string>string</span></code> </td> <td> <div class=doc-md-description> <p>basename form path</p> </div> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <p>Can find file.0001.ext, file.%02d.ext, file.####.ext</p> </details> <details class=return open> <summary>Return</summary> <p>string: any matching sequence pattern int: padding of sequence numbering</p> </details> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1199</span>
<span class=normal>1200</span>
<span class=normal>1201</span>
<span class=normal>1202</span>
<span class=normal>1203</span>
<span class=normal>1204</span>
<span class=normal>1205</span>
<span class=normal>1206</span>
<span class=normal>1207</span>
<span class=normal>1208</span>
<span class=normal>1209</span>
<span class=normal>1210</span>
<span class=normal>1211</span>
<span class=normal>1212</span>
<span class=normal>1213</span>
<span class=normal>1214</span>
<span class=normal>1215</span>
<span class=normal>1216</span>
<span class=normal>1217</span>
<span class=normal>1218</span>
<span class=normal>1219</span>
<span class=normal>1220</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_sequence_pattern_and_padding</span><span class=p>(</span><span class=n>file</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot; Return sequence pattern and padding from file</span>

<span class=sd>    Attributes:</span>
<span class=sd>        file (string): basename form path</span>

<span class=sd>    Example:</span>
<span class=sd>        Can find file.0001.ext, file.%02d.ext, file.####.ext</span>

<span class=sd>    Return:</span>
<span class=sd>        string: any matching sequence pattern</span>
<span class=sd>        int: padding of sequence numbering</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>foundall</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span>
        <span class=sa>r</span><span class=s2>&quot;(#+)|(%\d+d)|(?&lt;=[^a-zA-Z0-9])(\d+)(?=\.\w+$)&quot;</span><span class=p>,</span> <span class=n>file</span><span class=p>)</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>foundall</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>None</span><span class=p>,</span> <span class=kc>None</span>
    <span class=n>found</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>foundall</span><span class=p>[</span><span class=mi>0</span><span class=p>])))[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

    <span class=n>padding</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span>
        <span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;\d+&quot;</span><span class=p>,</span> <span class=n>found</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span> <span class=k>if</span> <span class=s2>&quot;%&quot;</span> <span class=ow>in</span> <span class=n>found</span> <span class=k>else</span> <span class=nb>len</span><span class=p>(</span><span class=n>found</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>found</span><span class=p>,</span> <span class=n>padding</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.get_track_ayon_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_track_ayon_data</span><span class=p>(</span><span class=n>track</span><span class=p>,</span> <span class=n>container_name</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get track's AYON tag data.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=client.ayon_hiero.api.get_track_ayon_data.trackItem>trackItem</span></code></td> <td> <code><span title=hiero.core.VideoTrack>VideoTrack</span></code> </td> <td> <div class=doc-md-description> <p>hiero object</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>data found on the AYON tag</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_track_ayon_data</span><span class=p>(</span><span class=n>track</span><span class=p>,</span> <span class=n>container_name</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Get track&#39;s AYON tag data.</span>

<span class=sd>    Attributes:</span>
<span class=sd>        trackItem (hiero.core.VideoTrack): hiero object</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: data found on the AYON tag</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>return_data</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=c1># get pype data tag from track item</span>
    <span class=n>tag</span> <span class=o>=</span> <span class=n>get_track_ayon_tag</span><span class=p>(</span><span class=n>track</span><span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>tag</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=c1># get tag metadata attribute</span>
    <span class=n>tag_data</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=n>tag</span><span class=o>.</span><span class=n>metadata</span><span class=p>()))</span>
    <span class=k>if</span> <span class=n>tag_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;tag.json_metadata&quot;</span><span class=p>):</span>
        <span class=n>tag_data</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>tag_data</span><span class=p>[</span><span class=s2>&quot;tag.json_metadata&quot;</span><span class=p>])</span>

    <span class=n>ignore_names</span>  <span class=o>=</span> <span class=p>{</span><span class=s2>&quot;applieswhole&quot;</span><span class=p>,</span> <span class=s2>&quot;note&quot;</span><span class=p>,</span> <span class=s2>&quot;label&quot;</span><span class=p>}</span>
    <span class=k>for</span> <span class=n>obj_name</span><span class=p>,</span> <span class=n>obj_data</span> <span class=ow>in</span> <span class=n>tag_data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        <span class=n>obj_name</span> <span class=o>=</span> <span class=n>obj_name</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;tag.&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>obj_name</span> <span class=ow>in</span> <span class=n>ignore_names</span><span class=p>:</span>
            <span class=k>continue</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>obj_data</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
            <span class=n>return_data</span><span class=p>[</span><span class=n>obj_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>obj_data</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>return_data</span><span class=p>[</span><span class=n>obj_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>obj_data</span><span class=p>)</span>

    <span class=k>return</span> <span class=p>(</span>
        <span class=n>return_data</span><span class=p>[</span><span class=n>container_name</span><span class=p>]</span>
        <span class=k>if</span> <span class=n>container_name</span>
        <span class=k>else</span> <span class=n>return_data</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.get_track_ayon_tag class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_track_ayon_tag</span><span class=p>(</span><span class=n>track</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get AYON track item tag created by creator or loader plugin.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=client.ayon_hiero.api.get_track_ayon_tag.trackItem>trackItem</span></code></td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span></code> </td> <td> <div class=doc-md-description> <p>hiero object</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hiero.core.Tag: hierarchy, orig clip attributes</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_track_ayon_tag</span><span class=p>(</span><span class=n>track</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Get AYON track item tag created by creator or loader plugin.</span>

<span class=sd>    Attributes:</span>
<span class=sd>        trackItem (hiero.core.TrackItem): hiero object</span>

<span class=sd>    Returns:</span>
<span class=sd>        hiero.core.Tag: hierarchy, orig clip attributes</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># get all tags from track item</span>
    <span class=n>_tags</span> <span class=o>=</span> <span class=n>track</span><span class=o>.</span><span class=n>tags</span><span class=p>()</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>_tags</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>None</span>
    <span class=k>for</span> <span class=n>tag</span> <span class=ow>in</span> <span class=n>_tags</span><span class=p>:</span>
        <span class=c1># return only correct tag defined by global name</span>
        <span class=k>if</span> <span class=n>AYON_TAG_NAME</span> <span class=ow>in</span> <span class=n>tag</span><span class=o>.</span><span class=n>name</span><span class=p>():</span>
            <span class=k>return</span> <span class=n>tag</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.get_track_item_tags class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_track_item_tags</span><span class=p>(</span><span class=n>track_item</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get track item tags excluding AYON tag</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=client.ayon_hiero.api.get_track_item_tags.trackItem>trackItem</span></code></td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span></code> </td> <td> <div class=doc-md-description> <p>hiero object</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hiero.core.Tag: hierarchy, orig clip attributes</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_track_item_tags</span><span class=p>(</span><span class=n>track_item</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Get track item tags excluding AYON tag</span>

<span class=sd>    Attributes:</span>
<span class=sd>        trackItem (hiero.core.TrackItem): hiero object</span>

<span class=sd>    Returns:</span>
<span class=sd>        hiero.core.Tag: hierarchy, orig clip attributes</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>returning_tag_data</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=c1># get all tags from track item</span>
    <span class=n>_tags</span> <span class=o>=</span> <span class=n>track_item</span><span class=o>.</span><span class=n>tags</span><span class=p>()</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>_tags</span><span class=p>:</span>
        <span class=k>return</span> <span class=p>[]</span>

    <span class=c1># collect all tags which are not AYON tag</span>
    <span class=n>returning_tag_data</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span>
        <span class=n>tag</span> <span class=k>for</span> <span class=n>tag</span> <span class=ow>in</span> <span class=n>_tags</span>
        <span class=k>if</span> <span class=n>tag</span><span class=o>.</span><span class=n>name</span><span class=p>()</span> <span class=o>!=</span> <span class=n>AYON_TAG_NAME</span>
    <span class=p>)</span>

    <span class=k>return</span> <span class=n>returning_tag_data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.get_track_items class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_track_items</span><span class=p>(</span><span class=n>selection</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>sequence_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>track_item_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>track_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>track_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>check_enabled</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>check_locked</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span> <span class=n>check_tagged</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get all available current timeline track items.</p> <details class=attribute open> <summary>Attribute</summary> <p>selection (list)[optional]: list of selected track items sequence_name (str)[optional]: return only clips from input sequence track_item_name (str)[optional]: return only item with input name track_name (str)[optional]: return only items from track name track_type (str)[optional]: return only items of given type (<code>audio</code> or <code>video</code>) default is <code>video</code> check_enabled (bool)[optional]: ignore disabled if True check_locked (bool)[optional]: ignore locked if True</p> </details> <details class=return open> <summary>Return</summary> <p>list or hiero.core.TrackItem: list of track items or single track item</p> </details> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span>
<span class=normal>233</span>
<span class=normal>234</span>
<span class=normal>235</span>
<span class=normal>236</span>
<span class=normal>237</span>
<span class=normal>238</span>
<span class=normal>239</span>
<span class=normal>240</span>
<span class=normal>241</span>
<span class=normal>242</span>
<span class=normal>243</span>
<span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_track_items</span><span class=p>(</span>
        <span class=n>selection</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
        <span class=n>sequence_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>track_item_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>track_name</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>track_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>check_enabled</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
        <span class=n>check_locked</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
        <span class=n>check_tagged</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get all available current timeline track items.</span>

<span class=sd>    Attribute:</span>
<span class=sd>        selection (list)[optional]: list of selected track items</span>
<span class=sd>        sequence_name (str)[optional]: return only clips from input sequence</span>
<span class=sd>        track_item_name (str)[optional]: return only item with input name</span>
<span class=sd>        track_name (str)[optional]: return only items from track name</span>
<span class=sd>        track_type (str)[optional]: return only items of given type</span>
<span class=sd>                                    (`audio` or `video`) default is `video`</span>
<span class=sd>        check_enabled (bool)[optional]: ignore disabled if True</span>
<span class=sd>        check_locked (bool)[optional]: ignore locked if True</span>

<span class=sd>    Return:</span>
<span class=sd>        list or hiero.core.TrackItem: list of track items or single track item</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>track_type</span> <span class=o>=</span> <span class=n>track_type</span> <span class=ow>or</span> <span class=s2>&quot;video&quot;</span>
    <span class=n>selection</span> <span class=o>=</span> <span class=n>selection</span> <span class=ow>or</span> <span class=p>[]</span>
    <span class=n>return_list</span> <span class=o>=</span> <span class=p>[]</span>

    <span class=c1># get selected track items or all in active sequence</span>
    <span class=k>if</span> <span class=n>selection</span><span class=p>:</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=k>for</span> <span class=n>track_item</span> <span class=ow>in</span> <span class=n>selection</span><span class=p>:</span>
                <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;___ track_item: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>track_item</span><span class=p>))</span>
                <span class=c1># make sure only trackitems are selected</span>
                <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TrackItem</span><span class=p>):</span>
                    <span class=k>continue</span>

                <span class=k>if</span> <span class=n>_validate_all_atrributes</span><span class=p>(</span>
                    <span class=n>track_item</span><span class=p>,</span>
                    <span class=n>track_item_name</span><span class=p>,</span>
                    <span class=n>track_name</span><span class=p>,</span>
                    <span class=n>track_type</span><span class=p>,</span>
                    <span class=n>check_enabled</span><span class=p>,</span>
                    <span class=n>check_tagged</span>
                <span class=p>):</span>
                    <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;___ valid trackitem: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>track_item</span><span class=p>))</span>
                    <span class=n>return_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>track_item</span><span class=p>)</span>
        <span class=k>except</span> <span class=ne>AttributeError</span><span class=p>:</span>
            <span class=k>pass</span>

    <span class=c1># collect all available active sequence track items</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>return_list</span><span class=p>:</span>
        <span class=n>sequence</span> <span class=o>=</span> <span class=n>get_current_sequence</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=n>sequence_name</span><span class=p>)</span>
        <span class=n>tracks</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=k>if</span> <span class=n>sequence</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
            <span class=c1># get all available tracks from sequence</span>
            <span class=n>tracks</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>sequence</span><span class=o>.</span><span class=n>audioTracks</span><span class=p>())</span>
            <span class=n>tracks</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>sequence</span><span class=o>.</span><span class=n>videoTracks</span><span class=p>())</span>

        <span class=c1># loop all tracks</span>
        <span class=k>for</span> <span class=n>track</span> <span class=ow>in</span> <span class=n>tracks</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>check_locked</span> <span class=ow>and</span> <span class=n>track</span><span class=o>.</span><span class=n>isLocked</span><span class=p>():</span>
                <span class=k>continue</span>
            <span class=k>if</span> <span class=n>check_enabled</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>track</span><span class=o>.</span><span class=n>isEnabled</span><span class=p>():</span>
                <span class=k>continue</span>
            <span class=c1># and all items in track</span>
            <span class=k>for</span> <span class=n>track_item</span> <span class=ow>in</span> <span class=n>track</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
                <span class=c1># make sure no subtrackitem is also track items</span>
                <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>TrackItem</span><span class=p>):</span>
                    <span class=k>continue</span>

                <span class=k>if</span> <span class=n>_validate_all_atrributes</span><span class=p>(</span>
                    <span class=n>track_item</span><span class=p>,</span>
                    <span class=n>track_item_name</span><span class=p>,</span>
                    <span class=n>track_name</span><span class=p>,</span>
                    <span class=n>track_type</span><span class=p>,</span>
                    <span class=n>check_enabled</span><span class=p>,</span>
                    <span class=n>check_tagged</span>
                <span class=p>):</span>
                    <span class=n>return_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>track_item</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>return_list</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.get_trackitem_ayon_data class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_trackitem_ayon_data</span><span class=p>(</span><span class=n>track_item</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get track item's AYON tag data.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=client.ayon_hiero.api.get_trackitem_ayon_data.trackItem>trackItem</span></code></td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span></code> </td> <td> <div class=doc-md-description> <p>hiero object</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>data found on pype tag</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_trackitem_ayon_data</span><span class=p>(</span><span class=n>track_item</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Get track item&#39;s AYON tag data.</span>

<span class=sd>    Attributes:</span>
<span class=sd>        trackItem (hiero.core.TrackItem): hiero object</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: data found on pype tag</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=c1># get pype data tag from track item</span>
    <span class=n>tag</span> <span class=o>=</span> <span class=n>get_trackitem_ayon_tag</span><span class=p>(</span><span class=n>track_item</span><span class=p>)</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>tag</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>None</span>

    <span class=c1># get tag metadata attribute</span>
    <span class=n>tag_data</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=nb>dict</span><span class=p>(</span><span class=n>tag</span><span class=o>.</span><span class=n>metadata</span><span class=p>()))</span>
    <span class=k>if</span> <span class=n>tag_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;tag.json_metadata&quot;</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>json</span><span class=o>.</span><span class=n>loads</span><span class=p>(</span><span class=n>tag_data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;tag.json_metadata&quot;</span><span class=p>))</span>

    <span class=c1># convert tag metadata to normal keys names and values to correct types</span>
    <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>tag_data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
        <span class=n>key</span> <span class=o>=</span> <span class=n>k</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&quot;tag.&quot;</span><span class=p>,</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>

        <span class=k>try</span><span class=p>:</span>
            <span class=c1># capture exceptions which are related to strings only</span>
            <span class=k>if</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^[\d]+$&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>):</span>
                <span class=n>value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
            <span class=k>elif</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^True$&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>):</span>
                <span class=n>value</span> <span class=o>=</span> <span class=kc>True</span>
            <span class=k>elif</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^False$&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>):</span>
                <span class=n>value</span> <span class=o>=</span> <span class=kc>False</span>
            <span class=k>elif</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^None$&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>):</span>
                <span class=n>value</span> <span class=o>=</span> <span class=kc>None</span>
            <span class=k>elif</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sa>r</span><span class=s2>&quot;^[\w\d_]+$&quot;</span><span class=p>,</span> <span class=n>v</span><span class=p>):</span>
                <span class=n>value</span> <span class=o>=</span> <span class=n>v</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>value</span> <span class=o>=</span> <span class=n>ast</span><span class=o>.</span><span class=n>literal_eval</span><span class=p>(</span><span class=n>v</span><span class=p>)</span>
        <span class=k>except</span> <span class=p>(</span><span class=ne>ValueError</span><span class=p>,</span> <span class=ne>SyntaxError</span><span class=p>):</span>
            <span class=n>value</span> <span class=o>=</span> <span class=n>v</span>

        <span class=n>data</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>return</span> <span class=n>data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.get_trackitem_ayon_tag class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_trackitem_ayon_tag</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>tag_name</span><span class=o>=</span><span class=n>AYON_TAG_NAME</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Get pype track item tag created by creator or loader plugin.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=client.ayon_hiero.api.get_trackitem_ayon_tag.trackItem>trackItem</span></code></td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span></code> </td> <td> <div class=doc-md-description> <p>hiero object</p> </div> </td> </tr> <tr class=doc-section-item> <td><code><span title=client.ayon_hiero.api.get_trackitem_ayon_tag.tag_name>tag_name</span></code></td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The tag name.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hiero.core.Tag: hierarchy, orig clip attributes</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_trackitem_ayon_tag</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>tag_name</span><span class=o>=</span><span class=n>AYON_TAG_NAME</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Get pype track item tag created by creator or loader plugin.</span>

<span class=sd>    Attributes:</span>
<span class=sd>        trackItem (hiero.core.TrackItem): hiero object</span>
<span class=sd>        tag_name (str): The tag name.</span>

<span class=sd>    Returns:</span>
<span class=sd>        hiero.core.Tag: hierarchy, orig clip attributes</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># get all tags from track item</span>
    <span class=n>_tags</span> <span class=o>=</span> <span class=n>track_item</span><span class=o>.</span><span class=n>tags</span><span class=p>()</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>_tags</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>None</span>
    <span class=k>for</span> <span class=n>tag</span> <span class=ow>in</span> <span class=n>_tags</span><span class=p>:</span>
        <span class=c1># return only correct tag defined by global name</span>
        <span class=k>if</span> <span class=n>tag_name</span> <span class=ow>in</span> <span class=n>tag</span><span class=o>.</span><span class=n>name</span><span class=p>():</span>
            <span class=k>return</span> <span class=n>tag</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.imprint class="doc doc-heading"> <code class="highlight language-python"><span class=n>imprint</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Adding <code>Avalon data</code> into a hiero track item tag.</p> <p>Also including publish attribute into tag.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>track_item</code> </td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span></code> </td> <td> <div class=doc-md-description> <p>hiero track item object</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>data</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>Any data which needs to be imprinted</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <p>data = { 'folderPath': '/shots/sq020sh0280', 'productType': 'render', 'productName': 'productMain' }</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span>
<span class=normal>588</span>
<span class=normal>589</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>imprint</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Adding `Avalon data` into a hiero track item tag.</span>

<span class=sd>    Also including publish attribute into tag.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        track_item (hiero.core.TrackItem): hiero track item object</span>
<span class=sd>        data (dict): Any data which needs to be imprinted</span>

<span class=sd>    Examples:</span>
<span class=sd>        data = {</span>
<span class=sd>            &#39;folderPath&#39;: &#39;/shots/sq020sh0280&#39;,</span>
<span class=sd>            &#39;productType&#39;: &#39;render&#39;,</span>
<span class=sd>            &#39;productName&#39;: &#39;productMain&#39;</span>
<span class=sd>        }</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>data</span> <span class=o>=</span> <span class=n>data</span> <span class=ow>or</span> <span class=p>{}</span>

    <span class=n>set_trackitem_ayon_tag</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.launch_workfiles_app class="doc doc-heading"> <code class="highlight language-python"><span class=n>launch_workfiles_app</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Wrapping function for workfiles launcher</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>launch_workfiles_app</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&#39;&#39;&#39; Wrapping function for workfiles launcher &#39;&#39;&#39;</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>.lib</span><span class=w> </span><span class=kn>import</span> <span class=n>get_main_window</span>

    <span class=n>main_window</span> <span class=o>=</span> <span class=n>get_main_window</span><span class=p>()</span>
    <span class=c1># show workfile gui</span>
    <span class=n>host_tools</span><span class=o>.</span><span class=n>show_workfiles</span><span class=p>(</span><span class=n>parent</span><span class=o>=</span><span class=n>main_window</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.ls class="doc doc-heading"> <code class="highlight language-python"><span class=n>ls</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>List available containers.</p> <p>This function is used by the Container Manager in Nuke. You'll need to implement a for-loop that then <em>yields</em> one Container at a time.</p> <p>See the <code>container.json</code> schema for details on how it should look, and the Maya equivalent, which is in <code>avalon.maya.pipeline</code></p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span>
<span class=normal>163</span>
<span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>ls</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;List available containers.</span>

<span class=sd>    This function is used by the Container Manager in Nuke. You&#39;ll</span>
<span class=sd>    need to implement a for-loop that then *yields* one Container at</span>
<span class=sd>    a time.</span>

<span class=sd>    See the `container.json` schema for details on how it should look,</span>
<span class=sd>    and the Maya equivalent, which is in `avalon.maya.pipeline`</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=c1># get all track items from current timeline</span>
    <span class=n>all_items</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_track_items</span><span class=p>()</span>

    <span class=c1># append all video tracks</span>
    <span class=k>for</span> <span class=n>track</span> <span class=ow>in</span> <span class=p>(</span><span class=n>lib</span><span class=o>.</span><span class=n>get_current_sequence</span><span class=p>()</span> <span class=ow>or</span> <span class=p>[]):</span>
        <span class=k>if</span> <span class=nb>type</span><span class=p>(</span><span class=n>track</span><span class=p>)</span> <span class=ow>is</span> <span class=ow>not</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>VideoTrack</span><span class=p>:</span>
            <span class=k>continue</span>
        <span class=n>all_items</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>track</span><span class=p>)</span>

    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>all_items</span><span class=p>:</span>
        <span class=n>container_data</span> <span class=o>=</span> <span class=n>parse_container</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>

        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>container_data</span><span class=p>,</span> <span class=nb>list</span><span class=p>):</span>
            <span class=k>for</span> <span class=n>_c</span> <span class=ow>in</span> <span class=n>container_data</span><span class=p>:</span>
                <span class=k>yield</span> <span class=n>_c</span>
        <span class=k>elif</span> <span class=n>container_data</span><span class=p>:</span>
            <span class=k>yield</span> <span class=n>container_data</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.maintained_selection class="doc doc-heading"> <code class="highlight language-python"><span class=n>maintained_selection</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Maintain selection during context</p> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>with maintained_selection(): ... for track_item in track_items: ... &lt; do some stuff &gt;</p> </blockquote> </blockquote> </blockquote> </details> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>300</span>
<span class=normal>301</span>
<span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span>
<span class=normal>311</span>
<span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@contextlib</span><span class=o>.</span><span class=n>contextmanager</span>
<span class=k>def</span><span class=w> </span><span class=nf>maintained_selection</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Maintain selection during context</span>

<span class=sd>    Example:</span>
<span class=sd>        &gt;&gt;&gt; with maintained_selection():</span>
<span class=sd>        ...     for track_item in track_items:</span>
<span class=sd>        ...         &lt; do some stuff &gt;</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>.lib</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
        <span class=n>set_selected_track_items</span><span class=p>,</span>
        <span class=n>get_selected_track_items</span>
    <span class=p>)</span>
    <span class=n>previous_selection</span> <span class=o>=</span> <span class=n>get_selected_track_items</span><span class=p>()</span>
    <span class=n>reset_selection</span><span class=p>()</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=c1># do the operation</span>
        <span class=k>yield</span>
    <span class=k>finally</span><span class=p>:</span>
        <span class=n>reset_selection</span><span class=p>()</span>
        <span class=n>set_selected_track_items</span><span class=p>(</span><span class=n>previous_selection</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.open_file class="doc doc-heading"> <code class="highlight language-python"><span class=n>open_file</span><span class=p>(</span><span class=n>filepath</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Manually fire the kBeforeProjectLoad event in order to work around a bug in Hiero. The Foundry has logged this bug as: Bug 40413 - Python API - kBeforeProjectLoad event type is not triggered when calling hiero.core.openProject() (only triggered through UI) It exists in all versions of Hiero through (at least) v1.9v1b12.</p> <p>Once this bug is fixed, a version check will need to be added here in order to prevent accidentally firing this event twice. The following commented-out code is just an example, and will need to be updated when the bug is fixed to catch the correct versions.</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/workio.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>open_file</span><span class=p>(</span><span class=n>filepath</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Manually fire the kBeforeProjectLoad event in order to work around a bug in Hiero.</span>
<span class=sd>    The Foundry has logged this bug as:</span>
<span class=sd>      Bug 40413 - Python API - kBeforeProjectLoad event type is not triggered</span>
<span class=sd>      when calling hiero.core.openProject() (only triggered through UI)</span>
<span class=sd>    It exists in all versions of Hiero through (at least) v1.9v1b12.</span>

<span class=sd>    Once this bug is fixed, a version check will need to be added here in order to</span>
<span class=sd>    prevent accidentally firing this event twice. The following commented-out code</span>
<span class=sd>    is just an example, and will need to be updated when the bug is fixed to catch the</span>
<span class=sd>    correct versions.&quot;&quot;&quot;</span>
    <span class=c1># if (hiero.core.env[&#39;VersionMajor&#39;] &lt; 1 or</span>
    <span class=c1>#     hiero.core.env[&#39;VersionMajor&#39;] == 1 and hiero.core.env[&#39;VersionMinor&#39;] &lt; 10:</span>
    <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>events</span><span class=o>.</span><span class=n>sendEvent</span><span class=p>(</span><span class=s2>&quot;kBeforeProjectLoad&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>

    <span class=n>project</span> <span class=o>=</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>projects</span><span class=p>()[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>

    <span class=c1># Close previous project if its different to the current project.</span>
    <span class=n>filepath</span> <span class=o>=</span> <span class=n>filepath</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>sep</span><span class=p>,</span> <span class=s2>&quot;/&quot;</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>project</span><span class=o>.</span><span class=n>path</span><span class=p>()</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>sep</span><span class=p>,</span> <span class=s2>&quot;/&quot;</span><span class=p>)</span> <span class=o>!=</span> <span class=n>filepath</span><span class=p>:</span>
        <span class=c1># open project file</span>
        <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>openProject</span><span class=p>(</span><span class=n>filepath</span><span class=p>)</span>
        <span class=n>project</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>

    <span class=k>return</span> <span class=kc>True</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.parse_container class="doc doc-heading"> <code class="highlight language-python"><span class=n>parse_container</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>validate</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Return container data from track_item's pype tag.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>item</code> </td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span> or <span title=hiero.core.VideoTrack>VideoTrack</span></code> </td> <td> <div class=doc-md-description> <p>A containerised track item.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>validate</code> </td> <td> <code>bool)[optional]</code> </td> <td> <div class=doc-md-description> <p>validating with avalon scheme</p> </div> </td> <td> <code>True</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>dict</code></td> <td> </td> <td> <div class=doc-md-description> <p>The container schema data for input containerized track item.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span>
<span class=normal>194</span>
<span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span>
<span class=normal>228</span>
<span class=normal>229</span>
<span class=normal>230</span>
<span class=normal>231</span>
<span class=normal>232</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>parse_container</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>validate</span><span class=o>=</span><span class=kc>True</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return container data from track_item&#39;s pype tag.</span>

<span class=sd>    Args:</span>
<span class=sd>        item (hiero.core.TrackItem or hiero.core.VideoTrack):</span>
<span class=sd>            A containerised track item.</span>
<span class=sd>        validate (bool)[optional]: validating with avalon scheme</span>

<span class=sd>    Returns:</span>
<span class=sd>        dict: The container schema data for input containerized track item.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>def</span><span class=w> </span><span class=nf>data_to_container</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
        <span class=k>if</span> <span class=p>(</span>
            <span class=ow>not</span> <span class=n>data</span>
            <span class=ow>or</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;id&quot;</span><span class=p>)</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>{</span>
                <span class=n>AYON_CONTAINER_ID</span><span class=p>,</span> <span class=n>AVALON_CONTAINER_ID</span>
            <span class=p>}</span>
        <span class=p>):</span>
            <span class=k>return</span>

        <span class=k>if</span> <span class=n>validate</span> <span class=ow>and</span> <span class=n>data</span> <span class=ow>and</span> <span class=n>data</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;schema&quot;</span><span class=p>):</span>
            <span class=n>schema</span><span class=o>.</span><span class=n>validate</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=nb>dict</span><span class=p>):</span>
            <span class=k>return</span>

        <span class=c1># If not all required data return the empty container</span>
        <span class=n>required</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;schema&#39;</span><span class=p>,</span> <span class=s1>&#39;id&#39;</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>,</span>
                    <span class=s1>&#39;namespace&#39;</span><span class=p>,</span> <span class=s1>&#39;loader&#39;</span><span class=p>,</span> <span class=s1>&#39;representation&#39;</span><span class=p>]</span>

        <span class=k>if</span> <span class=nb>any</span><span class=p>(</span><span class=n>key</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>data</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>required</span><span class=p>):</span>
            <span class=k>return</span>

        <span class=n>container</span> <span class=o>=</span> <span class=p>{</span><span class=n>key</span><span class=p>:</span> <span class=n>data</span><span class=p>[</span><span class=n>key</span><span class=p>]</span> <span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>required</span><span class=p>}</span>

        <span class=n>container</span><span class=p>[</span><span class=s2>&quot;objectName&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>item</span><span class=o>.</span><span class=n>name</span><span class=p>()</span>

        <span class=c1># Store reference to the node object</span>
        <span class=n>container</span><span class=p>[</span><span class=s2>&quot;_item&quot;</span><span class=p>]</span> <span class=o>=</span> <span class=n>item</span>

        <span class=k>return</span> <span class=n>container</span>

    <span class=c1># convert tag metadata to normal keys names</span>
    <span class=k>if</span> <span class=nb>type</span><span class=p>(</span><span class=n>item</span><span class=p>)</span> <span class=ow>is</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>VideoTrack</span><span class=p>:</span>
        <span class=n>return_list</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=n>_data</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_track_ayon_data</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=n>_data</span><span class=p>:</span>
            <span class=k>return</span>
        <span class=c1># convert the data to list and validate them</span>
        <span class=k>for</span> <span class=n>_</span><span class=p>,</span> <span class=n>obj_data</span> <span class=ow>in</span> <span class=n>_data</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
            <span class=n>container</span> <span class=o>=</span> <span class=n>data_to_container</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>obj_data</span><span class=p>)</span>
            <span class=n>return_list</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>container</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>return_list</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>_data</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_trackitem_ayon_data</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>data_to_container</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>_data</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.publish class="doc doc-heading"> <code class="highlight language-python"><span class=n>publish</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Shorthand to publish from within host</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>295</span>
<span class=normal>296</span>
<span class=normal>297</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>publish</span><span class=p>(</span><span class=n>parent</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Shorthand to publish from within host&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>host_tools</span><span class=o>.</span><span class=n>show_publish</span><span class=p>(</span><span class=n>parent</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.reload_config class="doc doc-heading"> <code class="highlight language-python"><span class=n>reload_config</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Attempt to reload pipeline at run-time.</p> <p>CAUTION: This is primarily for development and debugging purposes.</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>reload_config</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Attempt to reload pipeline at run-time.</span>

<span class=sd>    CAUTION: This is primarily for development and debugging purposes.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>import</span><span class=w> </span><span class=nn>importlib</span>

    <span class=k>for</span> <span class=n>module</span> <span class=ow>in</span> <span class=p>(</span>
        <span class=s2>&quot;ayon_hiero.lib&quot;</span><span class=p>,</span>
        <span class=s2>&quot;ayon_hiero.menu&quot;</span><span class=p>,</span>
        <span class=s2>&quot;ayon_hiero.tags&quot;</span>
    <span class=p>):</span>
        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Reloading module: </span><span class=si>{}</span><span class=s2>...&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>module</span><span class=p>))</span>
        <span class=k>try</span><span class=p>:</span>
            <span class=n>module</span> <span class=o>=</span> <span class=n>importlib</span><span class=o>.</span><span class=n>import_module</span><span class=p>(</span><span class=n>module</span><span class=p>)</span>
            <span class=kn>import</span><span class=w> </span><span class=nn>imp</span>
            <span class=n>imp</span><span class=o>.</span><span class=n>reload</span><span class=p>(</span><span class=n>module</span><span class=p>)</span>
        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
            <span class=n>log</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Cannot reload module: </span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>e</span><span class=p>))</span>
            <span class=n>importlib</span><span class=o>.</span><span class=n>reload</span><span class=p>(</span><span class=n>module</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.reset_selection class="doc doc-heading"> <code class="highlight language-python"><span class=n>reset_selection</span><span class=p>()</span></code> </h2> <div class="doc doc-contents "> <p>Deselect all selected nodes</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>reset_selection</span><span class=p>():</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Deselect all selected nodes</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>.lib</span><span class=w> </span><span class=kn>import</span> <span class=n>set_selected_track_items</span>
    <span class=n>set_selected_track_items</span><span class=p>([])</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.set_track_ayon_tag class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_track_ayon_tag</span><span class=p>(</span><span class=n>track</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Set AYON track tag to input track object.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=client.ayon_hiero.api.set_track_ayon_tag.track>track</span></code></td> <td> <code><span title=hiero.core.VideoTrack>VideoTrack</span></code> </td> <td> <div class=doc-md-description> <p>hiero object</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hiero.core.Tag</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span>
<span class=normal>391</span>
<span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_track_ayon_tag</span><span class=p>(</span><span class=n>track</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Set AYON track tag to input track object.</span>

<span class=sd>    Attributes:</span>
<span class=sd>        track (hiero.core.VideoTrack): hiero object</span>

<span class=sd>    Returns:</span>
<span class=sd>        hiero.core.Tag</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>data</span> <span class=o>=</span> <span class=n>data</span> <span class=ow>or</span> <span class=p>{}</span>

    <span class=c1># basic Tag&#39;s attribute</span>
    <span class=n>tag_data</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s2>&quot;editable&quot;</span><span class=p>:</span> <span class=s2>&quot;0&quot;</span><span class=p>,</span>
        <span class=s2>&quot;note&quot;</span><span class=p>:</span> <span class=s2>&quot;AYON data container&quot;</span><span class=p>,</span>
        <span class=s2>&quot;icon&quot;</span><span class=p>:</span> <span class=s2>&quot;AYON_icon.png&quot;</span><span class=p>,</span>
        <span class=s2>&quot;metadata&quot;</span><span class=p>:</span> <span class=nb>dict</span><span class=p>(</span><span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>())</span>
    <span class=p>}</span>
    <span class=c1># get available pype tag if any</span>
    <span class=n>_tag</span> <span class=o>=</span> <span class=n>get_track_ayon_tag</span><span class=p>(</span><span class=n>track</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>_tag</span><span class=p>:</span>
        <span class=c1># it not tag then create one</span>
        <span class=n>tag</span> <span class=o>=</span> <span class=n>tags</span><span class=o>.</span><span class=n>update_tag</span><span class=p>(</span><span class=n>_tag</span><span class=p>,</span> <span class=n>tag_data</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=c1># if pype tag available then update with input data</span>
        <span class=n>tag</span> <span class=o>=</span> <span class=n>tags</span><span class=o>.</span><span class=n>create_tag</span><span class=p>(</span>
            <span class=s2>&quot;</span><span class=si>{}</span><span class=s2>_</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=n>AYON_TAG_NAME</span><span class=p>,</span>
                <span class=n>_get_tag_unique_hash</span><span class=p>()</span>
            <span class=p>),</span>
            <span class=n>tag_data</span>
        <span class=p>)</span>
        <span class=c1># add it to the input track item</span>
        <span class=n>track</span><span class=o>.</span><span class=n>addTag</span><span class=p>(</span><span class=n>tag</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>tag</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.set_trackitem_ayon_tag class="doc doc-heading"> <code class="highlight language-python"><span class=n>set_trackitem_ayon_tag</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Set AYON track tag to input track object.</p> <p><span class=doc-section-title>Attributes:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code><span title=client.ayon_hiero.api.set_trackitem_ayon_tag.track>track</span></code></td> <td> <code><span title=hiero.core.VideoTrack>VideoTrack</span></code> </td> <td> <div class=doc-md-description> <p>hiero object</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>hiero.core.Tag</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/lib.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>set_trackitem_ayon_tag</span><span class=p>(</span><span class=n>track_item</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
<span class=sd>    Set AYON track tag to input track object.</span>

<span class=sd>    Attributes:</span>
<span class=sd>        track (hiero.core.VideoTrack): hiero object</span>

<span class=sd>    Returns:</span>
<span class=sd>        hiero.core.Tag</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>data</span> <span class=o>=</span> <span class=n>data</span> <span class=ow>or</span> <span class=p>{}</span>

    <span class=c1># basic Tag&#39;s attribute</span>
    <span class=n>tag_data</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s2>&quot;editable&quot;</span><span class=p>:</span> <span class=s2>&quot;0&quot;</span><span class=p>,</span>
        <span class=s2>&quot;note&quot;</span><span class=p>:</span> <span class=s2>&quot;AYON data container&quot;</span><span class=p>,</span>
        <span class=s2>&quot;icon&quot;</span><span class=p>:</span> <span class=s2>&quot;AYON_icon.png&quot;</span><span class=p>,</span>
        <span class=s2>&quot;metadata&quot;</span><span class=p>:</span> <span class=nb>dict</span><span class=p>(</span><span class=n>data</span><span class=o>.</span><span class=n>items</span><span class=p>())</span>
    <span class=p>}</span>
    <span class=c1># get available pype tag if any</span>
    <span class=n>_tag</span> <span class=o>=</span> <span class=n>get_trackitem_ayon_tag</span><span class=p>(</span><span class=n>track_item</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>_tag</span><span class=p>:</span>
        <span class=c1># if pype tag available then update with input data</span>
        <span class=n>tag</span> <span class=o>=</span> <span class=n>tags</span><span class=o>.</span><span class=n>update_tag</span><span class=p>(</span><span class=n>_tag</span><span class=p>,</span> <span class=n>tag_data</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=c1># it not tag then create one</span>
        <span class=n>tag</span> <span class=o>=</span> <span class=n>tags</span><span class=o>.</span><span class=n>create_tag</span><span class=p>(</span>
            <span class=s2>&quot;</span><span class=si>{}</span><span class=s2>_</span><span class=si>{}</span><span class=s2>&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
                <span class=n>AYON_TAG_NAME</span><span class=p>,</span>
                <span class=n>_get_tag_unique_hash</span><span class=p>()</span>
            <span class=p>),</span>
            <span class=n>tag_data</span>
        <span class=p>)</span>
        <span class=c1># add it to the input track item</span>
        <span class=n>track_item</span><span class=o>.</span><span class=n>addTag</span><span class=p>(</span><span class=n>tag</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>tag</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=client.ayon_hiero.api.update_container class="doc doc-heading"> <code class="highlight language-python"><span class=n>update_container</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h2> <div class="doc doc-contents "> <p>Update container data to input track_item or track's AYON tag.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>item</code> </td> <td> <code><span title=hiero.core.TrackItem>TrackItem</span> or <span title=hiero.core.VideoTrack>VideoTrack</span></code> </td> <td> <div class=doc-md-description> <p>A containerised track item.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>data</code> </td> <td> <code>dict)[optional]</code> </td> <td> <div class=doc-md-description> <p>dictionery with data to be updated</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>bool</code></td> <td> </td> <td> <div class=doc-md-description> <p>True if container was updated correctly</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/api/pipeline.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>244</span>
<span class=normal>245</span>
<span class=normal>246</span>
<span class=normal>247</span>
<span class=normal>248</span>
<span class=normal>249</span>
<span class=normal>250</span>
<span class=normal>251</span>
<span class=normal>252</span>
<span class=normal>253</span>
<span class=normal>254</span>
<span class=normal>255</span>
<span class=normal>256</span>
<span class=normal>257</span>
<span class=normal>258</span>
<span class=normal>259</span>
<span class=normal>260</span>
<span class=normal>261</span>
<span class=normal>262</span>
<span class=normal>263</span>
<span class=normal>264</span>
<span class=normal>265</span>
<span class=normal>266</span>
<span class=normal>267</span>
<span class=normal>268</span>
<span class=normal>269</span>
<span class=normal>270</span>
<span class=normal>271</span>
<span class=normal>272</span>
<span class=normal>273</span>
<span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>update_container</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Update container data to input track_item or track&#39;s</span>
<span class=sd>    AYON tag.</span>

<span class=sd>    Args:</span>
<span class=sd>        item (hiero.core.TrackItem or hiero.core.VideoTrack):</span>
<span class=sd>            A containerised track item.</span>
<span class=sd>        data (dict)[optional]: dictionery with data to be updated</span>

<span class=sd>    Returns:</span>
<span class=sd>        bool: True if container was updated correctly</span>

<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>data</span> <span class=o>=</span> <span class=n>data</span> <span class=ow>or</span> <span class=p>{}</span>
    <span class=n>data</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

    <span class=k>if</span> <span class=nb>type</span><span class=p>(</span><span class=n>item</span><span class=p>)</span> <span class=ow>is</span> <span class=n>hiero</span><span class=o>.</span><span class=n>core</span><span class=o>.</span><span class=n>VideoTrack</span><span class=p>:</span>
        <span class=c1># form object data for test</span>
        <span class=n>object_name</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=s2>&quot;objectName&quot;</span><span class=p>]</span>

        <span class=c1># get all available containers</span>
        <span class=n>containers</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_track_ayon_data</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
        <span class=n>container</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_track_ayon_data</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>object_name</span><span class=p>)</span>

        <span class=n>containers</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>containers</span><span class=p>)</span>
        <span class=n>container</span> <span class=o>=</span> <span class=n>deepcopy</span><span class=p>(</span><span class=n>container</span><span class=p>)</span>

        <span class=c1># update data in container</span>
        <span class=n>updated_container</span> <span class=o>=</span> <span class=n>_update_container_data</span><span class=p>(</span><span class=n>container</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>
        <span class=c1># merge updated container back to containers</span>
        <span class=n>containers</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=n>object_name</span><span class=p>:</span> <span class=n>updated_container</span><span class=p>})</span>

        <span class=k>return</span> <span class=nb>bool</span><span class=p>(</span><span class=n>lib</span><span class=o>.</span><span class=n>set_track_ayon_tag</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>containers</span><span class=p>))</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>container</span> <span class=o>=</span> <span class=n>lib</span><span class=o>.</span><span class=n>get_trackitem_ayon_data</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
        <span class=n>updated_container</span> <span class=o>=</span> <span class=n>_update_container_data</span><span class=p>(</span><span class=n>container</span><span class=p>,</span> <span class=n>data</span><span class=p>)</span>

        <span class=n>log</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Updating container: `</span><span class=si>{}</span><span class=s2>`&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>item</span><span class=o>.</span><span class=n>name</span><span class=p>()))</span>
        <span class=k>return</span> <span class=nb>bool</span><span class=p>(</span><span class=n>lib</span><span class=o>.</span><span class=n>set_trackitem_ayon_tag</span><span class=p>(</span><span class=n>item</span><span class=p>,</span> <span class=n>updated_container</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.sections", "navigation.path", "navigation.prune"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>