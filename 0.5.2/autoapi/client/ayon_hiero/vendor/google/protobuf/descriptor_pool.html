<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=prev href=descriptor_pb2.html><link rel=next href=duration_pb2.html><link rel=icon href=../../../../../../img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.9"><title>descriptor_pool - ayon-hiero</title><link rel=stylesheet href=../../../../../../assets/stylesheets/main.4af4bdda.min.css><link rel=stylesheet href=../../../../../../assets/stylesheets/palette.06af60db.min.css><script src=https://unpkg.com/iframe-worker/shim></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../../../../css/custom.css><script>__md_scope=new URL("../../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../../../index.html title=ayon-hiero class="md-header__button md-logo" aria-label=ayon-hiero data-md-component=logo> <img src=../../../../../../img/ay-symbol-blackw-full.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ayon-hiero </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> descriptor_pool </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ynput/ayon-hiero title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../../../index.html title=ayon-hiero class="md-nav__button md-logo" aria-label=ayon-hiero data-md-component=logo> <img src=../../../../../../img/ay-symbol-blackw-full.png alt=logo> </a> ayon-hiero </label> <div class=md-nav__source> <a href=https://github.com/ynput/ayon-hiero title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../../index.html class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../../../../license.html class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> client </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> client </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1 checked> <div class="md-nav__link md-nav__container"> <a href=../../../index.html class="md-nav__link "> <span class=md-ellipsis> ayon_hiero </span> </a> <label class="md-nav__link " for=__nav_3_1_1 id=__nav_3_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1> <span class="md-nav__icon md-icon"></span> ayon_hiero </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../addon.html class=md-nav__link> <span class=md-ellipsis> addon </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../api/constants.html class=md-nav__link> <span class=md-ellipsis> api </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../plugins/create/create_shot_clip.html class=md-nav__link> <span class=md-ellipsis> plugins </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_4 checked> <div class="md-nav__link md-nav__container"> <a href=../../index.html class="md-nav__link "> <span class=md-ellipsis> vendor </span> </a> <label class="md-nav__link " for=__nav_3_1_1_4 id=__nav_3_1_1_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_3_1_1_4_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_4> <span class="md-nav__icon md-icon"></span> vendor </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_4_1 checked> <div class="md-nav__link md-nav__container"> <a href=../index.html class="md-nav__link "> <span class=md-ellipsis> google </span> </a> <label class="md-nav__link " for=__nav_3_1_1_4_1 id=__nav_3_1_1_4_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=5 aria-labelledby=__nav_3_1_1_4_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_4_1> <span class="md-nav__icon md-icon"></span> google </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_1_4_1_1 checked> <div class="md-nav__link md-nav__container"> <a href=index.html class="md-nav__link "> <span class=md-ellipsis> protobuf </span> </a> <label class="md-nav__link " for=__nav_3_1_1_4_1_1 id=__nav_3_1_1_4_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=6 aria-labelledby=__nav_3_1_1_4_1_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_1_4_1_1> <span class="md-nav__icon md-icon"></span> protobuf </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=any_pb2.html class=md-nav__link> <span class=md-ellipsis> any_pb2 </span> </a> </li> <li class=md-nav__item> <a href=api_pb2.html class=md-nav__link> <span class=md-ellipsis> api_pb2 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=compiler/plugin_pb2.html class=md-nav__link> <span class=md-ellipsis> compiler </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=descriptor.html class=md-nav__link> <span class=md-ellipsis> descriptor </span> </a> </li> <li class=md-nav__item> <a href=descriptor_database.html class=md-nav__link> <span class=md-ellipsis> descriptor_database </span> </a> </li> <li class=md-nav__item> <a href=descriptor_pb2.html class=md-nav__link> <span class=md-ellipsis> descriptor_pb2 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> descriptor_pool </span> <span class="md-nav__icon md-icon"></span> </label> <a href=descriptor_pool.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> descriptor_pool </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool class=md-nav__link> <span class=md-ellipsis> descriptor_pool </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool class=md-nav__link> <span class=md-ellipsis> DescriptorPool </span> </a> <nav class=md-nav aria-label=DescriptorPool> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.Add class=md-nav__link> <span class=md-ellipsis> Add </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.AddSerializedFile class=md-nav__link> <span class=md-ellipsis> AddSerializedFile </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindAllExtensions class=md-nav__link> <span class=md-ellipsis> FindAllExtensions </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindEnumTypeByName class=md-nav__link> <span class=md-ellipsis> FindEnumTypeByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindExtensionByName class=md-nav__link> <span class=md-ellipsis> FindExtensionByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindExtensionByNumber class=md-nav__link> <span class=md-ellipsis> FindExtensionByNumber </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindFieldByName class=md-nav__link> <span class=md-ellipsis> FindFieldByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindFileByName class=md-nav__link> <span class=md-ellipsis> FindFileByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindFileContainingSymbol class=md-nav__link> <span class=md-ellipsis> FindFileContainingSymbol </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindMessageTypeByName class=md-nav__link> <span class=md-ellipsis> FindMessageTypeByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindMethodByName class=md-nav__link> <span class=md-ellipsis> FindMethodByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindOneofByName class=md-nav__link> <span class=md-ellipsis> FindOneofByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindServiceByName class=md-nav__link> <span class=md-ellipsis> FindServiceByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.__init__ class=md-nav__link> <span class=md-ellipsis> __init__ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=duration_pb2.html class=md-nav__link> <span class=md-ellipsis> duration_pb2 </span> </a> </li> <li class=md-nav__item> <a href=empty_pb2.html class=md-nav__link> <span class=md-ellipsis> empty_pb2 </span> </a> </li> <li class=md-nav__item> <a href=field_mask_pb2.html class=md-nav__link> <span class=md-ellipsis> field_mask_pb2 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=internal/_parameterized.html class=md-nav__link> <span class=md-ellipsis> internal </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=json_format.html class=md-nav__link> <span class=md-ellipsis> json_format </span> </a> </li> <li class=md-nav__item> <a href=message.html class=md-nav__link> <span class=md-ellipsis> message </span> </a> </li> <li class=md-nav__item> <a href=message_factory.html class=md-nav__link> <span class=md-ellipsis> message_factory </span> </a> </li> <li class=md-nav__item> <a href=proto_builder.html class=md-nav__link> <span class=md-ellipsis> proto_builder </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=pyext/cpp_message.html class=md-nav__link> <span class=md-ellipsis> pyext </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=reflection.html class=md-nav__link> <span class=md-ellipsis> reflection </span> </a> </li> <li class=md-nav__item> <a href=service.html class=md-nav__link> <span class=md-ellipsis> service </span> </a> </li> <li class=md-nav__item> <a href=service_reflection.html class=md-nav__link> <span class=md-ellipsis> service_reflection </span> </a> </li> <li class=md-nav__item> <a href=source_context_pb2.html class=md-nav__link> <span class=md-ellipsis> source_context_pb2 </span> </a> </li> <li class=md-nav__item> <a href=struct_pb2.html class=md-nav__link> <span class=md-ellipsis> struct_pb2 </span> </a> </li> <li class=md-nav__item> <a href=symbol_database.html class=md-nav__link> <span class=md-ellipsis> symbol_database </span> </a> </li> <li class=md-nav__item> <a href=text_encoding.html class=md-nav__link> <span class=md-ellipsis> text_encoding </span> </a> </li> <li class=md-nav__item> <a href=text_format.html class=md-nav__link> <span class=md-ellipsis> text_format </span> </a> </li> <li class=md-nav__item> <a href=timestamp_pb2.html class=md-nav__link> <span class=md-ellipsis> timestamp_pb2 </span> </a> </li> <li class=md-nav__item> <a href=type_pb2.html class=md-nav__link> <span class=md-ellipsis> type_pb2 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=util/json_format_pb2.html class=md-nav__link> <span class=md-ellipsis> util </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=wrappers_pb2.html class=md-nav__link> <span class=md-ellipsis> wrappers_pb2 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../version.html class=md-nav__link> <span class=md-ellipsis> version </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../server/settings/common.html class=md-nav__link> <span class=md-ellipsis> server </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool class=md-nav__link> <span class=md-ellipsis> descriptor_pool </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool class=md-nav__link> <span class=md-ellipsis> DescriptorPool </span> </a> <nav class=md-nav aria-label=DescriptorPool> <ul class=md-nav__list> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.Add class=md-nav__link> <span class=md-ellipsis> Add </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.AddSerializedFile class=md-nav__link> <span class=md-ellipsis> AddSerializedFile </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindAllExtensions class=md-nav__link> <span class=md-ellipsis> FindAllExtensions </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindEnumTypeByName class=md-nav__link> <span class=md-ellipsis> FindEnumTypeByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindExtensionByName class=md-nav__link> <span class=md-ellipsis> FindExtensionByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindExtensionByNumber class=md-nav__link> <span class=md-ellipsis> FindExtensionByNumber </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindFieldByName class=md-nav__link> <span class=md-ellipsis> FindFieldByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindFileByName class=md-nav__link> <span class=md-ellipsis> FindFileByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindFileContainingSymbol class=md-nav__link> <span class=md-ellipsis> FindFileContainingSymbol </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindMessageTypeByName class=md-nav__link> <span class=md-ellipsis> FindMessageTypeByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindMethodByName class=md-nav__link> <span class=md-ellipsis> FindMethodByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindOneofByName class=md-nav__link> <span class=md-ellipsis> FindOneofByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindServiceByName class=md-nav__link> <span class=md-ellipsis> FindServiceByName </span> </a> </li> <li class=md-nav__item> <a href=#client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.__init__ class=md-nav__link> <span class=md-ellipsis> __init__ </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>descriptor_pool</h1> <div class="doc doc-object doc-module"> <a id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool></a> <div class="doc doc-contents first"> <p>Provides DescriptorPool to use as a container for proto2 descriptors.</p> <p>The DescriptorPool is used in conjection with a DescriptorDatabase to maintain a collection of protocol buffer descriptors for use when dynamically creating message types at runtime.</p> <p>For most applications protocol buffers should be used via modules generated by the protocol buffer compiler tool. This should only be used when the type of protocol buffers used in an application or library cannot be predetermined.</p> <p>Below is a straightforward example on how to use this class::</p> <p>pool = DescriptorPool() file_descriptor_protos = [ ... ] for file_descriptor_proto in file_descriptor_protos: pool.Add(file_descriptor_proto) my_message_descriptor = pool.FindMessageTypeByName('some.package.MessageType')</p> <p>The message descriptor can be used in conjunction with the message_factory module in order to create a protocol buffer class that can be encoded and decoded.</p> <p>If you want to get a Python class for the specified proto, use the helper functions inside google.protobuf.message_factory directly instead of this class.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool class="doc doc-heading"> <code>DescriptorPool</code> </h2> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=object>object</span></code></p> <p>A collection of protobufs dynamically constructed by descriptor protos.</p> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 118</span>
<span class=normal> 119</span>
<span class=normal> 120</span>
<span class=normal> 121</span>
<span class=normal> 122</span>
<span class=normal> 123</span>
<span class=normal> 124</span>
<span class=normal> 125</span>
<span class=normal> 126</span>
<span class=normal> 127</span>
<span class=normal> 128</span>
<span class=normal> 129</span>
<span class=normal> 130</span>
<span class=normal> 131</span>
<span class=normal> 132</span>
<span class=normal> 133</span>
<span class=normal> 134</span>
<span class=normal> 135</span>
<span class=normal> 136</span>
<span class=normal> 137</span>
<span class=normal> 138</span>
<span class=normal> 139</span>
<span class=normal> 140</span>
<span class=normal> 141</span>
<span class=normal> 142</span>
<span class=normal> 143</span>
<span class=normal> 144</span>
<span class=normal> 145</span>
<span class=normal> 146</span>
<span class=normal> 147</span>
<span class=normal> 148</span>
<span class=normal> 149</span>
<span class=normal> 150</span>
<span class=normal> 151</span>
<span class=normal> 152</span>
<span class=normal> 153</span>
<span class=normal> 154</span>
<span class=normal> 155</span>
<span class=normal> 156</span>
<span class=normal> 157</span>
<span class=normal> 158</span>
<span class=normal> 159</span>
<span class=normal> 160</span>
<span class=normal> 161</span>
<span class=normal> 162</span>
<span class=normal> 163</span>
<span class=normal> 164</span>
<span class=normal> 165</span>
<span class=normal> 166</span>
<span class=normal> 167</span>
<span class=normal> 168</span>
<span class=normal> 169</span>
<span class=normal> 170</span>
<span class=normal> 171</span>
<span class=normal> 172</span>
<span class=normal> 173</span>
<span class=normal> 174</span>
<span class=normal> 175</span>
<span class=normal> 176</span>
<span class=normal> 177</span>
<span class=normal> 178</span>
<span class=normal> 179</span>
<span class=normal> 180</span>
<span class=normal> 181</span>
<span class=normal> 182</span>
<span class=normal> 183</span>
<span class=normal> 184</span>
<span class=normal> 185</span>
<span class=normal> 186</span>
<span class=normal> 187</span>
<span class=normal> 188</span>
<span class=normal> 189</span>
<span class=normal> 190</span>
<span class=normal> 191</span>
<span class=normal> 192</span>
<span class=normal> 193</span>
<span class=normal> 194</span>
<span class=normal> 195</span>
<span class=normal> 196</span>
<span class=normal> 197</span>
<span class=normal> 198</span>
<span class=normal> 199</span>
<span class=normal> 200</span>
<span class=normal> 201</span>
<span class=normal> 202</span>
<span class=normal> 203</span>
<span class=normal> 204</span>
<span class=normal> 205</span>
<span class=normal> 206</span>
<span class=normal> 207</span>
<span class=normal> 208</span>
<span class=normal> 209</span>
<span class=normal> 210</span>
<span class=normal> 211</span>
<span class=normal> 212</span>
<span class=normal> 213</span>
<span class=normal> 214</span>
<span class=normal> 215</span>
<span class=normal> 216</span>
<span class=normal> 217</span>
<span class=normal> 218</span>
<span class=normal> 219</span>
<span class=normal> 220</span>
<span class=normal> 221</span>
<span class=normal> 222</span>
<span class=normal> 223</span>
<span class=normal> 224</span>
<span class=normal> 225</span>
<span class=normal> 226</span>
<span class=normal> 227</span>
<span class=normal> 228</span>
<span class=normal> 229</span>
<span class=normal> 230</span>
<span class=normal> 231</span>
<span class=normal> 232</span>
<span class=normal> 233</span>
<span class=normal> 234</span>
<span class=normal> 235</span>
<span class=normal> 236</span>
<span class=normal> 237</span>
<span class=normal> 238</span>
<span class=normal> 239</span>
<span class=normal> 240</span>
<span class=normal> 241</span>
<span class=normal> 242</span>
<span class=normal> 243</span>
<span class=normal> 244</span>
<span class=normal> 245</span>
<span class=normal> 246</span>
<span class=normal> 247</span>
<span class=normal> 248</span>
<span class=normal> 249</span>
<span class=normal> 250</span>
<span class=normal> 251</span>
<span class=normal> 252</span>
<span class=normal> 253</span>
<span class=normal> 254</span>
<span class=normal> 255</span>
<span class=normal> 256</span>
<span class=normal> 257</span>
<span class=normal> 258</span>
<span class=normal> 259</span>
<span class=normal> 260</span>
<span class=normal> 261</span>
<span class=normal> 262</span>
<span class=normal> 263</span>
<span class=normal> 264</span>
<span class=normal> 265</span>
<span class=normal> 266</span>
<span class=normal> 267</span>
<span class=normal> 268</span>
<span class=normal> 269</span>
<span class=normal> 270</span>
<span class=normal> 271</span>
<span class=normal> 272</span>
<span class=normal> 273</span>
<span class=normal> 274</span>
<span class=normal> 275</span>
<span class=normal> 276</span>
<span class=normal> 277</span>
<span class=normal> 278</span>
<span class=normal> 279</span>
<span class=normal> 280</span>
<span class=normal> 281</span>
<span class=normal> 282</span>
<span class=normal> 283</span>
<span class=normal> 284</span>
<span class=normal> 285</span>
<span class=normal> 286</span>
<span class=normal> 287</span>
<span class=normal> 288</span>
<span class=normal> 289</span>
<span class=normal> 290</span>
<span class=normal> 291</span>
<span class=normal> 292</span>
<span class=normal> 293</span>
<span class=normal> 294</span>
<span class=normal> 295</span>
<span class=normal> 296</span>
<span class=normal> 297</span>
<span class=normal> 298</span>
<span class=normal> 299</span>
<span class=normal> 300</span>
<span class=normal> 301</span>
<span class=normal> 302</span>
<span class=normal> 303</span>
<span class=normal> 304</span>
<span class=normal> 305</span>
<span class=normal> 306</span>
<span class=normal> 307</span>
<span class=normal> 308</span>
<span class=normal> 309</span>
<span class=normal> 310</span>
<span class=normal> 311</span>
<span class=normal> 312</span>
<span class=normal> 313</span>
<span class=normal> 314</span>
<span class=normal> 315</span>
<span class=normal> 316</span>
<span class=normal> 317</span>
<span class=normal> 318</span>
<span class=normal> 319</span>
<span class=normal> 320</span>
<span class=normal> 321</span>
<span class=normal> 322</span>
<span class=normal> 323</span>
<span class=normal> 324</span>
<span class=normal> 325</span>
<span class=normal> 326</span>
<span class=normal> 327</span>
<span class=normal> 328</span>
<span class=normal> 329</span>
<span class=normal> 330</span>
<span class=normal> 331</span>
<span class=normal> 332</span>
<span class=normal> 333</span>
<span class=normal> 334</span>
<span class=normal> 335</span>
<span class=normal> 336</span>
<span class=normal> 337</span>
<span class=normal> 338</span>
<span class=normal> 339</span>
<span class=normal> 340</span>
<span class=normal> 341</span>
<span class=normal> 342</span>
<span class=normal> 343</span>
<span class=normal> 344</span>
<span class=normal> 345</span>
<span class=normal> 346</span>
<span class=normal> 347</span>
<span class=normal> 348</span>
<span class=normal> 349</span>
<span class=normal> 350</span>
<span class=normal> 351</span>
<span class=normal> 352</span>
<span class=normal> 353</span>
<span class=normal> 354</span>
<span class=normal> 355</span>
<span class=normal> 356</span>
<span class=normal> 357</span>
<span class=normal> 358</span>
<span class=normal> 359</span>
<span class=normal> 360</span>
<span class=normal> 361</span>
<span class=normal> 362</span>
<span class=normal> 363</span>
<span class=normal> 364</span>
<span class=normal> 365</span>
<span class=normal> 366</span>
<span class=normal> 367</span>
<span class=normal> 368</span>
<span class=normal> 369</span>
<span class=normal> 370</span>
<span class=normal> 371</span>
<span class=normal> 372</span>
<span class=normal> 373</span>
<span class=normal> 374</span>
<span class=normal> 375</span>
<span class=normal> 376</span>
<span class=normal> 377</span>
<span class=normal> 378</span>
<span class=normal> 379</span>
<span class=normal> 380</span>
<span class=normal> 381</span>
<span class=normal> 382</span>
<span class=normal> 383</span>
<span class=normal> 384</span>
<span class=normal> 385</span>
<span class=normal> 386</span>
<span class=normal> 387</span>
<span class=normal> 388</span>
<span class=normal> 389</span>
<span class=normal> 390</span>
<span class=normal> 391</span>
<span class=normal> 392</span>
<span class=normal> 393</span>
<span class=normal> 394</span>
<span class=normal> 395</span>
<span class=normal> 396</span>
<span class=normal> 397</span>
<span class=normal> 398</span>
<span class=normal> 399</span>
<span class=normal> 400</span>
<span class=normal> 401</span>
<span class=normal> 402</span>
<span class=normal> 403</span>
<span class=normal> 404</span>
<span class=normal> 405</span>
<span class=normal> 406</span>
<span class=normal> 407</span>
<span class=normal> 408</span>
<span class=normal> 409</span>
<span class=normal> 410</span>
<span class=normal> 411</span>
<span class=normal> 412</span>
<span class=normal> 413</span>
<span class=normal> 414</span>
<span class=normal> 415</span>
<span class=normal> 416</span>
<span class=normal> 417</span>
<span class=normal> 418</span>
<span class=normal> 419</span>
<span class=normal> 420</span>
<span class=normal> 421</span>
<span class=normal> 422</span>
<span class=normal> 423</span>
<span class=normal> 424</span>
<span class=normal> 425</span>
<span class=normal> 426</span>
<span class=normal> 427</span>
<span class=normal> 428</span>
<span class=normal> 429</span>
<span class=normal> 430</span>
<span class=normal> 431</span>
<span class=normal> 432</span>
<span class=normal> 433</span>
<span class=normal> 434</span>
<span class=normal> 435</span>
<span class=normal> 436</span>
<span class=normal> 437</span>
<span class=normal> 438</span>
<span class=normal> 439</span>
<span class=normal> 440</span>
<span class=normal> 441</span>
<span class=normal> 442</span>
<span class=normal> 443</span>
<span class=normal> 444</span>
<span class=normal> 445</span>
<span class=normal> 446</span>
<span class=normal> 447</span>
<span class=normal> 448</span>
<span class=normal> 449</span>
<span class=normal> 450</span>
<span class=normal> 451</span>
<span class=normal> 452</span>
<span class=normal> 453</span>
<span class=normal> 454</span>
<span class=normal> 455</span>
<span class=normal> 456</span>
<span class=normal> 457</span>
<span class=normal> 458</span>
<span class=normal> 459</span>
<span class=normal> 460</span>
<span class=normal> 461</span>
<span class=normal> 462</span>
<span class=normal> 463</span>
<span class=normal> 464</span>
<span class=normal> 465</span>
<span class=normal> 466</span>
<span class=normal> 467</span>
<span class=normal> 468</span>
<span class=normal> 469</span>
<span class=normal> 470</span>
<span class=normal> 471</span>
<span class=normal> 472</span>
<span class=normal> 473</span>
<span class=normal> 474</span>
<span class=normal> 475</span>
<span class=normal> 476</span>
<span class=normal> 477</span>
<span class=normal> 478</span>
<span class=normal> 479</span>
<span class=normal> 480</span>
<span class=normal> 481</span>
<span class=normal> 482</span>
<span class=normal> 483</span>
<span class=normal> 484</span>
<span class=normal> 485</span>
<span class=normal> 486</span>
<span class=normal> 487</span>
<span class=normal> 488</span>
<span class=normal> 489</span>
<span class=normal> 490</span>
<span class=normal> 491</span>
<span class=normal> 492</span>
<span class=normal> 493</span>
<span class=normal> 494</span>
<span class=normal> 495</span>
<span class=normal> 496</span>
<span class=normal> 497</span>
<span class=normal> 498</span>
<span class=normal> 499</span>
<span class=normal> 500</span>
<span class=normal> 501</span>
<span class=normal> 502</span>
<span class=normal> 503</span>
<span class=normal> 504</span>
<span class=normal> 505</span>
<span class=normal> 506</span>
<span class=normal> 507</span>
<span class=normal> 508</span>
<span class=normal> 509</span>
<span class=normal> 510</span>
<span class=normal> 511</span>
<span class=normal> 512</span>
<span class=normal> 513</span>
<span class=normal> 514</span>
<span class=normal> 515</span>
<span class=normal> 516</span>
<span class=normal> 517</span>
<span class=normal> 518</span>
<span class=normal> 519</span>
<span class=normal> 520</span>
<span class=normal> 521</span>
<span class=normal> 522</span>
<span class=normal> 523</span>
<span class=normal> 524</span>
<span class=normal> 525</span>
<span class=normal> 526</span>
<span class=normal> 527</span>
<span class=normal> 528</span>
<span class=normal> 529</span>
<span class=normal> 530</span>
<span class=normal> 531</span>
<span class=normal> 532</span>
<span class=normal> 533</span>
<span class=normal> 534</span>
<span class=normal> 535</span>
<span class=normal> 536</span>
<span class=normal> 537</span>
<span class=normal> 538</span>
<span class=normal> 539</span>
<span class=normal> 540</span>
<span class=normal> 541</span>
<span class=normal> 542</span>
<span class=normal> 543</span>
<span class=normal> 544</span>
<span class=normal> 545</span>
<span class=normal> 546</span>
<span class=normal> 547</span>
<span class=normal> 548</span>
<span class=normal> 549</span>
<span class=normal> 550</span>
<span class=normal> 551</span>
<span class=normal> 552</span>
<span class=normal> 553</span>
<span class=normal> 554</span>
<span class=normal> 555</span>
<span class=normal> 556</span>
<span class=normal> 557</span>
<span class=normal> 558</span>
<span class=normal> 559</span>
<span class=normal> 560</span>
<span class=normal> 561</span>
<span class=normal> 562</span>
<span class=normal> 563</span>
<span class=normal> 564</span>
<span class=normal> 565</span>
<span class=normal> 566</span>
<span class=normal> 567</span>
<span class=normal> 568</span>
<span class=normal> 569</span>
<span class=normal> 570</span>
<span class=normal> 571</span>
<span class=normal> 572</span>
<span class=normal> 573</span>
<span class=normal> 574</span>
<span class=normal> 575</span>
<span class=normal> 576</span>
<span class=normal> 577</span>
<span class=normal> 578</span>
<span class=normal> 579</span>
<span class=normal> 580</span>
<span class=normal> 581</span>
<span class=normal> 582</span>
<span class=normal> 583</span>
<span class=normal> 584</span>
<span class=normal> 585</span>
<span class=normal> 586</span>
<span class=normal> 587</span>
<span class=normal> 588</span>
<span class=normal> 589</span>
<span class=normal> 590</span>
<span class=normal> 591</span>
<span class=normal> 592</span>
<span class=normal> 593</span>
<span class=normal> 594</span>
<span class=normal> 595</span>
<span class=normal> 596</span>
<span class=normal> 597</span>
<span class=normal> 598</span>
<span class=normal> 599</span>
<span class=normal> 600</span>
<span class=normal> 601</span>
<span class=normal> 602</span>
<span class=normal> 603</span>
<span class=normal> 604</span>
<span class=normal> 605</span>
<span class=normal> 606</span>
<span class=normal> 607</span>
<span class=normal> 608</span>
<span class=normal> 609</span>
<span class=normal> 610</span>
<span class=normal> 611</span>
<span class=normal> 612</span>
<span class=normal> 613</span>
<span class=normal> 614</span>
<span class=normal> 615</span>
<span class=normal> 616</span>
<span class=normal> 617</span>
<span class=normal> 618</span>
<span class=normal> 619</span>
<span class=normal> 620</span>
<span class=normal> 621</span>
<span class=normal> 622</span>
<span class=normal> 623</span>
<span class=normal> 624</span>
<span class=normal> 625</span>
<span class=normal> 626</span>
<span class=normal> 627</span>
<span class=normal> 628</span>
<span class=normal> 629</span>
<span class=normal> 630</span>
<span class=normal> 631</span>
<span class=normal> 632</span>
<span class=normal> 633</span>
<span class=normal> 634</span>
<span class=normal> 635</span>
<span class=normal> 636</span>
<span class=normal> 637</span>
<span class=normal> 638</span>
<span class=normal> 639</span>
<span class=normal> 640</span>
<span class=normal> 641</span>
<span class=normal> 642</span>
<span class=normal> 643</span>
<span class=normal> 644</span>
<span class=normal> 645</span>
<span class=normal> 646</span>
<span class=normal> 647</span>
<span class=normal> 648</span>
<span class=normal> 649</span>
<span class=normal> 650</span>
<span class=normal> 651</span>
<span class=normal> 652</span>
<span class=normal> 653</span>
<span class=normal> 654</span>
<span class=normal> 655</span>
<span class=normal> 656</span>
<span class=normal> 657</span>
<span class=normal> 658</span>
<span class=normal> 659</span>
<span class=normal> 660</span>
<span class=normal> 661</span>
<span class=normal> 662</span>
<span class=normal> 663</span>
<span class=normal> 664</span>
<span class=normal> 665</span>
<span class=normal> 666</span>
<span class=normal> 667</span>
<span class=normal> 668</span>
<span class=normal> 669</span>
<span class=normal> 670</span>
<span class=normal> 671</span>
<span class=normal> 672</span>
<span class=normal> 673</span>
<span class=normal> 674</span>
<span class=normal> 675</span>
<span class=normal> 676</span>
<span class=normal> 677</span>
<span class=normal> 678</span>
<span class=normal> 679</span>
<span class=normal> 680</span>
<span class=normal> 681</span>
<span class=normal> 682</span>
<span class=normal> 683</span>
<span class=normal> 684</span>
<span class=normal> 685</span>
<span class=normal> 686</span>
<span class=normal> 687</span>
<span class=normal> 688</span>
<span class=normal> 689</span>
<span class=normal> 690</span>
<span class=normal> 691</span>
<span class=normal> 692</span>
<span class=normal> 693</span>
<span class=normal> 694</span>
<span class=normal> 695</span>
<span class=normal> 696</span>
<span class=normal> 697</span>
<span class=normal> 698</span>
<span class=normal> 699</span>
<span class=normal> 700</span>
<span class=normal> 701</span>
<span class=normal> 702</span>
<span class=normal> 703</span>
<span class=normal> 704</span>
<span class=normal> 705</span>
<span class=normal> 706</span>
<span class=normal> 707</span>
<span class=normal> 708</span>
<span class=normal> 709</span>
<span class=normal> 710</span>
<span class=normal> 711</span>
<span class=normal> 712</span>
<span class=normal> 713</span>
<span class=normal> 714</span>
<span class=normal> 715</span>
<span class=normal> 716</span>
<span class=normal> 717</span>
<span class=normal> 718</span>
<span class=normal> 719</span>
<span class=normal> 720</span>
<span class=normal> 721</span>
<span class=normal> 722</span>
<span class=normal> 723</span>
<span class=normal> 724</span>
<span class=normal> 725</span>
<span class=normal> 726</span>
<span class=normal> 727</span>
<span class=normal> 728</span>
<span class=normal> 729</span>
<span class=normal> 730</span>
<span class=normal> 731</span>
<span class=normal> 732</span>
<span class=normal> 733</span>
<span class=normal> 734</span>
<span class=normal> 735</span>
<span class=normal> 736</span>
<span class=normal> 737</span>
<span class=normal> 738</span>
<span class=normal> 739</span>
<span class=normal> 740</span>
<span class=normal> 741</span>
<span class=normal> 742</span>
<span class=normal> 743</span>
<span class=normal> 744</span>
<span class=normal> 745</span>
<span class=normal> 746</span>
<span class=normal> 747</span>
<span class=normal> 748</span>
<span class=normal> 749</span>
<span class=normal> 750</span>
<span class=normal> 751</span>
<span class=normal> 752</span>
<span class=normal> 753</span>
<span class=normal> 754</span>
<span class=normal> 755</span>
<span class=normal> 756</span>
<span class=normal> 757</span>
<span class=normal> 758</span>
<span class=normal> 759</span>
<span class=normal> 760</span>
<span class=normal> 761</span>
<span class=normal> 762</span>
<span class=normal> 763</span>
<span class=normal> 764</span>
<span class=normal> 765</span>
<span class=normal> 766</span>
<span class=normal> 767</span>
<span class=normal> 768</span>
<span class=normal> 769</span>
<span class=normal> 770</span>
<span class=normal> 771</span>
<span class=normal> 772</span>
<span class=normal> 773</span>
<span class=normal> 774</span>
<span class=normal> 775</span>
<span class=normal> 776</span>
<span class=normal> 777</span>
<span class=normal> 778</span>
<span class=normal> 779</span>
<span class=normal> 780</span>
<span class=normal> 781</span>
<span class=normal> 782</span>
<span class=normal> 783</span>
<span class=normal> 784</span>
<span class=normal> 785</span>
<span class=normal> 786</span>
<span class=normal> 787</span>
<span class=normal> 788</span>
<span class=normal> 789</span>
<span class=normal> 790</span>
<span class=normal> 791</span>
<span class=normal> 792</span>
<span class=normal> 793</span>
<span class=normal> 794</span>
<span class=normal> 795</span>
<span class=normal> 796</span>
<span class=normal> 797</span>
<span class=normal> 798</span>
<span class=normal> 799</span>
<span class=normal> 800</span>
<span class=normal> 801</span>
<span class=normal> 802</span>
<span class=normal> 803</span>
<span class=normal> 804</span>
<span class=normal> 805</span>
<span class=normal> 806</span>
<span class=normal> 807</span>
<span class=normal> 808</span>
<span class=normal> 809</span>
<span class=normal> 810</span>
<span class=normal> 811</span>
<span class=normal> 812</span>
<span class=normal> 813</span>
<span class=normal> 814</span>
<span class=normal> 815</span>
<span class=normal> 816</span>
<span class=normal> 817</span>
<span class=normal> 818</span>
<span class=normal> 819</span>
<span class=normal> 820</span>
<span class=normal> 821</span>
<span class=normal> 822</span>
<span class=normal> 823</span>
<span class=normal> 824</span>
<span class=normal> 825</span>
<span class=normal> 826</span>
<span class=normal> 827</span>
<span class=normal> 828</span>
<span class=normal> 829</span>
<span class=normal> 830</span>
<span class=normal> 831</span>
<span class=normal> 832</span>
<span class=normal> 833</span>
<span class=normal> 834</span>
<span class=normal> 835</span>
<span class=normal> 836</span>
<span class=normal> 837</span>
<span class=normal> 838</span>
<span class=normal> 839</span>
<span class=normal> 840</span>
<span class=normal> 841</span>
<span class=normal> 842</span>
<span class=normal> 843</span>
<span class=normal> 844</span>
<span class=normal> 845</span>
<span class=normal> 846</span>
<span class=normal> 847</span>
<span class=normal> 848</span>
<span class=normal> 849</span>
<span class=normal> 850</span>
<span class=normal> 851</span>
<span class=normal> 852</span>
<span class=normal> 853</span>
<span class=normal> 854</span>
<span class=normal> 855</span>
<span class=normal> 856</span>
<span class=normal> 857</span>
<span class=normal> 858</span>
<span class=normal> 859</span>
<span class=normal> 860</span>
<span class=normal> 861</span>
<span class=normal> 862</span>
<span class=normal> 863</span>
<span class=normal> 864</span>
<span class=normal> 865</span>
<span class=normal> 866</span>
<span class=normal> 867</span>
<span class=normal> 868</span>
<span class=normal> 869</span>
<span class=normal> 870</span>
<span class=normal> 871</span>
<span class=normal> 872</span>
<span class=normal> 873</span>
<span class=normal> 874</span>
<span class=normal> 875</span>
<span class=normal> 876</span>
<span class=normal> 877</span>
<span class=normal> 878</span>
<span class=normal> 879</span>
<span class=normal> 880</span>
<span class=normal> 881</span>
<span class=normal> 882</span>
<span class=normal> 883</span>
<span class=normal> 884</span>
<span class=normal> 885</span>
<span class=normal> 886</span>
<span class=normal> 887</span>
<span class=normal> 888</span>
<span class=normal> 889</span>
<span class=normal> 890</span>
<span class=normal> 891</span>
<span class=normal> 892</span>
<span class=normal> 893</span>
<span class=normal> 894</span>
<span class=normal> 895</span>
<span class=normal> 896</span>
<span class=normal> 897</span>
<span class=normal> 898</span>
<span class=normal> 899</span>
<span class=normal> 900</span>
<span class=normal> 901</span>
<span class=normal> 902</span>
<span class=normal> 903</span>
<span class=normal> 904</span>
<span class=normal> 905</span>
<span class=normal> 906</span>
<span class=normal> 907</span>
<span class=normal> 908</span>
<span class=normal> 909</span>
<span class=normal> 910</span>
<span class=normal> 911</span>
<span class=normal> 912</span>
<span class=normal> 913</span>
<span class=normal> 914</span>
<span class=normal> 915</span>
<span class=normal> 916</span>
<span class=normal> 917</span>
<span class=normal> 918</span>
<span class=normal> 919</span>
<span class=normal> 920</span>
<span class=normal> 921</span>
<span class=normal> 922</span>
<span class=normal> 923</span>
<span class=normal> 924</span>
<span class=normal> 925</span>
<span class=normal> 926</span>
<span class=normal> 927</span>
<span class=normal> 928</span>
<span class=normal> 929</span>
<span class=normal> 930</span>
<span class=normal> 931</span>
<span class=normal> 932</span>
<span class=normal> 933</span>
<span class=normal> 934</span>
<span class=normal> 935</span>
<span class=normal> 936</span>
<span class=normal> 937</span>
<span class=normal> 938</span>
<span class=normal> 939</span>
<span class=normal> 940</span>
<span class=normal> 941</span>
<span class=normal> 942</span>
<span class=normal> 943</span>
<span class=normal> 944</span>
<span class=normal> 945</span>
<span class=normal> 946</span>
<span class=normal> 947</span>
<span class=normal> 948</span>
<span class=normal> 949</span>
<span class=normal> 950</span>
<span class=normal> 951</span>
<span class=normal> 952</span>
<span class=normal> 953</span>
<span class=normal> 954</span>
<span class=normal> 955</span>
<span class=normal> 956</span>
<span class=normal> 957</span>
<span class=normal> 958</span>
<span class=normal> 959</span>
<span class=normal> 960</span>
<span class=normal> 961</span>
<span class=normal> 962</span>
<span class=normal> 963</span>
<span class=normal> 964</span>
<span class=normal> 965</span>
<span class=normal> 966</span>
<span class=normal> 967</span>
<span class=normal> 968</span>
<span class=normal> 969</span>
<span class=normal> 970</span>
<span class=normal> 971</span>
<span class=normal> 972</span>
<span class=normal> 973</span>
<span class=normal> 974</span>
<span class=normal> 975</span>
<span class=normal> 976</span>
<span class=normal> 977</span>
<span class=normal> 978</span>
<span class=normal> 979</span>
<span class=normal> 980</span>
<span class=normal> 981</span>
<span class=normal> 982</span>
<span class=normal> 983</span>
<span class=normal> 984</span>
<span class=normal> 985</span>
<span class=normal> 986</span>
<span class=normal> 987</span>
<span class=normal> 988</span>
<span class=normal> 989</span>
<span class=normal> 990</span>
<span class=normal> 991</span>
<span class=normal> 992</span>
<span class=normal> 993</span>
<span class=normal> 994</span>
<span class=normal> 995</span>
<span class=normal> 996</span>
<span class=normal> 997</span>
<span class=normal> 998</span>
<span class=normal> 999</span>
<span class=normal>1000</span>
<span class=normal>1001</span>
<span class=normal>1002</span>
<span class=normal>1003</span>
<span class=normal>1004</span>
<span class=normal>1005</span>
<span class=normal>1006</span>
<span class=normal>1007</span>
<span class=normal>1008</span>
<span class=normal>1009</span>
<span class=normal>1010</span>
<span class=normal>1011</span>
<span class=normal>1012</span>
<span class=normal>1013</span>
<span class=normal>1014</span>
<span class=normal>1015</span>
<span class=normal>1016</span>
<span class=normal>1017</span>
<span class=normal>1018</span>
<span class=normal>1019</span>
<span class=normal>1020</span>
<span class=normal>1021</span>
<span class=normal>1022</span>
<span class=normal>1023</span>
<span class=normal>1024</span>
<span class=normal>1025</span>
<span class=normal>1026</span>
<span class=normal>1027</span>
<span class=normal>1028</span>
<span class=normal>1029</span>
<span class=normal>1030</span>
<span class=normal>1031</span>
<span class=normal>1032</span>
<span class=normal>1033</span>
<span class=normal>1034</span>
<span class=normal>1035</span>
<span class=normal>1036</span>
<span class=normal>1037</span>
<span class=normal>1038</span>
<span class=normal>1039</span>
<span class=normal>1040</span>
<span class=normal>1041</span>
<span class=normal>1042</span>
<span class=normal>1043</span>
<span class=normal>1044</span>
<span class=normal>1045</span>
<span class=normal>1046</span>
<span class=normal>1047</span>
<span class=normal>1048</span>
<span class=normal>1049</span>
<span class=normal>1050</span>
<span class=normal>1051</span>
<span class=normal>1052</span>
<span class=normal>1053</span>
<span class=normal>1054</span>
<span class=normal>1055</span>
<span class=normal>1056</span>
<span class=normal>1057</span>
<span class=normal>1058</span>
<span class=normal>1059</span>
<span class=normal>1060</span>
<span class=normal>1061</span>
<span class=normal>1062</span>
<span class=normal>1063</span>
<span class=normal>1064</span>
<span class=normal>1065</span>
<span class=normal>1066</span>
<span class=normal>1067</span>
<span class=normal>1068</span>
<span class=normal>1069</span>
<span class=normal>1070</span>
<span class=normal>1071</span>
<span class=normal>1072</span>
<span class=normal>1073</span>
<span class=normal>1074</span>
<span class=normal>1075</span>
<span class=normal>1076</span>
<span class=normal>1077</span>
<span class=normal>1078</span>
<span class=normal>1079</span>
<span class=normal>1080</span>
<span class=normal>1081</span>
<span class=normal>1082</span>
<span class=normal>1083</span>
<span class=normal>1084</span>
<span class=normal>1085</span>
<span class=normal>1086</span>
<span class=normal>1087</span>
<span class=normal>1088</span>
<span class=normal>1089</span>
<span class=normal>1090</span>
<span class=normal>1091</span>
<span class=normal>1092</span>
<span class=normal>1093</span>
<span class=normal>1094</span>
<span class=normal>1095</span>
<span class=normal>1096</span>
<span class=normal>1097</span>
<span class=normal>1098</span>
<span class=normal>1099</span>
<span class=normal>1100</span>
<span class=normal>1101</span>
<span class=normal>1102</span>
<span class=normal>1103</span>
<span class=normal>1104</span>
<span class=normal>1105</span>
<span class=normal>1106</span>
<span class=normal>1107</span>
<span class=normal>1108</span>
<span class=normal>1109</span>
<span class=normal>1110</span>
<span class=normal>1111</span>
<span class=normal>1112</span>
<span class=normal>1113</span>
<span class=normal>1114</span>
<span class=normal>1115</span>
<span class=normal>1116</span>
<span class=normal>1117</span>
<span class=normal>1118</span>
<span class=normal>1119</span>
<span class=normal>1120</span>
<span class=normal>1121</span>
<span class=normal>1122</span>
<span class=normal>1123</span>
<span class=normal>1124</span>
<span class=normal>1125</span>
<span class=normal>1126</span>
<span class=normal>1127</span>
<span class=normal>1128</span>
<span class=normal>1129</span>
<span class=normal>1130</span>
<span class=normal>1131</span>
<span class=normal>1132</span>
<span class=normal>1133</span>
<span class=normal>1134</span>
<span class=normal>1135</span>
<span class=normal>1136</span>
<span class=normal>1137</span>
<span class=normal>1138</span>
<span class=normal>1139</span>
<span class=normal>1140</span>
<span class=normal>1141</span>
<span class=normal>1142</span>
<span class=normal>1143</span>
<span class=normal>1144</span>
<span class=normal>1145</span>
<span class=normal>1146</span>
<span class=normal>1147</span>
<span class=normal>1148</span>
<span class=normal>1149</span>
<span class=normal>1150</span>
<span class=normal>1151</span>
<span class=normal>1152</span>
<span class=normal>1153</span>
<span class=normal>1154</span>
<span class=normal>1155</span>
<span class=normal>1156</span>
<span class=normal>1157</span>
<span class=normal>1158</span>
<span class=normal>1159</span>
<span class=normal>1160</span>
<span class=normal>1161</span>
<span class=normal>1162</span>
<span class=normal>1163</span>
<span class=normal>1164</span>
<span class=normal>1165</span>
<span class=normal>1166</span>
<span class=normal>1167</span>
<span class=normal>1168</span>
<span class=normal>1169</span>
<span class=normal>1170</span>
<span class=normal>1171</span>
<span class=normal>1172</span>
<span class=normal>1173</span>
<span class=normal>1174</span>
<span class=normal>1175</span>
<span class=normal>1176</span>
<span class=normal>1177</span>
<span class=normal>1178</span>
<span class=normal>1179</span>
<span class=normal>1180</span>
<span class=normal>1181</span>
<span class=normal>1182</span>
<span class=normal>1183</span>
<span class=normal>1184</span>
<span class=normal>1185</span>
<span class=normal>1186</span>
<span class=normal>1187</span>
<span class=normal>1188</span>
<span class=normal>1189</span>
<span class=normal>1190</span>
<span class=normal>1191</span>
<span class=normal>1192</span>
<span class=normal>1193</span>
<span class=normal>1194</span>
<span class=normal>1195</span>
<span class=normal>1196</span>
<span class=normal>1197</span>
<span class=normal>1198</span>
<span class=normal>1199</span>
<span class=normal>1200</span>
<span class=normal>1201</span>
<span class=normal>1202</span>
<span class=normal>1203</span>
<span class=normal>1204</span>
<span class=normal>1205</span>
<span class=normal>1206</span>
<span class=normal>1207</span>
<span class=normal>1208</span>
<span class=normal>1209</span>
<span class=normal>1210</span>
<span class=normal>1211</span>
<span class=normal>1212</span>
<span class=normal>1213</span>
<span class=normal>1214</span>
<span class=normal>1215</span>
<span class=normal>1216</span>
<span class=normal>1217</span>
<span class=normal>1218</span>
<span class=normal>1219</span>
<span class=normal>1220</span>
<span class=normal>1221</span>
<span class=normal>1222</span>
<span class=normal>1223</span>
<span class=normal>1224</span>
<span class=normal>1225</span>
<span class=normal>1226</span>
<span class=normal>1227</span>
<span class=normal>1228</span>
<span class=normal>1229</span>
<span class=normal>1230</span>
<span class=normal>1231</span>
<span class=normal>1232</span>
<span class=normal>1233</span>
<span class=normal>1234</span>
<span class=normal>1235</span>
<span class=normal>1236</span>
<span class=normal>1237</span>
<span class=normal>1238</span>
<span class=normal>1239</span>
<span class=normal>1240</span>
<span class=normal>1241</span>
<span class=normal>1242</span>
<span class=normal>1243</span>
<span class=normal>1244</span>
<span class=normal>1245</span>
<span class=normal>1246</span>
<span class=normal>1247</span>
<span class=normal>1248</span>
<span class=normal>1249</span>
<span class=normal>1250</span>
<span class=normal>1251</span>
<span class=normal>1252</span>
<span class=normal>1253</span>
<span class=normal>1254</span>
<span class=normal>1255</span>
<span class=normal>1256</span>
<span class=normal>1257</span>
<span class=normal>1258</span>
<span class=normal>1259</span>
<span class=normal>1260</span>
<span class=normal>1261</span>
<span class=normal>1262</span>
<span class=normal>1263</span>
<span class=normal>1264</span>
<span class=normal>1265</span>
<span class=normal>1266</span>
<span class=normal>1267</span>
<span class=normal>1268</span>
<span class=normal>1269</span>
<span class=normal>1270</span>
<span class=normal>1271</span>
<span class=normal>1272</span>
<span class=normal>1273</span>
<span class=normal>1274</span>
<span class=normal>1275</span>
<span class=normal>1276</span>
<span class=normal>1277</span>
<span class=normal>1278</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>class</span><span class=w> </span><span class=nc>DescriptorPool</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;A collection of protobufs dynamically constructed by descriptor protos.&quot;&quot;&quot;</span>

  <span class=k>if</span> <span class=n>_USE_C_DESCRIPTORS</span><span class=p>:</span>

    <span class=k>def</span><span class=w> </span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>descriptor_db</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
      <span class=c1># pylint: disable=protected-access</span>
      <span class=k>return</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>_message</span><span class=o>.</span><span class=n>DescriptorPool</span><span class=p>(</span><span class=n>descriptor_db</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>descriptor_db</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Initializes a Pool of proto buffs.</span>

<span class=sd>    The descriptor_db argument to the constructor is provided to allow</span>
<span class=sd>    specialized file descriptor proto lookup code to be triggered on demand. An</span>
<span class=sd>    example would be an implementation which will read and compile a file</span>
<span class=sd>    specified in a call to FindFileByName() and not require the call to Add()</span>
<span class=sd>    at all. Results from this database will be cached internally here as well.</span>

<span class=sd>    Args:</span>
<span class=sd>      descriptor_db: A secondary source of file descriptors.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_internal_db</span> <span class=o>=</span> <span class=n>descriptor_database</span><span class=o>.</span><span class=n>DescriptorDatabase</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span> <span class=o>=</span> <span class=n>descriptor_db</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_file_descriptors</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_toplevel_extensions</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=c1># TODO(jieluo): Remove _file_desc_by_toplevel_extension after</span>
    <span class=c1># maybe year 2020 for compatibility issue (with 3.4.1 only).</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_file_desc_by_toplevel_extension</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_top_enum_values</span> <span class=o>=</span> <span class=p>{}</span>
    <span class=c1># We store extensions in two two-level mappings: The first key is the</span>
    <span class=c1># descriptor of the message being extended, the second key is the extension</span>
    <span class=c1># full name or its tag number.</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_name</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>dict</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>dict</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_CheckConflictRegister</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>desc</span><span class=p>,</span> <span class=n>desc_name</span><span class=p>,</span> <span class=n>file_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if the descriptor name conflicts with another of the same name.</span>

<span class=sd>    Args:</span>
<span class=sd>      desc: Descriptor of a message, enum, service, extension or enum value.</span>
<span class=sd>      desc_name (str): the full name of desc.</span>
<span class=sd>      file_name (str): The file name of descriptor.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>for</span> <span class=n>register</span><span class=p>,</span> <span class=n>descriptor_type</span> <span class=ow>in</span> <span class=p>[</span>
        <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>Descriptor</span><span class=p>),</span>
        <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>EnumDescriptor</span><span class=p>),</span>
        <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>ServiceDescriptor</span><span class=p>),</span>
        <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_toplevel_extensions</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=p>),</span>
        <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_top_enum_values</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>EnumValueDescriptor</span><span class=p>)]:</span>
      <span class=k>if</span> <span class=n>desc_name</span> <span class=ow>in</span> <span class=n>register</span><span class=p>:</span>
        <span class=n>old_desc</span> <span class=o>=</span> <span class=n>register</span><span class=p>[</span><span class=n>desc_name</span><span class=p>]</span>
        <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>old_desc</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>EnumValueDescriptor</span><span class=p>):</span>
          <span class=n>old_file</span> <span class=o>=</span> <span class=n>old_desc</span><span class=o>.</span><span class=n>type</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>name</span>
        <span class=k>else</span><span class=p>:</span>
          <span class=n>old_file</span> <span class=o>=</span> <span class=n>old_desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>name</span>

        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>desc</span><span class=p>,</span> <span class=n>descriptor_type</span><span class=p>)</span> <span class=ow>or</span> <span class=p>(</span>
            <span class=n>old_file</span> <span class=o>!=</span> <span class=n>file_name</span><span class=p>):</span>
          <span class=n>error_msg</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;Conflict register for file &quot;&#39;</span> <span class=o>+</span> <span class=n>file_name</span> <span class=o>+</span>
                       <span class=s1>&#39;&quot;: &#39;</span> <span class=o>+</span> <span class=n>desc_name</span> <span class=o>+</span>
                       <span class=s1>&#39; is already defined in file &quot;&#39;</span> <span class=o>+</span>
                       <span class=n>old_file</span> <span class=o>+</span> <span class=s1>&#39;&quot;. Please fix the conflict by adding &#39;</span>
                       <span class=s1>&#39;package name on the proto file, or use different &#39;</span>
                       <span class=s1>&#39;name for the duplication.&#39;</span><span class=p>)</span>
          <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>desc</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>EnumValueDescriptor</span><span class=p>):</span>
            <span class=n>error_msg</span> <span class=o>+=</span> <span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>Note: enum values appear as &#39;</span>
                          <span class=s1>&#39;siblings of the enum type instead of &#39;</span>
                          <span class=s1>&#39;children of it.&#39;</span><span class=p>)</span>

          <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=n>error_msg</span><span class=p>)</span>

        <span class=k>return</span>

  <span class=k>def</span><span class=w> </span><span class=nf>Add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file_desc_proto</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds the FileDescriptorProto and its types to this pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      file_desc_proto (FileDescriptorProto): The file descriptor to add.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_internal_db</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>file_desc_proto</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>AddSerializedFile</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>serialized_file_desc_proto</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds the FileDescriptorProto and its types to this pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      serialized_file_desc_proto (bytes): A bytes string, serialization of the</span>
<span class=sd>        :class:`FileDescriptorProto` to add.</span>

<span class=sd>    Returns:</span>
<span class=sd>      FileDescriptor: Descriptor for the added file.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=c1># pylint: disable=g-import-not-at-top</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>google.protobuf</span><span class=w> </span><span class=kn>import</span> <span class=n>descriptor_pb2</span>
    <span class=n>file_desc_proto</span> <span class=o>=</span> <span class=n>descriptor_pb2</span><span class=o>.</span><span class=n>FileDescriptorProto</span><span class=o>.</span><span class=n>FromString</span><span class=p>(</span>
        <span class=n>serialized_file_desc_proto</span><span class=p>)</span>
    <span class=n>file_desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertFileProtoToFileDescriptor</span><span class=p>(</span><span class=n>file_desc_proto</span><span class=p>)</span>
    <span class=n>file_desc</span><span class=o>.</span><span class=n>serialized_pb</span> <span class=o>=</span> <span class=n>serialized_file_desc_proto</span>
    <span class=k>return</span> <span class=n>file_desc</span>

  <span class=c1># Add Descriptor to descriptor pool is dreprecated. Please use Add()</span>
  <span class=c1># or AddSerializedFile() to add a FileDescriptorProto instead.</span>
  <span class=nd>@_Deprecated</span>
  <span class=k>def</span><span class=w> </span><span class=nf>AddDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>desc</span><span class=p>):</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_AddDescriptor</span><span class=p>(</span><span class=n>desc</span><span class=p>)</span>

  <span class=c1># Never call this method. It is for internal usage only.</span>
  <span class=k>def</span><span class=w> </span><span class=nf>_AddDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>desc</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds a Descriptor to the pool, non-recursively.</span>

<span class=sd>    If the Descriptor contains nested messages or enums, the caller must</span>
<span class=sd>    explicitly register them. This method also registers the FileDescriptor</span>
<span class=sd>    associated with the message.</span>

<span class=sd>    Args:</span>
<span class=sd>      desc: A Descriptor.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>desc</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>Descriptor</span><span class=p>):</span>
      <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Expected instance of descriptor.Descriptor.&#39;</span><span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_CheckConflictRegister</span><span class=p>(</span><span class=n>desc</span><span class=p>,</span> <span class=n>desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>,</span> <span class=n>desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span><span class=p>[</span><span class=n>desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>desc</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_AddFileDescriptor</span><span class=p>(</span><span class=n>desc</span><span class=o>.</span><span class=n>file</span><span class=p>)</span>

  <span class=c1># Add EnumDescriptor to descriptor pool is dreprecated. Please use Add()</span>
  <span class=c1># or AddSerializedFile() to add a FileDescriptorProto instead.</span>
  <span class=nd>@_Deprecated</span>
  <span class=k>def</span><span class=w> </span><span class=nf>AddEnumDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>enum_desc</span><span class=p>):</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_AddEnumDescriptor</span><span class=p>(</span><span class=n>enum_desc</span><span class=p>)</span>

  <span class=c1># Never call this method. It is for internal usage only.</span>
  <span class=k>def</span><span class=w> </span><span class=nf>_AddEnumDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>enum_desc</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds an EnumDescriptor to the pool.</span>

<span class=sd>    This method also registers the FileDescriptor associated with the enum.</span>

<span class=sd>    Args:</span>
<span class=sd>      enum_desc: An EnumDescriptor.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>enum_desc</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>EnumDescriptor</span><span class=p>):</span>
      <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Expected instance of descriptor.EnumDescriptor.&#39;</span><span class=p>)</span>

    <span class=n>file_name</span> <span class=o>=</span> <span class=n>enum_desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>name</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_CheckConflictRegister</span><span class=p>(</span><span class=n>enum_desc</span><span class=p>,</span> <span class=n>enum_desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>,</span> <span class=n>file_name</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span><span class=p>[</span><span class=n>enum_desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>enum_desc</span>

    <span class=c1># Top enum values need to be indexed.</span>
    <span class=c1># Count the number of dots to see whether the enum is toplevel or nested</span>
    <span class=c1># in a message. We cannot use enum_desc.containing_type at this stage.</span>
    <span class=k>if</span> <span class=n>enum_desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>package</span><span class=p>:</span>
      <span class=n>top_level</span> <span class=o>=</span> <span class=p>(</span><span class=n>enum_desc</span><span class=o>.</span><span class=n>full_name</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
                   <span class=o>-</span> <span class=n>enum_desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>package</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>top_level</span> <span class=o>=</span> <span class=n>enum_desc</span><span class=o>.</span><span class=n>full_name</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span>
    <span class=k>if</span> <span class=n>top_level</span><span class=p>:</span>
      <span class=n>file_name</span> <span class=o>=</span> <span class=n>enum_desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>name</span>
      <span class=n>package</span> <span class=o>=</span> <span class=n>enum_desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>package</span>
      <span class=k>for</span> <span class=n>enum_value</span> <span class=ow>in</span> <span class=n>enum_desc</span><span class=o>.</span><span class=n>values</span><span class=p>:</span>
        <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span>
            <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>((</span><span class=n>package</span><span class=p>,</span> <span class=n>enum_value</span><span class=o>.</span><span class=n>name</span><span class=p>)))</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_CheckConflictRegister</span><span class=p>(</span><span class=n>enum_value</span><span class=p>,</span> <span class=n>full_name</span><span class=p>,</span> <span class=n>file_name</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_top_enum_values</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>enum_value</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_AddFileDescriptor</span><span class=p>(</span><span class=n>enum_desc</span><span class=o>.</span><span class=n>file</span><span class=p>)</span>

  <span class=c1># Add ServiceDescriptor to descriptor pool is dreprecated. Please use Add()</span>
  <span class=c1># or AddSerializedFile() to add a FileDescriptorProto instead.</span>
  <span class=nd>@_Deprecated</span>
  <span class=k>def</span><span class=w> </span><span class=nf>AddServiceDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>service_desc</span><span class=p>):</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_AddServiceDescriptor</span><span class=p>(</span><span class=n>service_desc</span><span class=p>)</span>

  <span class=c1># Never call this method. It is for internal usage only.</span>
  <span class=k>def</span><span class=w> </span><span class=nf>_AddServiceDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>service_desc</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds a ServiceDescriptor to the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      service_desc: A ServiceDescriptor.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>service_desc</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>ServiceDescriptor</span><span class=p>):</span>
      <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Expected instance of descriptor.ServiceDescriptor.&#39;</span><span class=p>)</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_CheckConflictRegister</span><span class=p>(</span><span class=n>service_desc</span><span class=p>,</span> <span class=n>service_desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>,</span>
                                <span class=n>service_desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span><span class=p>[</span><span class=n>service_desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>service_desc</span>

  <span class=c1># Add ExtensionDescriptor to descriptor pool is dreprecated. Please use Add()</span>
  <span class=c1># or AddSerializedFile() to add a FileDescriptorProto instead.</span>
  <span class=nd>@_Deprecated</span>
  <span class=k>def</span><span class=w> </span><span class=nf>AddExtensionDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>extension</span><span class=p>):</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_AddExtensionDescriptor</span><span class=p>(</span><span class=n>extension</span><span class=p>)</span>

  <span class=c1># Never call this method. It is for internal usage only.</span>
  <span class=k>def</span><span class=w> </span><span class=nf>_AddExtensionDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>extension</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds a FieldDescriptor describing an extension to the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      extension: A FieldDescriptor.</span>

<span class=sd>    Raises:</span>
<span class=sd>      AssertionError: when another extension with the same number extends the</span>
<span class=sd>        same message.</span>
<span class=sd>      TypeError: when the specified extension is not a</span>
<span class=sd>        descriptor.FieldDescriptor.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>extension</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=p>)</span> <span class=ow>and</span>
            <span class=n>extension</span><span class=o>.</span><span class=n>is_extension</span><span class=p>):</span>
      <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Expected an extension descriptor.&#39;</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>extension</span><span class=o>.</span><span class=n>extension_scope</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_toplevel_extensions</span><span class=p>[</span><span class=n>extension</span><span class=o>.</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>extension</span>

    <span class=k>try</span><span class=p>:</span>
      <span class=n>existing_desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span>
          <span class=n>extension</span><span class=o>.</span><span class=n>containing_type</span><span class=p>][</span><span class=n>extension</span><span class=o>.</span><span class=n>number</span><span class=p>]</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>pass</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=k>if</span> <span class=n>extension</span> <span class=ow>is</span> <span class=ow>not</span> <span class=n>existing_desc</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>AssertionError</span><span class=p>(</span>
            <span class=s1>&#39;Extensions &quot;</span><span class=si>%s</span><span class=s1>&quot; and &quot;</span><span class=si>%s</span><span class=s1>&quot; both try to extend message type &quot;</span><span class=si>%s</span><span class=s1>&quot; &#39;</span>
            <span class=s1>&#39;with field number </span><span class=si>%d</span><span class=s1>.&#39;</span> <span class=o>%</span>
            <span class=p>(</span><span class=n>extension</span><span class=o>.</span><span class=n>full_name</span><span class=p>,</span> <span class=n>existing_desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>,</span>
             <span class=n>extension</span><span class=o>.</span><span class=n>containing_type</span><span class=o>.</span><span class=n>full_name</span><span class=p>,</span> <span class=n>extension</span><span class=o>.</span><span class=n>number</span><span class=p>))</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span><span class=n>extension</span><span class=o>.</span><span class=n>containing_type</span><span class=p>][</span>
        <span class=n>extension</span><span class=o>.</span><span class=n>number</span><span class=p>]</span> <span class=o>=</span> <span class=n>extension</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_name</span><span class=p>[</span><span class=n>extension</span><span class=o>.</span><span class=n>containing_type</span><span class=p>][</span>
        <span class=n>extension</span><span class=o>.</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>extension</span>

    <span class=c1># Also register MessageSet extensions with the type name.</span>
    <span class=k>if</span> <span class=n>_IsMessageSetExtension</span><span class=p>(</span><span class=n>extension</span><span class=p>):</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_name</span><span class=p>[</span><span class=n>extension</span><span class=o>.</span><span class=n>containing_type</span><span class=p>][</span>
          <span class=n>extension</span><span class=o>.</span><span class=n>message_type</span><span class=o>.</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>extension</span>

  <span class=nd>@_Deprecated</span>
  <span class=k>def</span><span class=w> </span><span class=nf>AddFileDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file_desc</span><span class=p>):</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_InternalAddFileDescriptor</span><span class=p>(</span><span class=n>file_desc</span><span class=p>)</span>

  <span class=c1># Never call this method. It is for internal usage only.</span>
  <span class=k>def</span><span class=w> </span><span class=nf>_InternalAddFileDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file_desc</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds a FileDescriptor to the pool, non-recursively.</span>

<span class=sd>    If the FileDescriptor contains messages or enums, the caller must explicitly</span>
<span class=sd>    register them.</span>

<span class=sd>    Args:</span>
<span class=sd>      file_desc: A FileDescriptor.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=bp>self</span><span class=o>.</span><span class=n>_AddFileDescriptor</span><span class=p>(</span><span class=n>file_desc</span><span class=p>)</span>
    <span class=c1># TODO(jieluo): This is a temporary solution for FieldDescriptor.file.</span>
    <span class=c1># FieldDescriptor.file is added in code gen. Remove this solution after</span>
    <span class=c1># maybe 2020 for compatibility reason (with 3.4.1 only).</span>
    <span class=k>for</span> <span class=n>extension</span> <span class=ow>in</span> <span class=n>file_desc</span><span class=o>.</span><span class=n>extensions_by_name</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_file_desc_by_toplevel_extension</span><span class=p>[</span>
          <span class=n>extension</span><span class=o>.</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>file_desc</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_AddFileDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file_desc</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds a FileDescriptor to the pool, non-recursively.</span>

<span class=sd>    If the FileDescriptor contains messages or enums, the caller must explicitly</span>
<span class=sd>    register them.</span>

<span class=sd>    Args:</span>
<span class=sd>      file_desc: A FileDescriptor.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>file_desc</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FileDescriptor</span><span class=p>):</span>
      <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Expected instance of descriptor.FileDescriptor.&#39;</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_file_descriptors</span><span class=p>[</span><span class=n>file_desc</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>file_desc</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindFileByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets a FileDescriptor by file name.</span>

<span class=sd>    Args:</span>
<span class=sd>      file_name (str): The path to the file to get a descriptor for.</span>

<span class=sd>    Returns:</span>
<span class=sd>      FileDescriptor: The descriptor for the named file.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the file cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>try</span><span class=p>:</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_file_descriptors</span><span class=p>[</span><span class=n>file_name</span><span class=p>]</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>pass</span>

    <span class=k>try</span><span class=p>:</span>
      <span class=n>file_proto</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_internal_db</span><span class=o>.</span><span class=n>FindFileByName</span><span class=p>(</span><span class=n>file_name</span><span class=p>)</span>
    <span class=k>except</span> <span class=ne>KeyError</span> <span class=k>as</span> <span class=n>error</span><span class=p>:</span>
      <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=p>:</span>
        <span class=n>file_proto</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=o>.</span><span class=n>FindFileByName</span><span class=p>(</span><span class=n>file_name</span><span class=p>)</span>
      <span class=k>else</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>error</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>file_proto</span><span class=p>:</span>
      <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span><span class=s1>&#39;Cannot find a file named </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>file_name</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertFileProtoToFileDescriptor</span><span class=p>(</span><span class=n>file_proto</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindFileContainingSymbol</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>symbol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets the FileDescriptor for the file containing the specified symbol.</span>

<span class=sd>    Args:</span>
<span class=sd>      symbol (str): The name of the symbol to search for.</span>

<span class=sd>    Returns:</span>
<span class=sd>      FileDescriptor: Descriptor for the file that contains the specified</span>
<span class=sd>      symbol.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the file cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>symbol</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_InternalFindFileContainingSymbol</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>pass</span>

    <span class=k>try</span><span class=p>:</span>
      <span class=c1># Try fallback database. Build and find again if possible.</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_InternalFindFileContainingSymbol</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span><span class=s1>&#39;Cannot find a file containing </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>symbol</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_InternalFindFileContainingSymbol</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>symbol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets the already built FileDescriptor containing the specified symbol.</span>

<span class=sd>    Args:</span>
<span class=sd>      symbol (str): The name of the symbol to search for.</span>

<span class=sd>    Returns:</span>
<span class=sd>      FileDescriptor: Descriptor for the file that contains the specified</span>
<span class=sd>      symbol.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the file cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span><span class=p>[</span><span class=n>symbol</span><span class=p>]</span><span class=o>.</span><span class=n>file</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>pass</span>

    <span class=k>try</span><span class=p>:</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span><span class=p>[</span><span class=n>symbol</span><span class=p>]</span><span class=o>.</span><span class=n>file</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>pass</span>

    <span class=k>try</span><span class=p>:</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span><span class=p>[</span><span class=n>symbol</span><span class=p>]</span><span class=o>.</span><span class=n>file</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>pass</span>

    <span class=k>try</span><span class=p>:</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_top_enum_values</span><span class=p>[</span><span class=n>symbol</span><span class=p>]</span><span class=o>.</span><span class=n>type</span><span class=o>.</span><span class=n>file</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>pass</span>

    <span class=k>try</span><span class=p>:</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_file_desc_by_toplevel_extension</span><span class=p>[</span><span class=n>symbol</span><span class=p>]</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>pass</span>

    <span class=c1># Try fields, enum values and nested extensions inside a message.</span>
    <span class=n>top_name</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>sub_name</span> <span class=o>=</span> <span class=n>symbol</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
      <span class=n>message</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindMessageTypeByName</span><span class=p>(</span><span class=n>top_name</span><span class=p>)</span>
      <span class=k>assert</span> <span class=p>(</span><span class=n>sub_name</span> <span class=ow>in</span> <span class=n>message</span><span class=o>.</span><span class=n>extensions_by_name</span> <span class=ow>or</span>
              <span class=n>sub_name</span> <span class=ow>in</span> <span class=n>message</span><span class=o>.</span><span class=n>fields_by_name</span> <span class=ow>or</span>
              <span class=n>sub_name</span> <span class=ow>in</span> <span class=n>message</span><span class=o>.</span><span class=n>enum_values_by_name</span><span class=p>)</span>
      <span class=k>return</span> <span class=n>message</span><span class=o>.</span><span class=n>file</span>
    <span class=k>except</span> <span class=p>(</span><span class=ne>KeyError</span><span class=p>,</span> <span class=ne>AssertionError</span><span class=p>):</span>
      <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span><span class=s1>&#39;Cannot find a file containing </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>symbol</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindMessageTypeByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Loads the named descriptor from the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      full_name (str): The full name of the descriptor to load.</span>

<span class=sd>    Returns:</span>
<span class=sd>      Descriptor: The descriptor for the named type.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the message cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>full_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span><span class=p>:</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindEnumTypeByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Loads the named enum descriptor from the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      full_name (str): The full name of the enum descriptor to load.</span>

<span class=sd>    Returns:</span>
<span class=sd>      EnumDescriptor: The enum descriptor for the named type.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the enum cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>full_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span><span class=p>:</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindFieldByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Loads the named field descriptor from the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      full_name (str): The full name of the field descriptor to load.</span>

<span class=sd>    Returns:</span>
<span class=sd>      FieldDescriptor: The field descriptor for the named field.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the field cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=n>message_name</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>field_name</span> <span class=o>=</span> <span class=n>full_name</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
    <span class=n>message_descriptor</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindMessageTypeByName</span><span class=p>(</span><span class=n>message_name</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>message_descriptor</span><span class=o>.</span><span class=n>fields_by_name</span><span class=p>[</span><span class=n>field_name</span><span class=p>]</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindOneofByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Loads the named oneof descriptor from the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      full_name (str): The full name of the oneof descriptor to load.</span>

<span class=sd>    Returns:</span>
<span class=sd>      OneofDescriptor: The oneof descriptor for the named oneof.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the oneof cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=n>message_name</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>oneof_name</span> <span class=o>=</span> <span class=n>full_name</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
    <span class=n>message_descriptor</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindMessageTypeByName</span><span class=p>(</span><span class=n>message_name</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>message_descriptor</span><span class=o>.</span><span class=n>oneofs_by_name</span><span class=p>[</span><span class=n>oneof_name</span><span class=p>]</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindExtensionByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Loads the named extension descriptor from the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      full_name (str): The full name of the extension descriptor to load.</span>

<span class=sd>    Returns:</span>
<span class=sd>      FieldDescriptor: The field descriptor for the named extension.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the extension cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
      <span class=c1># The proto compiler does not give any link between the FileDescriptor</span>
      <span class=c1># and top-level extensions unless the FileDescriptorProto is added to</span>
      <span class=c1># the DescriptorDatabase, but this can impact memory usage.</span>
      <span class=c1># So we registered these extensions by name explicitly.</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_toplevel_extensions</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=k>pass</span>
    <span class=n>message_name</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>extension_name</span> <span class=o>=</span> <span class=n>full_name</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
    <span class=k>try</span><span class=p>:</span>
      <span class=c1># Most extensions are nested inside a message.</span>
      <span class=n>scope</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindMessageTypeByName</span><span class=p>(</span><span class=n>message_name</span><span class=p>)</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=c1># Some extensions are defined at file scope.</span>
      <span class=n>scope</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>scope</span><span class=o>.</span><span class=n>extensions_by_name</span><span class=p>[</span><span class=n>extension_name</span><span class=p>]</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindExtensionByNumber</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message_descriptor</span><span class=p>,</span> <span class=n>number</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets the extension of the specified message with the specified number.</span>

<span class=sd>    Extensions have to be registered to this pool by calling :func:`Add` or</span>
<span class=sd>    :func:`AddExtensionDescriptor`.</span>

<span class=sd>    Args:</span>
<span class=sd>      message_descriptor (Descriptor): descriptor of the extended message.</span>
<span class=sd>      number (int): Number of the extension field.</span>

<span class=sd>    Returns:</span>
<span class=sd>      FieldDescriptor: The descriptor for the extension.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: when no extension with the given number is known for the</span>
<span class=sd>        specified message.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span><span class=n>message_descriptor</span><span class=p>][</span><span class=n>number</span><span class=p>]</span>
    <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_TryLoadExtensionFromDB</span><span class=p>(</span><span class=n>message_descriptor</span><span class=p>,</span> <span class=n>number</span><span class=p>)</span>
      <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span><span class=n>message_descriptor</span><span class=p>][</span><span class=n>number</span><span class=p>]</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindAllExtensions</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message_descriptor</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Gets all the known extensions of a given message.</span>

<span class=sd>    Extensions have to be registered to this pool by build related</span>
<span class=sd>    :func:`Add` or :func:`AddExtensionDescriptor`.</span>

<span class=sd>    Args:</span>
<span class=sd>      message_descriptor (Descriptor): Descriptor of the extended message.</span>

<span class=sd>    Returns:</span>
<span class=sd>      list[FieldDescriptor]: Field descriptors describing the extensions.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=c1># Fallback to descriptor db if FindAllExtensionNumbers is provided.</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span> <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=p>,</span> <span class=s1>&#39;FindAllExtensionNumbers&#39;</span><span class=p>):</span>
      <span class=n>full_name</span> <span class=o>=</span> <span class=n>message_descriptor</span><span class=o>.</span><span class=n>full_name</span>
      <span class=n>all_numbers</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=o>.</span><span class=n>FindAllExtensionNumbers</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
      <span class=k>for</span> <span class=n>number</span> <span class=ow>in</span> <span class=n>all_numbers</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>number</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span><span class=n>message_descriptor</span><span class=p>]:</span>
          <span class=k>continue</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_TryLoadExtensionFromDB</span><span class=p>(</span><span class=n>message_descriptor</span><span class=p>,</span> <span class=n>number</span><span class=p>)</span>

    <span class=k>return</span> <span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span><span class=n>message_descriptor</span><span class=p>]</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_TryLoadExtensionFromDB</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message_descriptor</span><span class=p>,</span> <span class=n>number</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Try to Load extensions from descriptor db.</span>

<span class=sd>    Args:</span>
<span class=sd>      message_descriptor: descriptor of the extended message.</span>
<span class=sd>      number: the extension number that needs to be loaded.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=p>:</span>
      <span class=k>return</span>
    <span class=c1># Only supported when FindFileContainingExtension is provided.</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=nb>hasattr</span><span class=p>(</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=p>,</span> <span class=s1>&#39;FindFileContainingExtension&#39;</span><span class=p>):</span>
      <span class=k>return</span>

    <span class=n>full_name</span> <span class=o>=</span> <span class=n>message_descriptor</span><span class=o>.</span><span class=n>full_name</span>
    <span class=n>file_proto</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=o>.</span><span class=n>FindFileContainingExtension</span><span class=p>(</span>
        <span class=n>full_name</span><span class=p>,</span> <span class=n>number</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>file_proto</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
      <span class=k>return</span>

    <span class=k>try</span><span class=p>:</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertFileProtoToFileDescriptor</span><span class=p>(</span><span class=n>file_proto</span><span class=p>)</span>
    <span class=k>except</span><span class=p>:</span>
      <span class=n>warn_msg</span> <span class=o>=</span> <span class=p>(</span><span class=s1>&#39;Unable to load proto file </span><span class=si>%s</span><span class=s1> for extension number </span><span class=si>%d</span><span class=s1>.&#39;</span> <span class=o>%</span>
                  <span class=p>(</span><span class=n>file_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>number</span><span class=p>))</span>
      <span class=n>warnings</span><span class=o>.</span><span class=n>warn</span><span class=p>(</span><span class=n>warn_msg</span><span class=p>,</span> <span class=ne>RuntimeWarning</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindServiceByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Loads the named service descriptor from the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      full_name (str): The full name of the service descriptor to load.</span>

<span class=sd>    Returns:</span>
<span class=sd>      ServiceDescriptor: The service descriptor for the named service.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the service cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=k>if</span> <span class=n>full_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span><span class=p>:</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span>

  <span class=k>def</span><span class=w> </span><span class=nf>FindMethodByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Loads the named service method descriptor from the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      full_name (str): The full name of the method descriptor to load.</span>

<span class=sd>    Returns:</span>
<span class=sd>      MethodDescriptor: The method descriptor for the service method.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the method cannot be found in the pool.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=n>service_name</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>method_name</span> <span class=o>=</span> <span class=n>full_name</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
    <span class=n>service_descriptor</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindServiceByName</span><span class=p>(</span><span class=n>service_name</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>service_descriptor</span><span class=o>.</span><span class=n>methods_by_name</span><span class=p>[</span><span class=n>method_name</span><span class=p>]</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>symbol</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Finds the file in descriptor DB containing the specified symbol.</span>

<span class=sd>    Args:</span>
<span class=sd>      symbol (str): The name of the symbol to search for.</span>

<span class=sd>    Returns:</span>
<span class=sd>      FileDescriptor: The file that contains the specified symbol.</span>

<span class=sd>    Raises:</span>
<span class=sd>      KeyError: if the file cannot be found in the descriptor database.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>try</span><span class=p>:</span>
      <span class=n>file_proto</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_internal_db</span><span class=o>.</span><span class=n>FindFileContainingSymbol</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
    <span class=k>except</span> <span class=ne>KeyError</span> <span class=k>as</span> <span class=n>error</span><span class=p>:</span>
      <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=p>:</span>
        <span class=n>file_proto</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=o>.</span><span class=n>FindFileContainingSymbol</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
      <span class=k>else</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>error</span>
    <span class=k>if</span> <span class=ow>not</span> <span class=n>file_proto</span><span class=p>:</span>
      <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span><span class=s1>&#39;Cannot find a file containing </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>symbol</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertFileProtoToFileDescriptor</span><span class=p>(</span><span class=n>file_proto</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_ConvertFileProtoToFileDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file_proto</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a FileDescriptor from a proto or returns a cached copy.</span>

<span class=sd>    This method also has the side effect of loading all the symbols found in</span>
<span class=sd>    the file into the appropriate dictionaries in the pool.</span>

<span class=sd>    Args:</span>
<span class=sd>      file_proto: The proto to convert.</span>

<span class=sd>    Returns:</span>
<span class=sd>      A FileDescriptor matching the passed in proto.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_file_descriptors</span><span class=p>:</span>
      <span class=n>built_deps</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_GetDeps</span><span class=p>(</span><span class=n>file_proto</span><span class=o>.</span><span class=n>dependency</span><span class=p>))</span>
      <span class=n>direct_deps</span> <span class=o>=</span> <span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>FindFileByName</span><span class=p>(</span><span class=n>n</span><span class=p>)</span> <span class=k>for</span> <span class=n>n</span> <span class=ow>in</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>dependency</span><span class=p>]</span>
      <span class=n>public_deps</span> <span class=o>=</span> <span class=p>[</span><span class=n>direct_deps</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>public_dependency</span><span class=p>]</span>

      <span class=n>file_descriptor</span> <span class=o>=</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FileDescriptor</span><span class=p>(</span>
          <span class=n>pool</span><span class=o>=</span><span class=bp>self</span><span class=p>,</span>
          <span class=n>name</span><span class=o>=</span><span class=n>file_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
          <span class=n>package</span><span class=o>=</span><span class=n>file_proto</span><span class=o>.</span><span class=n>package</span><span class=p>,</span>
          <span class=n>syntax</span><span class=o>=</span><span class=n>file_proto</span><span class=o>.</span><span class=n>syntax</span><span class=p>,</span>
          <span class=n>options</span><span class=o>=</span><span class=n>_OptionsOrNone</span><span class=p>(</span><span class=n>file_proto</span><span class=p>),</span>
          <span class=n>serialized_pb</span><span class=o>=</span><span class=n>file_proto</span><span class=o>.</span><span class=n>SerializeToString</span><span class=p>(),</span>
          <span class=n>dependencies</span><span class=o>=</span><span class=n>direct_deps</span><span class=p>,</span>
          <span class=n>public_dependencies</span><span class=o>=</span><span class=n>public_deps</span><span class=p>,</span>
          <span class=c1># pylint: disable=protected-access</span>
          <span class=n>create_key</span><span class=o>=</span><span class=n>descriptor</span><span class=o>.</span><span class=n>_internal_create_key</span><span class=p>)</span>
      <span class=n>scope</span> <span class=o>=</span> <span class=p>{}</span>

      <span class=c1># This loop extracts all the message and enum types from all the</span>
      <span class=c1># dependencies of the file_proto. This is necessary to create the</span>
      <span class=c1># scope of available message types when defining the passed in</span>
      <span class=c1># file proto.</span>
      <span class=k>for</span> <span class=n>dependency</span> <span class=ow>in</span> <span class=n>built_deps</span><span class=p>:</span>
        <span class=n>scope</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_ExtractSymbols</span><span class=p>(</span>
            <span class=n>dependency</span><span class=o>.</span><span class=n>message_types_by_name</span><span class=o>.</span><span class=n>values</span><span class=p>()))</span>
        <span class=n>scope</span><span class=o>.</span><span class=n>update</span><span class=p>((</span><span class=n>_PrefixWithDot</span><span class=p>(</span><span class=n>enum</span><span class=o>.</span><span class=n>full_name</span><span class=p>),</span> <span class=n>enum</span><span class=p>)</span>
                     <span class=k>for</span> <span class=n>enum</span> <span class=ow>in</span> <span class=n>dependency</span><span class=o>.</span><span class=n>enum_types_by_name</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>

      <span class=k>for</span> <span class=n>message_type</span> <span class=ow>in</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>message_type</span><span class=p>:</span>
        <span class=n>message_desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertMessageDescriptor</span><span class=p>(</span>
            <span class=n>message_type</span><span class=p>,</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>package</span><span class=p>,</span> <span class=n>file_descriptor</span><span class=p>,</span> <span class=n>scope</span><span class=p>,</span>
            <span class=n>file_proto</span><span class=o>.</span><span class=n>syntax</span><span class=p>)</span>
        <span class=n>file_descriptor</span><span class=o>.</span><span class=n>message_types_by_name</span><span class=p>[</span><span class=n>message_desc</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
            <span class=n>message_desc</span><span class=p>)</span>

      <span class=k>for</span> <span class=n>enum_type</span> <span class=ow>in</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>enum_type</span><span class=p>:</span>
        <span class=n>file_descriptor</span><span class=o>.</span><span class=n>enum_types_by_name</span><span class=p>[</span><span class=n>enum_type</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertEnumDescriptor</span><span class=p>(</span><span class=n>enum_type</span><span class=p>,</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>package</span><span class=p>,</span>
                                        <span class=n>file_descriptor</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span> <span class=n>scope</span><span class=p>,</span> <span class=kc>True</span><span class=p>))</span>

      <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>extension_proto</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>file_proto</span><span class=o>.</span><span class=n>extension</span><span class=p>):</span>
        <span class=n>extension_desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_MakeFieldDescriptor</span><span class=p>(</span>
            <span class=n>extension_proto</span><span class=p>,</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>package</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>file_descriptor</span><span class=p>,</span>
            <span class=n>is_extension</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
        <span class=n>extension_desc</span><span class=o>.</span><span class=n>containing_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_GetTypeFromScope</span><span class=p>(</span>
            <span class=n>file_descriptor</span><span class=o>.</span><span class=n>package</span><span class=p>,</span> <span class=n>extension_proto</span><span class=o>.</span><span class=n>extendee</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_SetFieldType</span><span class=p>(</span><span class=n>extension_proto</span><span class=p>,</span> <span class=n>extension_desc</span><span class=p>,</span>
                           <span class=n>file_descriptor</span><span class=o>.</span><span class=n>package</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>
        <span class=n>file_descriptor</span><span class=o>.</span><span class=n>extensions_by_name</span><span class=p>[</span><span class=n>extension_desc</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
            <span class=n>extension_desc</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_file_desc_by_toplevel_extension</span><span class=p>[</span><span class=n>extension_desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
            <span class=n>file_descriptor</span><span class=p>)</span>

      <span class=k>for</span> <span class=n>desc_proto</span> <span class=ow>in</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>message_type</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_SetAllFieldTypes</span><span class=p>(</span><span class=n>file_proto</span><span class=o>.</span><span class=n>package</span><span class=p>,</span> <span class=n>desc_proto</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>

      <span class=k>if</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>package</span><span class=p>:</span>
        <span class=n>desc_proto_prefix</span> <span class=o>=</span> <span class=n>_PrefixWithDot</span><span class=p>(</span><span class=n>file_proto</span><span class=o>.</span><span class=n>package</span><span class=p>)</span>
      <span class=k>else</span><span class=p>:</span>
        <span class=n>desc_proto_prefix</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span>

      <span class=k>for</span> <span class=n>desc_proto</span> <span class=ow>in</span> <span class=n>file_proto</span><span class=o>.</span><span class=n>message_type</span><span class=p>:</span>
        <span class=n>desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_GetTypeFromScope</span><span class=p>(</span>
            <span class=n>desc_proto_prefix</span><span class=p>,</span> <span class=n>desc_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>
        <span class=n>file_descriptor</span><span class=o>.</span><span class=n>message_types_by_name</span><span class=p>[</span><span class=n>desc_proto</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>desc</span>

      <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>service_proto</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>file_proto</span><span class=o>.</span><span class=n>service</span><span class=p>):</span>
        <span class=n>file_descriptor</span><span class=o>.</span><span class=n>services_by_name</span><span class=p>[</span><span class=n>service_proto</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_MakeServiceDescriptor</span><span class=p>(</span><span class=n>service_proto</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>scope</span><span class=p>,</span>
                                        <span class=n>file_proto</span><span class=o>.</span><span class=n>package</span><span class=p>,</span> <span class=n>file_descriptor</span><span class=p>))</span>

      <span class=bp>self</span><span class=o>.</span><span class=n>_file_descriptors</span><span class=p>[</span><span class=n>file_proto</span><span class=o>.</span><span class=n>name</span><span class=p>]</span> <span class=o>=</span> <span class=n>file_descriptor</span>

    <span class=c1># Add extensions to the pool</span>
    <span class=n>file_desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_file_descriptors</span><span class=p>[</span><span class=n>file_proto</span><span class=o>.</span><span class=n>name</span><span class=p>]</span>
    <span class=k>for</span> <span class=n>extension</span> <span class=ow>in</span> <span class=n>file_desc</span><span class=o>.</span><span class=n>extensions_by_name</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_AddExtensionDescriptor</span><span class=p>(</span><span class=n>extension</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>message_type</span> <span class=ow>in</span> <span class=n>file_desc</span><span class=o>.</span><span class=n>message_types_by_name</span><span class=o>.</span><span class=n>values</span><span class=p>():</span>
      <span class=k>for</span> <span class=n>extension</span> <span class=ow>in</span> <span class=n>message_type</span><span class=o>.</span><span class=n>extensions</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_AddExtensionDescriptor</span><span class=p>(</span><span class=n>extension</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>file_desc</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_ConvertMessageDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>desc_proto</span><span class=p>,</span> <span class=n>package</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>file_desc</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
                                <span class=n>scope</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>syntax</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Adds the proto to the pool in the specified package.</span>

<span class=sd>    Args:</span>
<span class=sd>      desc_proto: The descriptor_pb2.DescriptorProto protobuf message.</span>
<span class=sd>      package: The package the proto should be located in.</span>
<span class=sd>      file_desc: The file containing this message.</span>
<span class=sd>      scope: Dict mapping short and full symbols to message and enum types.</span>
<span class=sd>      syntax: string indicating syntax of the file (&quot;proto2&quot; or &quot;proto3&quot;)</span>

<span class=sd>    Returns:</span>
<span class=sd>      The added descriptor.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>package</span><span class=p>:</span>
      <span class=n>desc_name</span> <span class=o>=</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>((</span><span class=n>package</span><span class=p>,</span> <span class=n>desc_proto</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>desc_name</span> <span class=o>=</span> <span class=n>desc_proto</span><span class=o>.</span><span class=n>name</span>

    <span class=k>if</span> <span class=n>file_desc</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
      <span class=n>file_name</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>file_name</span> <span class=o>=</span> <span class=n>file_desc</span><span class=o>.</span><span class=n>name</span>

    <span class=k>if</span> <span class=n>scope</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
      <span class=n>scope</span> <span class=o>=</span> <span class=p>{}</span>

    <span class=n>nested</span> <span class=o>=</span> <span class=p>[</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertMessageDescriptor</span><span class=p>(</span>
            <span class=n>nested</span><span class=p>,</span> <span class=n>desc_name</span><span class=p>,</span> <span class=n>file_desc</span><span class=p>,</span> <span class=n>scope</span><span class=p>,</span> <span class=n>syntax</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>nested</span> <span class=ow>in</span> <span class=n>desc_proto</span><span class=o>.</span><span class=n>nested_type</span><span class=p>]</span>
    <span class=n>enums</span> <span class=o>=</span> <span class=p>[</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertEnumDescriptor</span><span class=p>(</span><span class=n>enum</span><span class=p>,</span> <span class=n>desc_name</span><span class=p>,</span> <span class=n>file_desc</span><span class=p>,</span> <span class=kc>None</span><span class=p>,</span>
                                    <span class=n>scope</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>enum</span> <span class=ow>in</span> <span class=n>desc_proto</span><span class=o>.</span><span class=n>enum_type</span><span class=p>]</span>
    <span class=n>fields</span> <span class=o>=</span> <span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>_MakeFieldDescriptor</span><span class=p>(</span><span class=n>field</span><span class=p>,</span> <span class=n>desc_name</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>file_desc</span><span class=p>)</span>
              <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>field</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>desc_proto</span><span class=o>.</span><span class=n>field</span><span class=p>)]</span>
    <span class=n>extensions</span> <span class=o>=</span> <span class=p>[</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_MakeFieldDescriptor</span><span class=p>(</span><span class=n>extension</span><span class=p>,</span> <span class=n>desc_name</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>file_desc</span><span class=p>,</span>
                                  <span class=n>is_extension</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>extension</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>desc_proto</span><span class=o>.</span><span class=n>extension</span><span class=p>)]</span>
    <span class=n>oneofs</span> <span class=o>=</span> <span class=p>[</span>
        <span class=c1># pylint: disable=g-complex-comprehension</span>
        <span class=n>descriptor</span><span class=o>.</span><span class=n>OneofDescriptor</span><span class=p>(</span>
            <span class=n>desc</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
            <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>((</span><span class=n>desc_name</span><span class=p>,</span> <span class=n>desc</span><span class=o>.</span><span class=n>name</span><span class=p>)),</span>
            <span class=n>index</span><span class=p>,</span>
            <span class=kc>None</span><span class=p>,</span>
            <span class=p>[],</span>
            <span class=n>_OptionsOrNone</span><span class=p>(</span><span class=n>desc</span><span class=p>),</span>
            <span class=c1># pylint: disable=protected-access</span>
            <span class=n>create_key</span><span class=o>=</span><span class=n>descriptor</span><span class=o>.</span><span class=n>_internal_create_key</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>desc</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>desc_proto</span><span class=o>.</span><span class=n>oneof_decl</span><span class=p>)</span>
    <span class=p>]</span>
    <span class=n>extension_ranges</span> <span class=o>=</span> <span class=p>[(</span><span class=n>r</span><span class=o>.</span><span class=n>start</span><span class=p>,</span> <span class=n>r</span><span class=o>.</span><span class=n>end</span><span class=p>)</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>desc_proto</span><span class=o>.</span><span class=n>extension_range</span><span class=p>]</span>
    <span class=k>if</span> <span class=n>extension_ranges</span><span class=p>:</span>
      <span class=n>is_extendable</span> <span class=o>=</span> <span class=kc>True</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>is_extendable</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=n>desc</span> <span class=o>=</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>Descriptor</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>desc_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
        <span class=n>full_name</span><span class=o>=</span><span class=n>desc_name</span><span class=p>,</span>
        <span class=n>filename</span><span class=o>=</span><span class=n>file_name</span><span class=p>,</span>
        <span class=n>containing_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>fields</span><span class=o>=</span><span class=n>fields</span><span class=p>,</span>
        <span class=n>oneofs</span><span class=o>=</span><span class=n>oneofs</span><span class=p>,</span>
        <span class=n>nested_types</span><span class=o>=</span><span class=n>nested</span><span class=p>,</span>
        <span class=n>enum_types</span><span class=o>=</span><span class=n>enums</span><span class=p>,</span>
        <span class=n>extensions</span><span class=o>=</span><span class=n>extensions</span><span class=p>,</span>
        <span class=n>options</span><span class=o>=</span><span class=n>_OptionsOrNone</span><span class=p>(</span><span class=n>desc_proto</span><span class=p>),</span>
        <span class=n>is_extendable</span><span class=o>=</span><span class=n>is_extendable</span><span class=p>,</span>
        <span class=n>extension_ranges</span><span class=o>=</span><span class=n>extension_ranges</span><span class=p>,</span>
        <span class=n>file</span><span class=o>=</span><span class=n>file_desc</span><span class=p>,</span>
        <span class=n>serialized_start</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>serialized_end</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>syntax</span><span class=o>=</span><span class=n>syntax</span><span class=p>,</span>
        <span class=c1># pylint: disable=protected-access</span>
        <span class=n>create_key</span><span class=o>=</span><span class=n>descriptor</span><span class=o>.</span><span class=n>_internal_create_key</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>nested</span> <span class=ow>in</span> <span class=n>desc</span><span class=o>.</span><span class=n>nested_types</span><span class=p>:</span>
      <span class=n>nested</span><span class=o>.</span><span class=n>containing_type</span> <span class=o>=</span> <span class=n>desc</span>
    <span class=k>for</span> <span class=n>enum</span> <span class=ow>in</span> <span class=n>desc</span><span class=o>.</span><span class=n>enum_types</span><span class=p>:</span>
      <span class=n>enum</span><span class=o>.</span><span class=n>containing_type</span> <span class=o>=</span> <span class=n>desc</span>
    <span class=k>for</span> <span class=n>field_index</span><span class=p>,</span> <span class=n>field_desc</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>desc_proto</span><span class=o>.</span><span class=n>field</span><span class=p>):</span>
      <span class=k>if</span> <span class=n>field_desc</span><span class=o>.</span><span class=n>HasField</span><span class=p>(</span><span class=s1>&#39;oneof_index&#39;</span><span class=p>):</span>
        <span class=n>oneof_index</span> <span class=o>=</span> <span class=n>field_desc</span><span class=o>.</span><span class=n>oneof_index</span>
        <span class=n>oneofs</span><span class=p>[</span><span class=n>oneof_index</span><span class=p>]</span><span class=o>.</span><span class=n>fields</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>fields</span><span class=p>[</span><span class=n>field_index</span><span class=p>])</span>
        <span class=n>fields</span><span class=p>[</span><span class=n>field_index</span><span class=p>]</span><span class=o>.</span><span class=n>containing_oneof</span> <span class=o>=</span> <span class=n>oneofs</span><span class=p>[</span><span class=n>oneof_index</span><span class=p>]</span>

    <span class=n>scope</span><span class=p>[</span><span class=n>_PrefixWithDot</span><span class=p>(</span><span class=n>desc_name</span><span class=p>)]</span> <span class=o>=</span> <span class=n>desc</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_CheckConflictRegister</span><span class=p>(</span><span class=n>desc</span><span class=p>,</span> <span class=n>desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>,</span> <span class=n>desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span><span class=p>[</span><span class=n>desc_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>desc</span>
    <span class=k>return</span> <span class=n>desc</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_ConvertEnumDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>enum_proto</span><span class=p>,</span> <span class=n>package</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>file_desc</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
                             <span class=n>containing_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>scope</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>top_level</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Make a protobuf EnumDescriptor given an EnumDescriptorProto protobuf.</span>

<span class=sd>    Args:</span>
<span class=sd>      enum_proto: The descriptor_pb2.EnumDescriptorProto protobuf message.</span>
<span class=sd>      package: Optional package name for the new message EnumDescriptor.</span>
<span class=sd>      file_desc: The file containing the enum descriptor.</span>
<span class=sd>      containing_type: The type containing this enum.</span>
<span class=sd>      scope: Scope containing available types.</span>
<span class=sd>      top_level: If True, the enum is a top level symbol. If False, the enum</span>
<span class=sd>          is defined inside a message.</span>

<span class=sd>    Returns:</span>
<span class=sd>      The added descriptor</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>package</span><span class=p>:</span>
      <span class=n>enum_name</span> <span class=o>=</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>((</span><span class=n>package</span><span class=p>,</span> <span class=n>enum_proto</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>enum_name</span> <span class=o>=</span> <span class=n>enum_proto</span><span class=o>.</span><span class=n>name</span>

    <span class=k>if</span> <span class=n>file_desc</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
      <span class=n>file_name</span> <span class=o>=</span> <span class=kc>None</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>file_name</span> <span class=o>=</span> <span class=n>file_desc</span><span class=o>.</span><span class=n>name</span>

    <span class=n>values</span> <span class=o>=</span> <span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>_MakeEnumValueDescriptor</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>index</span><span class=p>)</span>
              <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>enum_proto</span><span class=o>.</span><span class=n>value</span><span class=p>)]</span>
    <span class=n>desc</span> <span class=o>=</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>EnumDescriptor</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=n>enum_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
                                     <span class=n>full_name</span><span class=o>=</span><span class=n>enum_name</span><span class=p>,</span>
                                     <span class=n>filename</span><span class=o>=</span><span class=n>file_name</span><span class=p>,</span>
                                     <span class=n>file</span><span class=o>=</span><span class=n>file_desc</span><span class=p>,</span>
                                     <span class=n>values</span><span class=o>=</span><span class=n>values</span><span class=p>,</span>
                                     <span class=n>containing_type</span><span class=o>=</span><span class=n>containing_type</span><span class=p>,</span>
                                     <span class=n>options</span><span class=o>=</span><span class=n>_OptionsOrNone</span><span class=p>(</span><span class=n>enum_proto</span><span class=p>),</span>
                                     <span class=c1># pylint: disable=protected-access</span>
                                     <span class=n>create_key</span><span class=o>=</span><span class=n>descriptor</span><span class=o>.</span><span class=n>_internal_create_key</span><span class=p>)</span>
    <span class=n>scope</span><span class=p>[</span><span class=s1>&#39;.</span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>enum_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>desc</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_CheckConflictRegister</span><span class=p>(</span><span class=n>desc</span><span class=p>,</span> <span class=n>desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>,</span> <span class=n>desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span><span class=p>[</span><span class=n>enum_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>desc</span>

    <span class=c1># Add top level enum values.</span>
    <span class=k>if</span> <span class=n>top_level</span><span class=p>:</span>
      <span class=k>for</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>values</span><span class=p>:</span>
        <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span>
            <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>((</span><span class=n>package</span><span class=p>,</span> <span class=n>value</span><span class=o>.</span><span class=n>name</span><span class=p>)))</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_CheckConflictRegister</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=n>full_name</span><span class=p>,</span> <span class=n>file_name</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_top_enum_values</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span>

    <span class=k>return</span> <span class=n>desc</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_MakeFieldDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>field_proto</span><span class=p>,</span> <span class=n>message_name</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span>
                           <span class=n>file_desc</span><span class=p>,</span> <span class=n>is_extension</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a field descriptor from a FieldDescriptorProto.</span>

<span class=sd>    For message and enum type fields, this method will do a look up</span>
<span class=sd>    in the pool for the appropriate descriptor for that type. If it</span>
<span class=sd>    is unavailable, it will fall back to the _source function to</span>
<span class=sd>    create it. If this type is still unavailable, construction will</span>
<span class=sd>    fail.</span>

<span class=sd>    Args:</span>
<span class=sd>      field_proto: The proto describing the field.</span>
<span class=sd>      message_name: The name of the containing message.</span>
<span class=sd>      index: Index of the field</span>
<span class=sd>      file_desc: The file containing the field descriptor.</span>
<span class=sd>      is_extension: Indication that this field is for an extension.</span>

<span class=sd>    Returns:</span>
<span class=sd>      An initialized FieldDescriptor object</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>message_name</span><span class=p>:</span>
      <span class=n>full_name</span> <span class=o>=</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>((</span><span class=n>message_name</span><span class=p>,</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>full_name</span> <span class=o>=</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>name</span>

    <span class=k>if</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>json_name</span><span class=p>:</span>
      <span class=n>json_name</span> <span class=o>=</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>json_name</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>json_name</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>return</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>field_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
        <span class=n>full_name</span><span class=o>=</span><span class=n>full_name</span><span class=p>,</span>
        <span class=n>index</span><span class=o>=</span><span class=n>index</span><span class=p>,</span>
        <span class=n>number</span><span class=o>=</span><span class=n>field_proto</span><span class=o>.</span><span class=n>number</span><span class=p>,</span>
        <span class=nb>type</span><span class=o>=</span><span class=n>field_proto</span><span class=o>.</span><span class=n>type</span><span class=p>,</span>
        <span class=n>cpp_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>message_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>enum_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>containing_type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>label</span><span class=o>=</span><span class=n>field_proto</span><span class=o>.</span><span class=n>label</span><span class=p>,</span>
        <span class=n>has_default_value</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span>
        <span class=n>default_value</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>is_extension</span><span class=o>=</span><span class=n>is_extension</span><span class=p>,</span>
        <span class=n>extension_scope</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>options</span><span class=o>=</span><span class=n>_OptionsOrNone</span><span class=p>(</span><span class=n>field_proto</span><span class=p>),</span>
        <span class=n>json_name</span><span class=o>=</span><span class=n>json_name</span><span class=p>,</span>
        <span class=n>file</span><span class=o>=</span><span class=n>file_desc</span><span class=p>,</span>
        <span class=c1># pylint: disable=protected-access</span>
        <span class=n>create_key</span><span class=o>=</span><span class=n>descriptor</span><span class=o>.</span><span class=n>_internal_create_key</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_SetAllFieldTypes</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>package</span><span class=p>,</span> <span class=n>desc_proto</span><span class=p>,</span> <span class=n>scope</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets all the descriptor&#39;s fields&#39;s types.</span>

<span class=sd>    This method also sets the containing types on any extensions.</span>

<span class=sd>    Args:</span>
<span class=sd>      package: The current package of desc_proto.</span>
<span class=sd>      desc_proto: The message descriptor to update.</span>
<span class=sd>      scope: Enclosing scope of available types.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>package</span> <span class=o>=</span> <span class=n>_PrefixWithDot</span><span class=p>(</span><span class=n>package</span><span class=p>)</span>

    <span class=n>main_desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_GetTypeFromScope</span><span class=p>(</span><span class=n>package</span><span class=p>,</span> <span class=n>desc_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>package</span> <span class=o>==</span> <span class=s1>&#39;.&#39;</span><span class=p>:</span>
      <span class=n>nested_package</span> <span class=o>=</span> <span class=n>_PrefixWithDot</span><span class=p>(</span><span class=n>desc_proto</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>nested_package</span> <span class=o>=</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=n>package</span><span class=p>,</span> <span class=n>desc_proto</span><span class=o>.</span><span class=n>name</span><span class=p>])</span>

    <span class=k>for</span> <span class=n>field_proto</span><span class=p>,</span> <span class=n>field_desc</span> <span class=ow>in</span> <span class=nb>zip</span><span class=p>(</span><span class=n>desc_proto</span><span class=o>.</span><span class=n>field</span><span class=p>,</span> <span class=n>main_desc</span><span class=o>.</span><span class=n>fields</span><span class=p>):</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_SetFieldType</span><span class=p>(</span><span class=n>field_proto</span><span class=p>,</span> <span class=n>field_desc</span><span class=p>,</span> <span class=n>nested_package</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>

    <span class=k>for</span> <span class=n>extension_proto</span><span class=p>,</span> <span class=n>extension_desc</span> <span class=ow>in</span> <span class=p>(</span>
        <span class=nb>zip</span><span class=p>(</span><span class=n>desc_proto</span><span class=o>.</span><span class=n>extension</span><span class=p>,</span> <span class=n>main_desc</span><span class=o>.</span><span class=n>extensions</span><span class=p>)):</span>
      <span class=n>extension_desc</span><span class=o>.</span><span class=n>containing_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_GetTypeFromScope</span><span class=p>(</span>
          <span class=n>nested_package</span><span class=p>,</span> <span class=n>extension_proto</span><span class=o>.</span><span class=n>extendee</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_SetFieldType</span><span class=p>(</span><span class=n>extension_proto</span><span class=p>,</span> <span class=n>extension_desc</span><span class=p>,</span> <span class=n>nested_package</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>

    <span class=k>for</span> <span class=n>nested_type</span> <span class=ow>in</span> <span class=n>desc_proto</span><span class=o>.</span><span class=n>nested_type</span><span class=p>:</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_SetAllFieldTypes</span><span class=p>(</span><span class=n>nested_package</span><span class=p>,</span> <span class=n>nested_type</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_SetFieldType</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>field_proto</span><span class=p>,</span> <span class=n>field_desc</span><span class=p>,</span> <span class=n>package</span><span class=p>,</span> <span class=n>scope</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Sets the field&#39;s type, cpp_type, message_type and enum_type.</span>

<span class=sd>    Args:</span>
<span class=sd>      field_proto: Data about the field in proto format.</span>
<span class=sd>      field_desc: The descriptor to modify.</span>
<span class=sd>      package: The package the field&#39;s container is in.</span>
<span class=sd>      scope: Enclosing scope of available types.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type_name</span><span class=p>:</span>
      <span class=n>desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_GetTypeFromScope</span><span class=p>(</span><span class=n>package</span><span class=p>,</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type_name</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>desc</span> <span class=o>=</span> <span class=kc>None</span>

    <span class=k>if</span> <span class=ow>not</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>HasField</span><span class=p>(</span><span class=s1>&#39;type&#39;</span><span class=p>):</span>
      <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>desc</span><span class=p>,</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>Descriptor</span><span class=p>):</span>
        <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_MESSAGE</span>
      <span class=k>else</span><span class=p>:</span>
        <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_ENUM</span>

    <span class=n>field_desc</span><span class=o>.</span><span class=n>cpp_type</span> <span class=o>=</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>ProtoTypeToCppProtoType</span><span class=p>(</span>
        <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span><span class=p>)</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_MESSAGE</span>
        <span class=ow>or</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_GROUP</span><span class=p>):</span>
      <span class=n>field_desc</span><span class=o>.</span><span class=n>message_type</span> <span class=o>=</span> <span class=n>desc</span>

    <span class=k>if</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_ENUM</span><span class=p>:</span>
      <span class=n>field_desc</span><span class=o>.</span><span class=n>enum_type</span> <span class=o>=</span> <span class=n>desc</span>

    <span class=k>if</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>label</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>LABEL_REPEATED</span><span class=p>:</span>
      <span class=n>field_desc</span><span class=o>.</span><span class=n>has_default_value</span> <span class=o>=</span> <span class=kc>False</span>
      <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>HasField</span><span class=p>(</span><span class=s1>&#39;default_value&#39;</span><span class=p>):</span>
      <span class=n>field_desc</span><span class=o>.</span><span class=n>has_default_value</span> <span class=o>=</span> <span class=kc>True</span>
      <span class=k>if</span> <span class=p>(</span><span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_DOUBLE</span> <span class=ow>or</span>
          <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_FLOAT</span><span class=p>):</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>field_proto</span><span class=o>.</span><span class=n>default_value</span><span class=p>)</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_STRING</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>default_value</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_BOOL</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>default_value</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=o>==</span> <span class=s1>&#39;true&#39;</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_ENUM</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=n>field_desc</span><span class=o>.</span><span class=n>enum_type</span><span class=o>.</span><span class=n>values_by_name</span><span class=p>[</span>
            <span class=n>field_proto</span><span class=o>.</span><span class=n>default_value</span><span class=p>]</span><span class=o>.</span><span class=n>number</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_BYTES</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=n>text_encoding</span><span class=o>.</span><span class=n>CUnescape</span><span class=p>(</span>
            <span class=n>field_proto</span><span class=o>.</span><span class=n>default_value</span><span class=p>)</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_MESSAGE</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=kc>None</span>
      <span class=k>else</span><span class=p>:</span>
        <span class=c1># All other types are of the &quot;int&quot; type.</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>field_proto</span><span class=o>.</span><span class=n>default_value</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>field_desc</span><span class=o>.</span><span class=n>has_default_value</span> <span class=o>=</span> <span class=kc>False</span>
      <span class=k>if</span> <span class=p>(</span><span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_DOUBLE</span> <span class=ow>or</span>
          <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_FLOAT</span><span class=p>):</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=mf>0.0</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_STRING</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=sa>u</span><span class=s1>&#39;&#39;</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_BOOL</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=kc>False</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_ENUM</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=n>field_desc</span><span class=o>.</span><span class=n>enum_type</span><span class=o>.</span><span class=n>values</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=n>number</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_BYTES</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=sa>b</span><span class=s1>&#39;&#39;</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_MESSAGE</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=kc>None</span>
      <span class=k>elif</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>FieldDescriptor</span><span class=o>.</span><span class=n>TYPE_GROUP</span><span class=p>:</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=kc>None</span>
      <span class=k>else</span><span class=p>:</span>
        <span class=c1># All other types are of the &quot;int&quot; type.</span>
        <span class=n>field_desc</span><span class=o>.</span><span class=n>default_value</span> <span class=o>=</span> <span class=mi>0</span>

    <span class=n>field_desc</span><span class=o>.</span><span class=n>type</span> <span class=o>=</span> <span class=n>field_proto</span><span class=o>.</span><span class=n>type</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_MakeEnumValueDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>value_proto</span><span class=p>,</span> <span class=n>index</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a enum value descriptor object from a enum value proto.</span>

<span class=sd>    Args:</span>
<span class=sd>      value_proto: The proto describing the enum value.</span>
<span class=sd>      index: The index of the enum value.</span>

<span class=sd>    Returns:</span>
<span class=sd>      An initialized EnumValueDescriptor object.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>return</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>EnumValueDescriptor</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>value_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
        <span class=n>index</span><span class=o>=</span><span class=n>index</span><span class=p>,</span>
        <span class=n>number</span><span class=o>=</span><span class=n>value_proto</span><span class=o>.</span><span class=n>number</span><span class=p>,</span>
        <span class=n>options</span><span class=o>=</span><span class=n>_OptionsOrNone</span><span class=p>(</span><span class=n>value_proto</span><span class=p>),</span>
        <span class=nb>type</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=c1># pylint: disable=protected-access</span>
        <span class=n>create_key</span><span class=o>=</span><span class=n>descriptor</span><span class=o>.</span><span class=n>_internal_create_key</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_MakeServiceDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>service_proto</span><span class=p>,</span> <span class=n>service_index</span><span class=p>,</span> <span class=n>scope</span><span class=p>,</span>
                             <span class=n>package</span><span class=p>,</span> <span class=n>file_desc</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Make a protobuf ServiceDescriptor given a ServiceDescriptorProto.</span>

<span class=sd>    Args:</span>
<span class=sd>      service_proto: The descriptor_pb2.ServiceDescriptorProto protobuf message.</span>
<span class=sd>      service_index: The index of the service in the File.</span>
<span class=sd>      scope: Dict mapping short and full symbols to message and enum types.</span>
<span class=sd>      package: Optional package name for the new message EnumDescriptor.</span>
<span class=sd>      file_desc: The file containing the service descriptor.</span>

<span class=sd>    Returns:</span>
<span class=sd>      The added descriptor.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>if</span> <span class=n>package</span><span class=p>:</span>
      <span class=n>service_name</span> <span class=o>=</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>((</span><span class=n>package</span><span class=p>,</span> <span class=n>service_proto</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=n>service_name</span> <span class=o>=</span> <span class=n>service_proto</span><span class=o>.</span><span class=n>name</span>

    <span class=n>methods</span> <span class=o>=</span> <span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>_MakeMethodDescriptor</span><span class=p>(</span><span class=n>method_proto</span><span class=p>,</span> <span class=n>service_name</span><span class=p>,</span> <span class=n>package</span><span class=p>,</span>
                                          <span class=n>scope</span><span class=p>,</span> <span class=n>index</span><span class=p>)</span>
               <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>method_proto</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>service_proto</span><span class=o>.</span><span class=n>method</span><span class=p>)]</span>
    <span class=n>desc</span> <span class=o>=</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>ServiceDescriptor</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>service_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
        <span class=n>full_name</span><span class=o>=</span><span class=n>service_name</span><span class=p>,</span>
        <span class=n>index</span><span class=o>=</span><span class=n>service_index</span><span class=p>,</span>
        <span class=n>methods</span><span class=o>=</span><span class=n>methods</span><span class=p>,</span>
        <span class=n>options</span><span class=o>=</span><span class=n>_OptionsOrNone</span><span class=p>(</span><span class=n>service_proto</span><span class=p>),</span>
        <span class=n>file</span><span class=o>=</span><span class=n>file_desc</span><span class=p>,</span>
        <span class=c1># pylint: disable=protected-access</span>
        <span class=n>create_key</span><span class=o>=</span><span class=n>descriptor</span><span class=o>.</span><span class=n>_internal_create_key</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_CheckConflictRegister</span><span class=p>(</span><span class=n>desc</span><span class=p>,</span> <span class=n>desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>,</span> <span class=n>desc</span><span class=o>.</span><span class=n>file</span><span class=o>.</span><span class=n>name</span><span class=p>)</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span><span class=p>[</span><span class=n>service_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>desc</span>
    <span class=k>return</span> <span class=n>desc</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_MakeMethodDescriptor</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>method_proto</span><span class=p>,</span> <span class=n>service_name</span><span class=p>,</span> <span class=n>package</span><span class=p>,</span> <span class=n>scope</span><span class=p>,</span>
                            <span class=n>index</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Creates a method descriptor from a MethodDescriptorProto.</span>

<span class=sd>    Args:</span>
<span class=sd>      method_proto: The proto describing the method.</span>
<span class=sd>      service_name: The name of the containing service.</span>
<span class=sd>      package: Optional package name to look up for types.</span>
<span class=sd>      scope: Scope containing available types.</span>
<span class=sd>      index: Index of the method in the service.</span>

<span class=sd>    Returns:</span>
<span class=sd>      An initialized MethodDescriptor object.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>full_name</span> <span class=o>=</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>((</span><span class=n>service_name</span><span class=p>,</span> <span class=n>method_proto</span><span class=o>.</span><span class=n>name</span><span class=p>))</span>
    <span class=n>input_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_GetTypeFromScope</span><span class=p>(</span>
        <span class=n>package</span><span class=p>,</span> <span class=n>method_proto</span><span class=o>.</span><span class=n>input_type</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>
    <span class=n>output_type</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_GetTypeFromScope</span><span class=p>(</span>
        <span class=n>package</span><span class=p>,</span> <span class=n>method_proto</span><span class=o>.</span><span class=n>output_type</span><span class=p>,</span> <span class=n>scope</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>descriptor</span><span class=o>.</span><span class=n>MethodDescriptor</span><span class=p>(</span>
        <span class=n>name</span><span class=o>=</span><span class=n>method_proto</span><span class=o>.</span><span class=n>name</span><span class=p>,</span>
        <span class=n>full_name</span><span class=o>=</span><span class=n>full_name</span><span class=p>,</span>
        <span class=n>index</span><span class=o>=</span><span class=n>index</span><span class=p>,</span>
        <span class=n>containing_service</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span>
        <span class=n>input_type</span><span class=o>=</span><span class=n>input_type</span><span class=p>,</span>
        <span class=n>output_type</span><span class=o>=</span><span class=n>output_type</span><span class=p>,</span>
        <span class=n>client_streaming</span><span class=o>=</span><span class=n>method_proto</span><span class=o>.</span><span class=n>client_streaming</span><span class=p>,</span>
        <span class=n>server_streaming</span><span class=o>=</span><span class=n>method_proto</span><span class=o>.</span><span class=n>server_streaming</span><span class=p>,</span>
        <span class=n>options</span><span class=o>=</span><span class=n>_OptionsOrNone</span><span class=p>(</span><span class=n>method_proto</span><span class=p>),</span>
        <span class=c1># pylint: disable=protected-access</span>
        <span class=n>create_key</span><span class=o>=</span><span class=n>descriptor</span><span class=o>.</span><span class=n>_internal_create_key</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_ExtractSymbols</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>descriptors</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Pulls out all the symbols from descriptor protos.</span>

<span class=sd>    Args:</span>
<span class=sd>      descriptors: The messages to extract descriptors from.</span>
<span class=sd>    Yields:</span>
<span class=sd>      A two element tuple of the type name and descriptor object.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=k>for</span> <span class=n>desc</span> <span class=ow>in</span> <span class=n>descriptors</span><span class=p>:</span>
      <span class=k>yield</span> <span class=p>(</span><span class=n>_PrefixWithDot</span><span class=p>(</span><span class=n>desc</span><span class=o>.</span><span class=n>full_name</span><span class=p>),</span> <span class=n>desc</span><span class=p>)</span>
      <span class=k>for</span> <span class=n>symbol</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ExtractSymbols</span><span class=p>(</span><span class=n>desc</span><span class=o>.</span><span class=n>nested_types</span><span class=p>):</span>
        <span class=k>yield</span> <span class=n>symbol</span>
      <span class=k>for</span> <span class=n>enum</span> <span class=ow>in</span> <span class=n>desc</span><span class=o>.</span><span class=n>enum_types</span><span class=p>:</span>
        <span class=k>yield</span> <span class=p>(</span><span class=n>_PrefixWithDot</span><span class=p>(</span><span class=n>enum</span><span class=o>.</span><span class=n>full_name</span><span class=p>),</span> <span class=n>enum</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_GetDeps</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>dependencies</span><span class=p>,</span> <span class=n>visited</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Recursively finds dependencies for file protos.</span>

<span class=sd>    Args:</span>
<span class=sd>      dependencies: The names of the files being depended on.</span>
<span class=sd>      visited: The names of files already found.</span>

<span class=sd>    Yields:</span>
<span class=sd>      Each direct and indirect dependency.</span>
<span class=sd>    &quot;&quot;&quot;</span>

    <span class=n>visited</span> <span class=o>=</span> <span class=n>visited</span> <span class=ow>or</span> <span class=nb>set</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>dependency</span> <span class=ow>in</span> <span class=n>dependencies</span><span class=p>:</span>
      <span class=k>if</span> <span class=n>dependency</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>visited</span><span class=p>:</span>
        <span class=n>visited</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>dependency</span><span class=p>)</span>
        <span class=n>dep_desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindFileByName</span><span class=p>(</span><span class=n>dependency</span><span class=p>)</span>
        <span class=k>yield</span> <span class=n>dep_desc</span>
        <span class=n>public_files</span> <span class=o>=</span> <span class=p>[</span><span class=n>d</span><span class=o>.</span><span class=n>name</span> <span class=k>for</span> <span class=n>d</span> <span class=ow>in</span> <span class=n>dep_desc</span><span class=o>.</span><span class=n>public_dependencies</span><span class=p>]</span>
        <span class=k>yield from</span> <span class=bp>self</span><span class=o>.</span><span class=n>_GetDeps</span><span class=p>(</span><span class=n>public_files</span><span class=p>,</span> <span class=n>visited</span><span class=p>)</span>

  <span class=k>def</span><span class=w> </span><span class=nf>_GetTypeFromScope</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>package</span><span class=p>,</span> <span class=n>type_name</span><span class=p>,</span> <span class=n>scope</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Finds a given type name in the current scope.</span>

<span class=sd>    Args:</span>
<span class=sd>      package: The package the proto should be located in.</span>
<span class=sd>      type_name: The name of the type to be found in the scope.</span>
<span class=sd>      scope: Dict mapping short and full symbols to message and enum types.</span>

<span class=sd>    Returns:</span>
<span class=sd>      The descriptor for the requested type.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=n>type_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>scope</span><span class=p>:</span>
      <span class=n>components</span> <span class=o>=</span> <span class=n>_PrefixWithDot</span><span class=p>(</span><span class=n>package</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
      <span class=k>while</span> <span class=n>components</span><span class=p>:</span>
        <span class=n>possible_match</span> <span class=o>=</span> <span class=s1>&#39;.&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>components</span> <span class=o>+</span> <span class=p>[</span><span class=n>type_name</span><span class=p>])</span>
        <span class=k>if</span> <span class=n>possible_match</span> <span class=ow>in</span> <span class=n>scope</span><span class=p>:</span>
          <span class=n>type_name</span> <span class=o>=</span> <span class=n>possible_match</span>
          <span class=k>break</span>
        <span class=k>else</span><span class=p>:</span>
          <span class=n>components</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>scope</span><span class=p>[</span><span class=n>type_name</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.Add class="doc doc-heading"> <code class="highlight language-python"><span class=n>Add</span><span class=p>(</span><span class=n>file_desc_proto</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Adds the FileDescriptorProto and its types to this pool.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>file_desc_proto</code> </td> <td> <code><span title=FileDescriptorProto>FileDescriptorProto</span></code> </td> <td> <div class=doc-md-description> <p>The file descriptor to add.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>Add</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file_desc_proto</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Adds the FileDescriptorProto and its types to this pool.</span>

<span class=sd>  Args:</span>
<span class=sd>    file_desc_proto (FileDescriptorProto): The file descriptor to add.</span>
<span class=sd>  &quot;&quot;&quot;</span>

  <span class=bp>self</span><span class=o>.</span><span class=n>_internal_db</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>file_desc_proto</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.AddSerializedFile class="doc doc-heading"> <code class="highlight language-python"><span class=n>AddSerializedFile</span><span class=p>(</span><span class=n>serialized_file_desc_proto</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Adds the FileDescriptorProto and its types to this pool.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>serialized_file_desc_proto</code> </td> <td> <code><span title=bytes>bytes</span></code> </td> <td> <div class=doc-md-description> <p>A bytes string, serialization of the :class:<code>FileDescriptorProto</code> to add.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FileDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>Descriptor for the added file.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>AddSerializedFile</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>serialized_file_desc_proto</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Adds the FileDescriptorProto and its types to this pool.</span>

<span class=sd>  Args:</span>
<span class=sd>    serialized_file_desc_proto (bytes): A bytes string, serialization of the</span>
<span class=sd>      :class:`FileDescriptorProto` to add.</span>

<span class=sd>  Returns:</span>
<span class=sd>    FileDescriptor: Descriptor for the added file.</span>
<span class=sd>  &quot;&quot;&quot;</span>

  <span class=c1># pylint: disable=g-import-not-at-top</span>
  <span class=kn>from</span><span class=w> </span><span class=nn>google.protobuf</span><span class=w> </span><span class=kn>import</span> <span class=n>descriptor_pb2</span>
  <span class=n>file_desc_proto</span> <span class=o>=</span> <span class=n>descriptor_pb2</span><span class=o>.</span><span class=n>FileDescriptorProto</span><span class=o>.</span><span class=n>FromString</span><span class=p>(</span>
      <span class=n>serialized_file_desc_proto</span><span class=p>)</span>
  <span class=n>file_desc</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertFileProtoToFileDescriptor</span><span class=p>(</span><span class=n>file_desc_proto</span><span class=p>)</span>
  <span class=n>file_desc</span><span class=o>.</span><span class=n>serialized_pb</span> <span class=o>=</span> <span class=n>serialized_file_desc_proto</span>
  <span class=k>return</span> <span class=n>file_desc</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindAllExtensions class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindAllExtensions</span><span class=p>(</span><span class=n>message_descriptor</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Gets all the known extensions of a given message.</p> <p>Extensions have to be registered to this pool by build related :func:<code>Add</code> or :func:<code>AddExtensionDescriptor</code>.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message_descriptor</code> </td> <td> <code><span title=Descriptor>Descriptor</span></code> </td> <td> <div class=doc-md-description> <p>Descriptor of the extended message.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>list[FieldDescriptor]: Field descriptors describing the extensions.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>624</span>
<span class=normal>625</span>
<span class=normal>626</span>
<span class=normal>627</span>
<span class=normal>628</span>
<span class=normal>629</span>
<span class=normal>630</span>
<span class=normal>631</span>
<span class=normal>632</span>
<span class=normal>633</span>
<span class=normal>634</span>
<span class=normal>635</span>
<span class=normal>636</span>
<span class=normal>637</span>
<span class=normal>638</span>
<span class=normal>639</span>
<span class=normal>640</span>
<span class=normal>641</span>
<span class=normal>642</span>
<span class=normal>643</span>
<span class=normal>644</span>
<span class=normal>645</span>
<span class=normal>646</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindAllExtensions</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message_descriptor</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Gets all the known extensions of a given message.</span>

<span class=sd>  Extensions have to be registered to this pool by build related</span>
<span class=sd>  :func:`Add` or :func:`AddExtensionDescriptor`.</span>

<span class=sd>  Args:</span>
<span class=sd>    message_descriptor (Descriptor): Descriptor of the extended message.</span>

<span class=sd>  Returns:</span>
<span class=sd>    list[FieldDescriptor]: Field descriptors describing the extensions.</span>
<span class=sd>  &quot;&quot;&quot;</span>
  <span class=c1># Fallback to descriptor db if FindAllExtensionNumbers is provided.</span>
  <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span> <span class=ow>and</span> <span class=nb>hasattr</span><span class=p>(</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=p>,</span> <span class=s1>&#39;FindAllExtensionNumbers&#39;</span><span class=p>):</span>
    <span class=n>full_name</span> <span class=o>=</span> <span class=n>message_descriptor</span><span class=o>.</span><span class=n>full_name</span>
    <span class=n>all_numbers</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=o>.</span><span class=n>FindAllExtensionNumbers</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
    <span class=k>for</span> <span class=n>number</span> <span class=ow>in</span> <span class=n>all_numbers</span><span class=p>:</span>
      <span class=k>if</span> <span class=n>number</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span><span class=n>message_descriptor</span><span class=p>]:</span>
        <span class=k>continue</span>
      <span class=bp>self</span><span class=o>.</span><span class=n>_TryLoadExtensionFromDB</span><span class=p>(</span><span class=n>message_descriptor</span><span class=p>,</span> <span class=n>number</span><span class=p>)</span>

  <span class=k>return</span> <span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span><span class=n>message_descriptor</span><span class=p>]</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindEnumTypeByName class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindEnumTypeByName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Loads the named enum descriptor from the pool.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>full_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The full name of the enum descriptor to load.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>EnumDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>The enum descriptor for the named type.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>if the enum cannot be found in the pool.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span>
<span class=normal>522</span>
<span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span>
<span class=normal>527</span>
<span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span>
<span class=normal>532</span>
<span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindEnumTypeByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Loads the named enum descriptor from the pool.</span>

<span class=sd>  Args:</span>
<span class=sd>    full_name (str): The full name of the enum descriptor to load.</span>

<span class=sd>  Returns:</span>
<span class=sd>    EnumDescriptor: The enum descriptor for the named type.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: if the enum cannot be found in the pool.</span>
<span class=sd>  &quot;&quot;&quot;</span>

  <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=k>if</span> <span class=n>full_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span><span class=p>:</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindExtensionByName class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindExtensionByName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Loads the named extension descriptor from the pool.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>full_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The full name of the extension descriptor to load.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FieldDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>The field descriptor for the named extension.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>if the extension cannot be found in the pool.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>571</span>
<span class=normal>572</span>
<span class=normal>573</span>
<span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span>
<span class=normal>587</span>
<span class=normal>588</span>
<span class=normal>589</span>
<span class=normal>590</span>
<span class=normal>591</span>
<span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindExtensionByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Loads the named extension descriptor from the pool.</span>

<span class=sd>  Args:</span>
<span class=sd>    full_name (str): The full name of the extension descriptor to load.</span>

<span class=sd>  Returns:</span>
<span class=sd>    FieldDescriptor: The field descriptor for the named extension.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: if the extension cannot be found in the pool.</span>
<span class=sd>  &quot;&quot;&quot;</span>
  <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=k>try</span><span class=p>:</span>
    <span class=c1># The proto compiler does not give any link between the FileDescriptor</span>
    <span class=c1># and top-level extensions unless the FileDescriptorProto is added to</span>
    <span class=c1># the DescriptorDatabase, but this can impact memory usage.</span>
    <span class=c1># So we registered these extensions by name explicitly.</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_toplevel_extensions</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span>
  <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
    <span class=k>pass</span>
  <span class=n>message_name</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>extension_name</span> <span class=o>=</span> <span class=n>full_name</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
  <span class=k>try</span><span class=p>:</span>
    <span class=c1># Most extensions are nested inside a message.</span>
    <span class=n>scope</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindMessageTypeByName</span><span class=p>(</span><span class=n>message_name</span><span class=p>)</span>
  <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
    <span class=c1># Some extensions are defined at file scope.</span>
    <span class=n>scope</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=k>return</span> <span class=n>scope</span><span class=o>.</span><span class=n>extensions_by_name</span><span class=p>[</span><span class=n>extension_name</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindExtensionByNumber class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindExtensionByNumber</span><span class=p>(</span><span class=n>message_descriptor</span><span class=p>,</span> <span class=n>number</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Gets the extension of the specified message with the specified number.</p> <p>Extensions have to be registered to this pool by calling :func:<code>Add</code> or :func:<code>AddExtensionDescriptor</code>.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>message_descriptor</code> </td> <td> <code><span title=Descriptor>Descriptor</span></code> </td> <td> <div class=doc-md-description> <p>descriptor of the extended message.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>number</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Number of the extension field.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FieldDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>The descriptor for the extension.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>when no extension with the given number is known for the specified message.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span>
<span class=normal>614</span>
<span class=normal>615</span>
<span class=normal>616</span>
<span class=normal>617</span>
<span class=normal>618</span>
<span class=normal>619</span>
<span class=normal>620</span>
<span class=normal>621</span>
<span class=normal>622</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindExtensionByNumber</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>message_descriptor</span><span class=p>,</span> <span class=n>number</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Gets the extension of the specified message with the specified number.</span>

<span class=sd>  Extensions have to be registered to this pool by calling :func:`Add` or</span>
<span class=sd>  :func:`AddExtensionDescriptor`.</span>

<span class=sd>  Args:</span>
<span class=sd>    message_descriptor (Descriptor): descriptor of the extended message.</span>
<span class=sd>    number (int): Number of the extension field.</span>

<span class=sd>  Returns:</span>
<span class=sd>    FieldDescriptor: The descriptor for the extension.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: when no extension with the given number is known for the</span>
<span class=sd>      specified message.</span>
<span class=sd>  &quot;&quot;&quot;</span>
  <span class=k>try</span><span class=p>:</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span><span class=n>message_descriptor</span><span class=p>][</span><span class=n>number</span><span class=p>]</span>
  <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_TryLoadExtensionFromDB</span><span class=p>(</span><span class=n>message_descriptor</span><span class=p>,</span> <span class=n>number</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span><span class=p>[</span><span class=n>message_descriptor</span><span class=p>][</span><span class=n>number</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindFieldByName class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindFieldByName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Loads the named field descriptor from the pool.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>full_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The full name of the field descriptor to load.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FieldDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>The field descriptor for the named field.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>if the field cannot be found in the pool.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindFieldByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Loads the named field descriptor from the pool.</span>

<span class=sd>  Args:</span>
<span class=sd>    full_name (str): The full name of the field descriptor to load.</span>

<span class=sd>  Returns:</span>
<span class=sd>    FieldDescriptor: The field descriptor for the named field.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: if the field cannot be found in the pool.</span>
<span class=sd>  &quot;&quot;&quot;</span>
  <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=n>message_name</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>field_name</span> <span class=o>=</span> <span class=n>full_name</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
  <span class=n>message_descriptor</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindMessageTypeByName</span><span class=p>(</span><span class=n>message_name</span><span class=p>)</span>
  <span class=k>return</span> <span class=n>message_descriptor</span><span class=o>.</span><span class=n>fields_by_name</span><span class=p>[</span><span class=n>field_name</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindFileByName class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindFileByName</span><span class=p>(</span><span class=n>file_name</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Gets a FileDescriptor by file name.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>file_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The path to the file to get a descriptor for.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FileDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>The descriptor for the named file.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>if the file cannot be found in the pool.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindFileByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>file_name</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Gets a FileDescriptor by file name.</span>

<span class=sd>  Args:</span>
<span class=sd>    file_name (str): The path to the file to get a descriptor for.</span>

<span class=sd>  Returns:</span>
<span class=sd>    FileDescriptor: The descriptor for the named file.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: if the file cannot be found in the pool.</span>
<span class=sd>  &quot;&quot;&quot;</span>

  <span class=k>try</span><span class=p>:</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_file_descriptors</span><span class=p>[</span><span class=n>file_name</span><span class=p>]</span>
  <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
    <span class=k>pass</span>

  <span class=k>try</span><span class=p>:</span>
    <span class=n>file_proto</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_internal_db</span><span class=o>.</span><span class=n>FindFileByName</span><span class=p>(</span><span class=n>file_name</span><span class=p>)</span>
  <span class=k>except</span> <span class=ne>KeyError</span> <span class=k>as</span> <span class=n>error</span><span class=p>:</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=p>:</span>
      <span class=n>file_proto</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span><span class=o>.</span><span class=n>FindFileByName</span><span class=p>(</span><span class=n>file_name</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
      <span class=k>raise</span> <span class=n>error</span>
  <span class=k>if</span> <span class=ow>not</span> <span class=n>file_proto</span><span class=p>:</span>
    <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span><span class=s1>&#39;Cannot find a file named </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>file_name</span><span class=p>)</span>
  <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_ConvertFileProtoToFileDescriptor</span><span class=p>(</span><span class=n>file_proto</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindFileContainingSymbol class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindFileContainingSymbol</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Gets the FileDescriptor for the file containing the specified symbol.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>symbol</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The name of the symbol to search for.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>FileDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>Descriptor for the file that contains the specified</p> </div> </td> </tr> <tr class=doc-section-item> <td></td> <td> </td> <td> <div class=doc-md-description> <p>symbol.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>if the file cannot be found in the pool.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindFileContainingSymbol</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>symbol</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Gets the FileDescriptor for the file containing the specified symbol.</span>

<span class=sd>  Args:</span>
<span class=sd>    symbol (str): The name of the symbol to search for.</span>

<span class=sd>  Returns:</span>
<span class=sd>    FileDescriptor: Descriptor for the file that contains the specified</span>
<span class=sd>    symbol.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: if the file cannot be found in the pool.</span>
<span class=sd>  &quot;&quot;&quot;</span>

  <span class=n>symbol</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
  <span class=k>try</span><span class=p>:</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_InternalFindFileContainingSymbol</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
  <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
    <span class=k>pass</span>

  <span class=k>try</span><span class=p>:</span>
    <span class=c1># Try fallback database. Build and find again if possible.</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_InternalFindFileContainingSymbol</span><span class=p>(</span><span class=n>symbol</span><span class=p>)</span>
  <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
    <span class=k>raise</span> <span class=ne>KeyError</span><span class=p>(</span><span class=s1>&#39;Cannot find a file containing </span><span class=si>%s</span><span class=s1>&#39;</span> <span class=o>%</span> <span class=n>symbol</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindMessageTypeByName class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindMessageTypeByName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Loads the named descriptor from the pool.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>full_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The full name of the descriptor to load.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>Descriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>The descriptor for the named type.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>if the message cannot be found in the pool.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span>
<span class=normal>508</span>
<span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span>
<span class=normal>515</span>
<span class=normal>516</span>
<span class=normal>517</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindMessageTypeByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Loads the named descriptor from the pool.</span>

<span class=sd>  Args:</span>
<span class=sd>    full_name (str): The full name of the descriptor to load.</span>

<span class=sd>  Returns:</span>
<span class=sd>    Descriptor: The descriptor for the named type.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: if the message cannot be found in the pool.</span>
<span class=sd>  &quot;&quot;&quot;</span>

  <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=k>if</span> <span class=n>full_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span><span class=p>:</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindMethodByName class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindMethodByName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Loads the named service method descriptor from the pool.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>full_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The full name of the method descriptor to load.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>MethodDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>The method descriptor for the service method.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>if the method cannot be found in the pool.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>693</span>
<span class=normal>694</span>
<span class=normal>695</span>
<span class=normal>696</span>
<span class=normal>697</span>
<span class=normal>698</span>
<span class=normal>699</span>
<span class=normal>700</span>
<span class=normal>701</span>
<span class=normal>702</span>
<span class=normal>703</span>
<span class=normal>704</span>
<span class=normal>705</span>
<span class=normal>706</span>
<span class=normal>707</span>
<span class=normal>708</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindMethodByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Loads the named service method descriptor from the pool.</span>

<span class=sd>  Args:</span>
<span class=sd>    full_name (str): The full name of the method descriptor to load.</span>

<span class=sd>  Returns:</span>
<span class=sd>    MethodDescriptor: The method descriptor for the service method.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: if the method cannot be found in the pool.</span>
<span class=sd>  &quot;&quot;&quot;</span>
  <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=n>service_name</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>method_name</span> <span class=o>=</span> <span class=n>full_name</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
  <span class=n>service_descriptor</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindServiceByName</span><span class=p>(</span><span class=n>service_name</span><span class=p>)</span>
  <span class=k>return</span> <span class=n>service_descriptor</span><span class=o>.</span><span class=n>methods_by_name</span><span class=p>[</span><span class=n>method_name</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindOneofByName class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindOneofByName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Loads the named oneof descriptor from the pool.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>full_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The full name of the oneof descriptor to load.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>OneofDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>The oneof descriptor for the named oneof.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>if the oneof cannot be found in the pool.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span>
<span class=normal>559</span>
<span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindOneofByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Loads the named oneof descriptor from the pool.</span>

<span class=sd>  Args:</span>
<span class=sd>    full_name (str): The full name of the oneof descriptor to load.</span>

<span class=sd>  Returns:</span>
<span class=sd>    OneofDescriptor: The oneof descriptor for the named oneof.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: if the oneof cannot be found in the pool.</span>
<span class=sd>  &quot;&quot;&quot;</span>
  <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=n>message_name</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>oneof_name</span> <span class=o>=</span> <span class=n>full_name</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s1>&#39;.&#39;</span><span class=p>)</span>
  <span class=n>message_descriptor</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>FindMessageTypeByName</span><span class=p>(</span><span class=n>message_name</span><span class=p>)</span>
  <span class=k>return</span> <span class=n>message_descriptor</span><span class=o>.</span><span class=n>oneofs_by_name</span><span class=p>[</span><span class=n>oneof_name</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.FindServiceByName class="doc doc-heading"> <code class="highlight language-python"><span class=n>FindServiceByName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Loads the named service descriptor from the pool.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>full_name</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The full name of the service descriptor to load.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>ServiceDescriptor</code></td> <td> </td> <td> <div class=doc-md-description> <p>The service descriptor for the named service.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=KeyError>KeyError</span></code> </td> <td> <div class=doc-md-description> <p>if the service cannot be found in the pool.</p> </div> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>676</span>
<span class=normal>677</span>
<span class=normal>678</span>
<span class=normal>679</span>
<span class=normal>680</span>
<span class=normal>681</span>
<span class=normal>682</span>
<span class=normal>683</span>
<span class=normal>684</span>
<span class=normal>685</span>
<span class=normal>686</span>
<span class=normal>687</span>
<span class=normal>688</span>
<span class=normal>689</span>
<span class=normal>690</span>
<span class=normal>691</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>FindServiceByName</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>full_name</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Loads the named service descriptor from the pool.</span>

<span class=sd>  Args:</span>
<span class=sd>    full_name (str): The full name of the service descriptor to load.</span>

<span class=sd>  Returns:</span>
<span class=sd>    ServiceDescriptor: The service descriptor for the named service.</span>

<span class=sd>  Raises:</span>
<span class=sd>    KeyError: if the service cannot be found in the pool.</span>
<span class=sd>  &quot;&quot;&quot;</span>
  <span class=n>full_name</span> <span class=o>=</span> <span class=n>_NormalizeFullyQualifiedName</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=k>if</span> <span class=n>full_name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span><span class=p>:</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_FindFileContainingSymbolInDb</span><span class=p>(</span><span class=n>full_name</span><span class=p>)</span>
  <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span><span class=p>[</span><span class=n>full_name</span><span class=p>]</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=client.ayon_hiero.vendor.google.protobuf.descriptor_pool.DescriptorPool.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=n>descriptor_db</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Initializes a Pool of proto buffs.</p> <p>The descriptor_db argument to the constructor is provided to allow specialized file descriptor proto lookup code to be triggered on demand. An example would be an implementation which will read and compile a file specified in a call to FindFileByName() and not require the call to Add() at all. Results from this database will be cached internally here as well.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>descriptor_db</code> </td> <td> </td> <td> <div class=doc-md-description> <p>A secondary source of file descriptors.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>client/ayon_hiero/vendor/google/protobuf/descriptor_pool.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>127</span>
<span class=normal>128</span>
<span class=normal>129</span>
<span class=normal>130</span>
<span class=normal>131</span>
<span class=normal>132</span>
<span class=normal>133</span>
<span class=normal>134</span>
<span class=normal>135</span>
<span class=normal>136</span>
<span class=normal>137</span>
<span class=normal>138</span>
<span class=normal>139</span>
<span class=normal>140</span>
<span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>descriptor_db</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
<span class=w>  </span><span class=sd>&quot;&quot;&quot;Initializes a Pool of proto buffs.</span>

<span class=sd>  The descriptor_db argument to the constructor is provided to allow</span>
<span class=sd>  specialized file descriptor proto lookup code to be triggered on demand. An</span>
<span class=sd>  example would be an implementation which will read and compile a file</span>
<span class=sd>  specified in a call to FindFileByName() and not require the call to Add()</span>
<span class=sd>  at all. Results from this database will be cached internally here as well.</span>

<span class=sd>  Args:</span>
<span class=sd>    descriptor_db: A secondary source of file descriptors.</span>
<span class=sd>  &quot;&quot;&quot;</span>

  <span class=bp>self</span><span class=o>.</span><span class=n>_internal_db</span> <span class=o>=</span> <span class=n>descriptor_database</span><span class=o>.</span><span class=n>DescriptorDatabase</span><span class=p>()</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_descriptor_db</span> <span class=o>=</span> <span class=n>descriptor_db</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_descriptors</span> <span class=o>=</span> <span class=p>{}</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_enum_descriptors</span> <span class=o>=</span> <span class=p>{}</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_service_descriptors</span> <span class=o>=</span> <span class=p>{}</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_file_descriptors</span> <span class=o>=</span> <span class=p>{}</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_toplevel_extensions</span> <span class=o>=</span> <span class=p>{}</span>
  <span class=c1># TODO(jieluo): Remove _file_desc_by_toplevel_extension after</span>
  <span class=c1># maybe year 2020 for compatibility issue (with 3.4.1 only).</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_file_desc_by_toplevel_extension</span> <span class=o>=</span> <span class=p>{}</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_top_enum_values</span> <span class=o>=</span> <span class=p>{}</span>
  <span class=c1># We store extensions in two two-level mappings: The first key is the</span>
  <span class=c1># descriptor of the message being extended, the second key is the extension</span>
  <span class=c1># full name or its tag number.</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_name</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>dict</span><span class=p>)</span>
  <span class=bp>self</span><span class=o>.</span><span class=n>_extensions_by_number</span> <span class=o>=</span> <span class=n>collections</span><span class=o>.</span><span class=n>defaultdict</span><span class=p>(</span><span class=nb>dict</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../../..", "features": ["navigation.sections", "navigation.path", "navigation.prune"], "search": "../../../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../../../../assets/javascripts/bundle.c8b220af.min.js></script> </body> </html>